---
title: 多线程—应用
date: 2021-02-12 23:49:06
permalink: /pages/77cbbe/
categories:
  - CoreJava
  - 高级
tags:
  -
---



# 多线程应用

## 限流—防止CPU占用 100%

在没有利用 cpu 来计算时，**不要让 while(true) 空转浪费 cpu**，这时可以**使用 yield 或 sleep 来让出 cpu 的使用权给其他程序**。下面这种情况可能出现在服务器开发时，socket 开发时特别常见，监听调用。注意，一定要在单核下测试才更有说服力（从几乎100%到5%左右）。

### sleep 实现

```java
while(true) {
    try {
        Thread.sleep(50);
    } catch (InterruptedException e) {
        e.printStackTrace();
    }
}
```

*   可以用 wait 或 条件变量达到类似的效果
*   不同的是，后两种都需要加锁，并且需要相应的唤醒操作，一般适用于要进行同步的场景
*   sleep 适用于无需锁同步的场景

