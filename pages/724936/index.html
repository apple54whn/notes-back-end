<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Servlet | conanan&#39;s blog</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/img/favicon.ico">
    <script data-ad-client="ca-pub-7828333725993554" async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="webå‰ç«¯æŠ€æœ¯åšå®¢,ç®€æ´è‡³ä¸Š,ä¸“æ³¨webå‰ç«¯å­¦ä¹ ä¸æ€»ç»“ã€‚JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,githubç­‰æŠ€æœ¯æ–‡ç« ã€‚">
    <meta name="keywords" content="å‰ç«¯åšå®¢,ä¸ªäººæŠ€æœ¯åšå®¢,å‰ç«¯,å‰ç«¯å¼€å‘,å‰ç«¯æ¡†æ¶,webå‰ç«¯,å‰ç«¯é¢è¯•é¢˜,æŠ€æœ¯æ–‡æ¡£,å­¦ä¹ ,é¢è¯•,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    <link rel="preload" href="/assets/css/0.styles.03260d1f.css" as="style"><link rel="preload" href="/assets/js/app.ac5e3ef4.js" as="script"><link rel="preload" href="/assets/js/2.d960b235.js" as="script"><link rel="preload" href="/assets/js/119.ede5fffc.js" as="script"><link rel="prefetch" href="/assets/js/10.949143aa.js"><link rel="prefetch" href="/assets/js/100.122fb3a2.js"><link rel="prefetch" href="/assets/js/101.88060c8d.js"><link rel="prefetch" href="/assets/js/102.06832b28.js"><link rel="prefetch" href="/assets/js/103.a0c17aef.js"><link rel="prefetch" href="/assets/js/104.b38ef641.js"><link rel="prefetch" href="/assets/js/105.603033e4.js"><link rel="prefetch" href="/assets/js/106.6b288074.js"><link rel="prefetch" href="/assets/js/107.1ffec4c0.js"><link rel="prefetch" href="/assets/js/108.c7b79afa.js"><link rel="prefetch" href="/assets/js/109.dda9fbee.js"><link rel="prefetch" href="/assets/js/11.326a1f58.js"><link rel="prefetch" href="/assets/js/110.920cbe6e.js"><link rel="prefetch" href="/assets/js/111.45bfe7f2.js"><link rel="prefetch" href="/assets/js/112.1f11c570.js"><link rel="prefetch" href="/assets/js/113.fab1cc04.js"><link rel="prefetch" href="/assets/js/114.21ea4ed6.js"><link rel="prefetch" href="/assets/js/115.96f65264.js"><link rel="prefetch" href="/assets/js/116.b324c49b.js"><link rel="prefetch" href="/assets/js/117.dc4d308c.js"><link rel="prefetch" href="/assets/js/118.8f152d6d.js"><link rel="prefetch" href="/assets/js/12.23122444.js"><link rel="prefetch" href="/assets/js/120.044161d7.js"><link rel="prefetch" href="/assets/js/121.453c745a.js"><link rel="prefetch" href="/assets/js/122.e3b088eb.js"><link rel="prefetch" href="/assets/js/123.d5a90d16.js"><link rel="prefetch" href="/assets/js/124.7731d89c.js"><link rel="prefetch" href="/assets/js/125.e64126c4.js"><link rel="prefetch" href="/assets/js/126.e46361b1.js"><link rel="prefetch" href="/assets/js/127.067ae046.js"><link rel="prefetch" href="/assets/js/128.59df2a2f.js"><link rel="prefetch" href="/assets/js/129.a2b82230.js"><link rel="prefetch" href="/assets/js/13.6780e0cd.js"><link rel="prefetch" href="/assets/js/130.c20833b9.js"><link rel="prefetch" href="/assets/js/131.da020742.js"><link rel="prefetch" href="/assets/js/132.e20ac455.js"><link rel="prefetch" href="/assets/js/133.f114b097.js"><link rel="prefetch" href="/assets/js/134.49de9e80.js"><link rel="prefetch" href="/assets/js/135.1a24633f.js"><link rel="prefetch" href="/assets/js/136.d5853212.js"><link rel="prefetch" href="/assets/js/137.3a1020dd.js"><link rel="prefetch" href="/assets/js/138.f194f86d.js"><link rel="prefetch" href="/assets/js/139.bf8c1ca0.js"><link rel="prefetch" href="/assets/js/14.08edf279.js"><link rel="prefetch" href="/assets/js/140.c800f5e0.js"><link rel="prefetch" href="/assets/js/141.47afa8e4.js"><link rel="prefetch" href="/assets/js/142.fda2db61.js"><link rel="prefetch" href="/assets/js/143.0224a2e5.js"><link rel="prefetch" href="/assets/js/144.4126fe8d.js"><link rel="prefetch" href="/assets/js/145.9fe0839a.js"><link rel="prefetch" href="/assets/js/146.89a9e1b2.js"><link rel="prefetch" href="/assets/js/147.56419b8e.js"><link rel="prefetch" href="/assets/js/148.03d2b50f.js"><link rel="prefetch" href="/assets/js/149.c1331b6d.js"><link rel="prefetch" href="/assets/js/15.f198e5b9.js"><link rel="prefetch" href="/assets/js/16.00e51c93.js"><link rel="prefetch" href="/assets/js/17.291d3ebc.js"><link rel="prefetch" href="/assets/js/18.017a098e.js"><link rel="prefetch" href="/assets/js/19.61ae84a4.js"><link rel="prefetch" href="/assets/js/20.2fed9841.js"><link rel="prefetch" href="/assets/js/21.0540e3f5.js"><link rel="prefetch" href="/assets/js/22.65f1eb05.js"><link rel="prefetch" href="/assets/js/23.fd9e2f2e.js"><link rel="prefetch" href="/assets/js/24.199ad75b.js"><link rel="prefetch" href="/assets/js/25.005a23bb.js"><link rel="prefetch" href="/assets/js/26.46587fdd.js"><link rel="prefetch" href="/assets/js/27.eaf61373.js"><link rel="prefetch" href="/assets/js/28.12bcc1aa.js"><link rel="prefetch" href="/assets/js/29.2ee78c15.js"><link rel="prefetch" href="/assets/js/3.aae4de15.js"><link rel="prefetch" href="/assets/js/30.5a13fad2.js"><link rel="prefetch" href="/assets/js/31.d559ae93.js"><link rel="prefetch" href="/assets/js/32.d5a38545.js"><link rel="prefetch" href="/assets/js/33.484dfc49.js"><link rel="prefetch" href="/assets/js/34.1a006a06.js"><link rel="prefetch" href="/assets/js/35.12b84d1e.js"><link rel="prefetch" href="/assets/js/36.b2cd4408.js"><link rel="prefetch" href="/assets/js/37.a5859cb8.js"><link rel="prefetch" href="/assets/js/38.96209f1d.js"><link rel="prefetch" href="/assets/js/39.71d70a82.js"><link rel="prefetch" href="/assets/js/4.0e4cf147.js"><link rel="prefetch" href="/assets/js/40.a59b859c.js"><link rel="prefetch" href="/assets/js/41.ebb72a6a.js"><link rel="prefetch" href="/assets/js/42.71f99aa2.js"><link rel="prefetch" href="/assets/js/43.092ff2c9.js"><link rel="prefetch" href="/assets/js/44.d70e216f.js"><link rel="prefetch" href="/assets/js/45.afb733d1.js"><link rel="prefetch" href="/assets/js/46.86c421f9.js"><link rel="prefetch" href="/assets/js/47.6d337ef6.js"><link rel="prefetch" href="/assets/js/48.157e1f1c.js"><link rel="prefetch" href="/assets/js/49.1aed4add.js"><link rel="prefetch" href="/assets/js/5.831f36ca.js"><link rel="prefetch" href="/assets/js/50.b495cbac.js"><link rel="prefetch" href="/assets/js/51.f4a8b763.js"><link rel="prefetch" href="/assets/js/52.beec293d.js"><link rel="prefetch" href="/assets/js/53.2ac4d785.js"><link rel="prefetch" href="/assets/js/54.342112cf.js"><link rel="prefetch" href="/assets/js/55.61e2bfb6.js"><link rel="prefetch" href="/assets/js/56.fa782548.js"><link rel="prefetch" href="/assets/js/57.41bc249e.js"><link rel="prefetch" href="/assets/js/58.c1d5fafb.js"><link rel="prefetch" href="/assets/js/59.4297a34f.js"><link rel="prefetch" href="/assets/js/6.54e4e793.js"><link rel="prefetch" href="/assets/js/60.634948c3.js"><link rel="prefetch" href="/assets/js/61.de4327e7.js"><link rel="prefetch" href="/assets/js/62.c6902476.js"><link rel="prefetch" href="/assets/js/63.737a0e11.js"><link rel="prefetch" href="/assets/js/64.cbe1b041.js"><link rel="prefetch" href="/assets/js/65.2df8f108.js"><link rel="prefetch" href="/assets/js/66.ee7de747.js"><link rel="prefetch" href="/assets/js/67.88edee59.js"><link rel="prefetch" href="/assets/js/68.c29f5efe.js"><link rel="prefetch" href="/assets/js/69.2fedc1f9.js"><link rel="prefetch" href="/assets/js/7.1c00f39e.js"><link rel="prefetch" href="/assets/js/70.0fe4782b.js"><link rel="prefetch" href="/assets/js/71.6c22c273.js"><link rel="prefetch" href="/assets/js/72.1fc7ddbd.js"><link rel="prefetch" href="/assets/js/73.25cb42eb.js"><link rel="prefetch" href="/assets/js/74.e922e1cc.js"><link rel="prefetch" href="/assets/js/75.f48393b6.js"><link rel="prefetch" href="/assets/js/76.72e96818.js"><link rel="prefetch" href="/assets/js/77.3df4edcb.js"><link rel="prefetch" href="/assets/js/78.73c6a652.js"><link rel="prefetch" href="/assets/js/79.22ba589c.js"><link rel="prefetch" href="/assets/js/8.b5f907d4.js"><link rel="prefetch" href="/assets/js/80.2d070db4.js"><link rel="prefetch" href="/assets/js/81.c0bc2539.js"><link rel="prefetch" href="/assets/js/82.4c6a47fa.js"><link rel="prefetch" href="/assets/js/83.a43f597f.js"><link rel="prefetch" href="/assets/js/84.8ce525d0.js"><link rel="prefetch" href="/assets/js/85.6b21aae0.js"><link rel="prefetch" href="/assets/js/86.f6ebabd9.js"><link rel="prefetch" href="/assets/js/87.9acaeb0d.js"><link rel="prefetch" href="/assets/js/88.99cdf592.js"><link rel="prefetch" href="/assets/js/89.58f63450.js"><link rel="prefetch" href="/assets/js/9.053d267f.js"><link rel="prefetch" href="/assets/js/90.1d59f40c.js"><link rel="prefetch" href="/assets/js/91.e8b2a5cd.js"><link rel="prefetch" href="/assets/js/92.b92bba74.js"><link rel="prefetch" href="/assets/js/93.688cad95.js"><link rel="prefetch" href="/assets/js/94.2c11a588.js"><link rel="prefetch" href="/assets/js/95.aa37d1df.js"><link rel="prefetch" href="/assets/js/96.fffa0e6e.js"><link rel="prefetch" href="/assets/js/97.04e9be9f.js"><link rel="prefetch" href="/assets/js/98.2672abca.js"><link rel="prefetch" href="/assets/js/99.c8de1c63.js">
    <link rel="stylesheet" href="/assets/css/0.styles.03260d1f.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/EB-logo.png" alt="conanan's blog" class="logo"> <span class="site-name can-hide">conanan's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><a href="/about/" class="nav-link">å…³äº</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç´¢å¼•" class="dropdown-title"><a href="/archives/" class="link-title">ç´¢å¼•</a> <span class="title" style="display:none;">ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><a href="/pages/4b56bd/" class="link-title">Java</a> <span class="title" style="display:none;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/4b56bd/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/pages/724936/" aria-current="page" class="nav-link router-link-exact-active router-link-active">Java Web</a></li><li class="dropdown-item"><h4>å·¥å…·</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/b18d09/" class="nav-link">Maven</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="DataBase" class="dropdown-title"><a href="/pages/74cdda/" class="link-title">DataBase</a> <span class="title" style="display:none;">DataBase</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/74cdda/" class="nav-link">MySQL</a></li><li class="dropdown-item"><!----> <a href="/pages/4e9f47/" class="nav-link">Redis</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tool" class="dropdown-title"><a href="/pages/89d1e7/" class="link-title">Tool</a> <span class="title" style="display:none;">Tool</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/89d1e7/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/pages/2029ba/" class="nav-link">Vim</a></li><li class="dropdown-item"><!----> <a href="/pages/2029ba/" class="nav-link">Nginx</a></li><li class="dropdown-item"><!----> <a href="/pages/f2d5fb/" class="nav-link">Docker</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.jsdelivr.net/gh/xugaoyi/image_store/blog/20200103123203.jpg"> <div class="blogger-info"><h3>Evan Xu</h3> <span>å‰ç«¯ç•Œçš„å°å­¦ç”Ÿ</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><a href="/about/" class="nav-link">å…³äº</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç´¢å¼•" class="dropdown-title"><a href="/archives/" class="link-title">ç´¢å¼•</a> <span class="title" style="display:none;">ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><a href="/pages/4b56bd/" class="link-title">Java</a> <span class="title" style="display:none;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/4b56bd/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/pages/724936/" aria-current="page" class="nav-link router-link-exact-active router-link-active">Java Web</a></li><li class="dropdown-item"><h4>å·¥å…·</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/b18d09/" class="nav-link">Maven</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="DataBase" class="dropdown-title"><a href="/pages/74cdda/" class="link-title">DataBase</a> <span class="title" style="display:none;">DataBase</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/74cdda/" class="nav-link">MySQL</a></li><li class="dropdown-item"><!----> <a href="/pages/4e9f47/" class="nav-link">Redis</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tool" class="dropdown-title"><a href="/pages/89d1e7/" class="link-title">Tool</a> <span class="title" style="display:none;">Tool</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/89d1e7/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/pages/2029ba/" class="nav-link">Vim</a></li><li class="dropdown-item"><!----> <a href="/pages/2029ba/" class="nav-link">Nginx</a></li><li class="dropdown-item"><!----> <a href="/pages/f2d5fb/" class="nav-link">Docker</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Jakarta EE</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/724936/" aria-current="page" class="active sidebar-link">Servlet</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/724936/#å®ç°-servlet-çš„æ–¹å¼" class="sidebar-link">å®ç° Servlet çš„æ–¹å¼</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/724936/#å®ç°-servlet-æ¥å£" class="sidebar-link">å®ç° Servlet æ¥å£</a></li><li class="sidebar-sub-header"><a href="/pages/724936/#ç»§æ‰¿-genericservlet-æŠ½è±¡ç±»" class="sidebar-link">ç»§æ‰¿ GenericServlet æŠ½è±¡ç±»</a></li><li class="sidebar-sub-header"><a href="/pages/724936/#ç»§æ‰¿-httpservlet-æŠ½è±¡ç±»" class="sidebar-link">ç»§æ‰¿ HttpServlet æŠ½è±¡ç±»</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/724936/#servletconfig" class="sidebar-link">ServletConfig</a></li><li class="sidebar-sub-header"><a href="/pages/724936/#servletcontext" class="sidebar-link">ServletContext</a></li><li class="sidebar-sub-header"><a href="/pages/724936/#servlet3-0" class="sidebar-link">Servlet3.0</a></li><li class="sidebar-sub-header"><a href="/pages/724936/#request" class="sidebar-link">Request</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/724936/#requestç»§æ‰¿ä½“ç³»" class="sidebar-link">Requestç»§æ‰¿ä½“ç³»</a></li><li class="sidebar-sub-header"><a href="/pages/724936/#è·å–è¯·æ±‚æ¶ˆæ¯æ•°æ®" class="sidebar-link">è·å–è¯·æ±‚æ¶ˆæ¯æ•°æ®</a></li><li class="sidebar-sub-header"><a href="/pages/724936/#è·å–è¯·æ±‚å‚æ•°é€šç”¨æ–¹å¼" class="sidebar-link">è·å–è¯·æ±‚å‚æ•°é€šç”¨æ–¹å¼</a></li><li class="sidebar-sub-header"><a href="/pages/724936/#è¯·æ±‚è½¬å‘" class="sidebar-link">è¯·æ±‚è½¬å‘</a></li><li class="sidebar-sub-header"><a href="/pages/724936/#requeståŸŸ" class="sidebar-link">requeståŸŸ</a></li><li class="sidebar-sub-header"><a href="/pages/724936/#ç”¨æˆ·ç™»å½•æ¡ˆä¾‹éœ€æ±‚" class="sidebar-link">ç”¨æˆ·ç™»å½•æ¡ˆä¾‹éœ€æ±‚</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/724936/#response" class="sidebar-link">Response</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/724936/#responseç»§æ‰¿ä½“ç³»" class="sidebar-link">Responseç»§æ‰¿ä½“ç³»</a></li><li class="sidebar-sub-header"><a href="/pages/724936/#è®¾ç½®å“åº”è¡Œä¸­çŠ¶æ€ç " class="sidebar-link">è®¾ç½®å“åº”è¡Œä¸­çŠ¶æ€ç </a></li><li class="sidebar-sub-header"><a href="/pages/724936/#è®¾ç½®å“åº”å¤´" class="sidebar-link">è®¾ç½®å“åº”å¤´</a></li><li class="sidebar-sub-header"><a href="/pages/724936/#è®¾ç½®å“åº”ä½“" class="sidebar-link">è®¾ç½®å“åº”ä½“</a></li><li class="sidebar-sub-header"><a href="/pages/724936/#é‡å®šå‘" class="sidebar-link">é‡å®šå‘</a></li><li class="sidebar-sub-header"><a href="/pages/724936/#è·¯å¾„çš„å†™æ³•" class="sidebar-link">è·¯å¾„çš„å†™æ³•</a></li><li class="sidebar-sub-header"><a href="/pages/724936/#è¾“å‡ºå­—ç¬¦æ•°æ®åˆ°æµè§ˆå™¨-ä¹±ç " class="sidebar-link">è¾“å‡ºå­—ç¬¦æ•°æ®åˆ°æµè§ˆå™¨â€”ä¹±ç </a></li><li class="sidebar-sub-header"><a href="/pages/724936/#è¾“å‡ºå­—èŠ‚æ•°æ®åˆ°æµè§ˆå™¨" class="sidebar-link">è¾“å‡ºå­—èŠ‚æ•°æ®åˆ°æµè§ˆå™¨</a></li><li class="sidebar-sub-header"><a href="/pages/724936/#éªŒè¯ç æ¡ˆä¾‹" class="sidebar-link">éªŒè¯ç æ¡ˆä¾‹</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/724936/#urlç¼–ç " class="sidebar-link">URLç¼–ç </a></li><li class="sidebar-sub-header"><a href="/pages/724936/#æ–‡ä»¶ä¸‹è½½æ¡ˆä¾‹" class="sidebar-link">æ–‡ä»¶ä¸‹è½½æ¡ˆä¾‹</a></li></ul></li><li><a href="/pages/889cae/" class="sidebar-link">Servlet3</a></li><li><a href="/pages/cf018b/" class="sidebar-link">Filter</a></li><li><a href="/pages/625d5c/" class="sidebar-link">Listener</a></li><li><a href="/pages/f62788/" class="sidebar-link">JSP</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Tomcat</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Spring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SpringMVC</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SpringBoot</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SpringDataJPA</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/pages/927e76/" class="sidebar-link">Test</a></li><li><a href="/pages/2ffe27/" class="sidebar-link">Shiro</a></li><li><a href="/pages/16f81e/" class="sidebar-link">Thymeleaf</a></li></ul> <div class="sidebar-slot sidebar-slot-bottom"><!-- æ­£æ–¹å½¢ -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="3508773082"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div></aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-1cd794fe><div class="articleInfo" data-v-1cd794fe><ul class="breadcrumbs" data-v-1cd794fe><li data-v-1cd794fe><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-1cd794fe></a></li> <li data-v-1cd794fe><a href="/categories/?category=Java%20Web" title="åˆ†ç±»" data-v-1cd794fe>Java Web</a></li> <li data-v-1cd794fe><a href="/categories/?category=Jakarta%20EE" title="åˆ†ç±»" data-v-1cd794fe>Jakarta EE</a></li> <!----></ul> <div class="info" data-v-1cd794fe><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-1cd794fe><a href="https://github.com/apple54whn" target="_blank" title="ä½œè€…" class="beLink" data-v-1cd794fe>conanan</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-1cd794fe><a href="javascript:;" data-v-1cd794fe>2021-06-21</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">
          Servlet
        </h1> <div class="page-slot page-slot-top"><!-- å›ºå®š100% * 90pxå¯æ˜¾ç¤ºï¼Œmax-height:90pxæœªè§æ˜¾ç¤º-->
     <ins class="adsbygoogle"
          style="display:inline-block;width:100%;max-height:90px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6625304284"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="theme-vdoing-content content__default"><h1 id="servlet"><a href="#servlet" class="header-anchor">#</a> Servlet</h1> <p>Servletï¼ˆserver appletï¼‰æ˜¯è¿è¡Œåœ¨æœåŠ¡å™¨ç«¯çš„å°ç¨‹åºã€‚æ˜¯ Java EE è§„èŒƒä¹‹ä¸€ã€‚æ˜¯ <strong>JavaWeb ä¸‰å¤§ç»„ä»¶ä¹‹ä¸€</strong>ï¼ˆServletã€Filterã€Listenerï¼‰ï¼Œå¯ä»¥<strong>æ¥æ”¶è¯·æ±‚æ•°æ®ã€å¤„ç†è¯·æ±‚ã€å®Œæˆå“åº”</strong>ã€‚</p> <p>Servlet å®è´¨å°±æ˜¯ä¸€ä¸ª<strong>æ¥å£</strong>ï¼Œå®šä¹‰äº†<strong>Java ç±»èƒ½è¢«</strong>æµè§ˆå™¨è®¿é—®åˆ°ï¼ˆ<strong>æˆ–è€…è¯´è¢« Tomcat ç­‰ Servlet å®¹å™¨è¯†åˆ«</strong>ï¼‰çš„<strong>è§„åˆ™</strong>ã€‚é‚£ä¹ˆæµè§ˆå™¨å¦‚ä½•è®¿é—®Servletï¼Ÿ</p> <p>ç»™ Servlet æŒ‡å®šä¸€ä¸ª<strong>è·¯å¾„</strong>ï¼Œæµè§ˆå™¨é€šè¿‡è®¿é—®è·¯å¾„æ¥è®¿é—®ï¼Œä¸€èˆ¬è·¯å¾„é…ç½®åœ¨<strong>web.xml</strong>ä¸­æˆ–ç›´æ¥<strong>æ³¨è§£</strong>ï¼ˆServlet 3 åï¼‰</p> <h2 id="å®ç°-servlet-çš„æ–¹å¼"><a href="#å®ç°-servlet-çš„æ–¹å¼" class="header-anchor">#</a> å®ç° Servlet çš„æ–¹å¼</h2> <ol><li><p>å®ç°<code>javax.servlet.Servlet</code>æ¥å£</p></li> <li><p>ç»§æ‰¿<code>javax.servlet.GenericServlet</code>æŠ½è±¡ç±»</p></li> <li><p>ç»§æ‰¿<code>javax.servlet.http.HttpServlet</code>æŠ½è±¡ç±»</p> <p>é€šå¸¸æˆ‘ä»¬ä¼šå»ç»§æ‰¿<code>HttpServlet</code>ç±»æ¥å®Œæˆæˆ‘ä»¬çš„Servletï¼Œä½†å­¦ä¹ è¿˜è¦ä»<code>javax.servlet.Servlet</code>æ¥å£å¼€å§‹</p></li></ol> <h3 id="å®ç°-servlet-æ¥å£"><a href="#å®ç°-servlet-æ¥å£" class="header-anchor">#</a> å®ç° Servlet æ¥å£</h3> <h4 id="å®ç°-javax-servlet-servlet-æ¥å£"><a href="#å®ç°-javax-servlet-servlet-æ¥å£" class="header-anchor">#</a> å®ç° javax.servlet.Servlet æ¥å£</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//åˆå§‹åŒ–ï¼Œåœ¨Servletå¯¹è±¡åˆ›å»ºåé©¬ä¸Šæ‰§è¡Œï¼Œåªæ‰§è¡Œä¸€æ¬¡</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">ServletConfig</span> servletConfig<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;init...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//è·å–Servleté…ç½®ä¿¡æ¯,</span>
<span class="token keyword">public</span> <span class="token class-name">ServletConfig</span> <span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//æœåŠ¡ï¼Œæ¯æ¬¡å¤„ç†è¯·æ±‚ä¼šè¢«è°ƒç”¨</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">)</span> 
		<span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span>  <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;service...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		servletResponse<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;hello servlet.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//è·å–Servletä¿¡æ¯ï¼Œå¦‚ç‰ˆæœ¬ï¼Œä½œè€…ç­‰ã€‚ä¸€èˆ¬ä¸ä¼šå»å®ç°</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getServletInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//é”€æ¯ï¼ŒæœåŠ¡å™¨æ­£å¸¸å…³é—­ï¼Œåœ¨Servletè¢«é”€æ¯ä¹‹å‰è°ƒç”¨ï¼Œåªä¼šè¢«è°ƒç”¨ä¸€æ¬¡</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;destroy...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h4 id="é…ç½®web-xml"><a href="#é…ç½®web-xml" class="header-anchor">#</a> é…ç½®web.xml</h4> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>//ç›¸åŒä»£å·
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>cn.itcast01.AServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>//è¦è®¿é—®çš„ç±»ï¼Œå…¨ç±»å
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>//ç›¸åŒä»£å·
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/MyServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>//è®¾ç½®URL
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--  è®¿é—®æ—¶ï¼šhttp://localhost:8080/MyServlet ï¼Œå‰ææ˜¯IDEAä¸­Application contexté…ç½®çš„æ˜¯â€œ/â€ --&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="æ‰§è¡ŒåŸç†"><a href="#æ‰§è¡ŒåŸç†" class="header-anchor">#</a> æ‰§è¡ŒåŸç†</h4> <ol><li><p>å½“TomcatæœåŠ¡å™¨æ¥å—åˆ°å®¢æˆ·ç«¯æµè§ˆå™¨çš„è¯·æ±‚åï¼Œä¼šè§£æè¯·æ±‚URLè·¯å¾„ï¼Œè·å–è®¿é—®çš„Servletçš„èµ„æºè·¯å¾„</p></li> <li><p>æŸ¥æ‰¾web.xmlæ–‡ä»¶ï¼Œæ˜¯å¦æœ‰å¯¹åº”çš„<code>&lt;url-pattern&gt;</code>æ ‡ç­¾ä½“å†…å®¹ã€‚</p></li> <li><p>å¦‚æœæœ‰ï¼Œåˆ™é€šè¿‡<code>&lt;servlet-name&gt;</code>æ‰¾åˆ°å¯¹åº”çš„<code>&lt;servlet-class&gt;</code>å…¨ç±»å</p></li> <li><p>Tomcatä¼šå°†å­—èŠ‚ç æ–‡ä»¶åŠ è½½è¿›å†…å­˜ï¼Œå¹¶ä¸”é€šè¿‡åå°„åˆ›å»ºå…¶å¯¹è±¡ï¼Œè°ƒç”¨å…¶æ–¹æ³•</p> <p>å³Servlet<strong>ç±»</strong>ç”±æˆ‘ä»¬æ¥å†™ï¼Œä½†<strong>å¯¹è±¡ç”±æœåŠ¡å™¨æ¥åˆ›å»º</strong>ï¼Œå¹¶ä¸”<strong>ç”±æœåŠ¡å™¨æ¥è°ƒç”¨ç›¸åº”çš„æ–¹æ³•</strong></p></li></ol> <h4 id="ç”Ÿå‘½å‘¨æœŸæ–¹æ³•"><a href="#ç”Ÿå‘½å‘¨æœŸæ–¹æ³•" class="header-anchor">#</a> ç”Ÿå‘½å‘¨æœŸæ–¹æ³•</h4> <ul><li><p><code>void init(ServletConfig)</code>ï¼š<strong>åˆ›å»ºServletå¯¹è±¡å</strong>ç«‹å³æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³•ï¼ˆåª1æ¬¡ï¼‰ï¼›</p> <ul><li><p>Servletçš„<code>init</code>æ–¹æ³•åªæ‰§è¡Œä¸€æ¬¡ï¼Œè¯´æ˜<strong>ä¸€ä¸ªServletåœ¨å†…å­˜ä¸­åªå­˜åœ¨ä¸€ä¸ªå¯¹è±¡(å•ä¾‹)</strong></p> <ul><li>å¤šç”¨æˆ·åŒæ—¶è®¿é—®å¯èƒ½å­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜</li> <li>è§£å†³ï¼šå°½é‡ä¸è¦åœ¨Servletä¸­å®šä¹‰æˆå‘˜å˜é‡ã€‚å³ä½¿å®šä¹‰äº†æˆå‘˜å˜é‡ï¼Œä¹Ÿä¸è¦å¯¹å…¶ä¿®æ”¹å€¼</li></ul></li> <li><p>Servletä»€ä¹ˆæ—¶å€™è¢«åˆ›å»ºï¼Ÿ</p> <ol><li><strong>é»˜è®¤</strong>æƒ…å†µä¸‹ï¼Œ<strong>ç¬¬ä¸€æ¬¡è¢«è®¿é—®æ—¶</strong>ï¼ŒServletè¢«åˆ›å»ºã€‚å³<code>&lt;load-on-startup&gt;</code>çš„å€¼é»˜è®¤ä¸ºè´Ÿæ•°ã€‚</li> <li>å¯ä»¥<strong>é…ç½®</strong>æ‰§è¡ŒServletçš„<strong>åˆ›å»ºæ—¶æœº</strong>ï¼Œåœ¨æ³¨è§£ä¸­é…ç½®<code>loadOnStartup</code>ï¼Œç»™å‡ºä¸€ä¸ª<strong>éè´Ÿæ•´æ•°</strong>å³å¯ï¼Œæ•°å­—<strong>è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜</strong>ã€‚</li></ol></li></ul></li> <li><p><code>void service(ServletRequest request, ServletResponse response)</code>ï¼š<strong>æ¯æ¬¡å¤„ç†è¯·æ±‚</strong>æ—¶éƒ½ä¼šè¢«è°ƒç”¨ï¼›</p></li> <li><p><code>void destroy()</code>ï¼šæœåŠ¡å™¨<strong>æ­£å¸¸å…³é—­</strong>ï¼Œ<strong>é”€æ¯Servletå¯¹è±¡å‰</strong>æ‰§è¡Œé‡Šæ”¾èµ„æºçš„æ–¹æ³•ï¼ˆåª1æ¬¡ï¼‰ï¼›</p></li></ul> <h3 id="ç»§æ‰¿-genericservlet-æŠ½è±¡ç±»"><a href="#ç»§æ‰¿-genericservlet-æŠ½è±¡ç±»" class="header-anchor">#</a> ç»§æ‰¿ GenericServlet æŠ½è±¡ç±»</h3> <h4 id="ç»§æ‰¿javax-servlet-genericservletæŠ½è±¡ç±»"><a href="#ç»§æ‰¿javax-servlet-genericservletæŠ½è±¡ç±»" class="header-anchor">#</a> ç»§æ‰¿javax.servlet.GenericServletæŠ½è±¡ç±»</h4> <ul><li><p><code>GenericServlet</code>æ˜¯<code>Servlet</code>æ¥å£çš„<strong>å®ç°ç±»</strong>ï¼Œä½†å®ƒæ˜¯ä¸€ä¸ª<strong>æŠ½è±¡ç±»</strong>ï¼Œå®ƒ<strong>å”¯ä¸€çš„æŠ½è±¡æ–¹æ³•å°±æ˜¯<code>service()</code>æ–¹æ³•</strong>ï¼Œå®ƒå°†Servletæ¥å£ä¸­çš„å…¶ä»–4ä¸ªæ–¹æ³•åšäº†ç©ºå®ç°ã€‚</p></li> <li><p>GenericServlet<strong>å®ç°äº†ServletConfigæ¥å£</strong>ï¼ˆ4ä¸ªæ–¹æ³•ï¼‰</p></li> <li><p>GenericServlet<strong>æ·»åŠ äº†<code>init()</code>æ–¹æ³•</strong>ï¼Œè¯¥æ–¹æ³•ä¼š<strong>è¢«<code>init(ServletConfig)</code>æ–¹æ³•è°ƒç”¨</strong></p> <p>å¦‚æœå¸Œæœ›å¯¹Servletè¿›è¡Œåˆå§‹åŒ–ï¼Œé‚£ä¹ˆ<strong>åº”è¯¥é‡å†™<code>init()</code>æ–¹æ³•</strong>ï¼Œè€Œä¸æ˜¯<code>init(ServletConfig)</code>æ–¹æ³•</p></li></ul> <h3 id="ç»§æ‰¿-httpservlet-æŠ½è±¡ç±»"><a href="#ç»§æ‰¿-httpservlet-æŠ½è±¡ç±»" class="header-anchor">#</a> ç»§æ‰¿ HttpServlet æŠ½è±¡ç±»</h3> <h4 id="ç»§æ‰¿javax-servlet-http-httpservletæŠ½è±¡ç±»"><a href="#ç»§æ‰¿javax-servlet-http-httpservletæŠ½è±¡ç±»" class="header-anchor">#</a> ç»§æ‰¿javax.servlet.http.HttpServletæŠ½è±¡ç±»</h4> <p><code>HttpServlet</code>æ˜¯<code>GenericServlet</code>æ¥å£çš„å®ç°ç±»ï¼Œä½†å®ƒä¹Ÿæ˜¯ä¸€ä¸ª<strong>æŠ½è±¡ç±»</strong>ã€‚å¯¹HTTPåè®®çš„ä¸€ç§å°è£…ï¼Œç®€åŒ–æ“ä½œ</p> <h4 id="httpservletå¤„ç†è¯·æ±‚é¡ºåº"><a href="#httpservletå¤„ç†è¯·æ±‚é¡ºåº" class="header-anchor">#</a> HttpServletå¤„ç†è¯·æ±‚é¡ºåº</h4> <ol><li>Tomcat<strong>è°ƒç”¨HttpServletç»§æ‰¿çš„</strong>ç”Ÿå‘½å‘¨æœŸæ–¹æ³•<code>service(ServletRequest sr, ServletResponse srr)</code>å¯¹å‚æ•°è¿›è¡Œ<strong>å¼ºè½¬</strong>ä¸ºHTTPåè®®ç›¸å…³çš„å‚æ•°ç±»å‹</li> <li>ç„¶å<strong>è°ƒç”¨HttpServletæœ¬ç±»çš„</strong><code>service(HttpServletRequest sr, HttpServletResponse srr)</code>æ–¹æ³•</li> <li>è·å–è¯·æ±‚æ–¹æ³•ï¼Œ<strong>æ ¹æ®è¯·æ±‚æ–¹å¼</strong>æ¥è°ƒç”¨<code>doGet()</code>æˆ–<code>doPost()</code>æˆ–å…¶ä»–ï¼Œéœ€è‡ªå·±<strong>é‡å†™</strong>ï¼Œå¦åˆ™è°ƒç”¨åˆ°è¯¥æ–¹æ³•æ—¶è¿”å›<code>405</code></li></ol> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//æ³¨è§£çš„æ–¹å¼ç›´æ¥é…ç½®web.xml</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/ServletAuto&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletAuto</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> 
     <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span><span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> 
        <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;hello auto&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="servletconfig"><a href="#servletconfig" class="header-anchor">#</a> ServletConfig</h2> <ul><li><p>ServletConfigæ¥å£æ˜¯Servletä¸­çš„<code>init()</code>æ–¹æ³•çš„å‚æ•°ç±»å‹ï¼ŒæœåŠ¡å™¨ä¼šåœ¨è°ƒç”¨<code>init()</code>æ–¹æ³•æ—¶ä¼ é€’ServletConfigå¯¹è±¡ç»™<code>init()</code></p> <p><strong>ServletConfigå¯¹è±¡å°è£…</strong>äº†Servletåœ¨<code>web.xml</code>ä¸­çš„<strong>é…ç½®ä¿¡æ¯</strong>ï¼Œå®ƒå¯¹åº”<code>&lt;servlet&gt;</code>å…ƒç´ </p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>daihao1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>cn.itcast01.AServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>zhangsan<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>daihao1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/Aservlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li> <li><p>APIå¦‚ä¸‹ï¼š</p> <ul><li>String <strong>getInitParameter</strong>(String name)ï¼šè·å–<strong>åˆå§‹åŒ–å‚æ•°</strong></li> <li>Enumeration <strong>getInitParameterNames</strong>()ï¼šè·å–<strong>æ‰€æœ‰åˆå§‹åŒ–å‚æ•°çš„åç§°</strong></li> <li>ServletContext <strong>getServletContext</strong>()ï¼š<strong>è·å–ServletContextå¯¹è±¡</strong>ï¼Œè¿™ä¸ªå¯¹è±¡ç¨åä»‹ç»</li> <li>String getServletName()ï¼šè·å–Servleté…ç½®åï¼Œå³<code>&lt;servlet-name&gt;</code>çš„å€¼ï¼›ä¸å¸¸ç”¨</li></ul></li></ul> <h2 id="servletcontext"><a href="#servletcontext" class="header-anchor">#</a> ServletContext</h2> <ul><li><p>Java Webå››å¤§åŸŸå¯¹è±¡ï¼ˆå‰ä¸‰ä¸ªä¸ºServletä¸‰å¤§åŸŸå¯¹è±¡ï¼‰ï¼š</p> <ul><li>application(å½“å‰webåº”ç”¨)ï¼š<strong>ServletContext</strong></li> <li>session(ä¸€æ¬¡ä¼šè¯)ï¼š<strong>HttpSession</strong></li> <li>request(ä¸€æ¬¡è¯·æ±‚)ï¼š<strong>ServletRequest</strong></li> <li>page(jspæœ‰æ•ˆ)ï¼š<strong>PageContext</strong></li></ul></li> <li><p>ServletContextï¼š<strong>ä»£è¡¨æ•´ä¸ªwebåº”ç”¨</strong>ï¼Œå¯ä»¥<strong>å’Œç¨‹åºçš„å®¹å™¨</strong>(æœåŠ¡å™¨)æ¥<strong>é€šä¿¡</strong>ï¼ŒæœåŠ¡å™¨ä¼šä¸ºæ¯ä¸ªåº”ç”¨/WEBç«™ç‚¹åˆ›å»ºä¸€ä¸ªServletContextå¯¹è±¡ã€‚<strong>åˆ›å»ºåœ¨æœåŠ¡å™¨å¯åŠ¨å</strong>å®Œæˆï¼Œ<strong>é”€æ¯åœ¨æœåŠ¡å™¨æ­£å¸¸åƒå…³é—­å‰</strong>å®Œæˆã€‚<strong>ä¸€ä¸ªé¡¹ç›®åªæœ‰ä¸€ä¸ªServletContextå¯¹è±¡</strong>ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨Nå¤šä¸ªServletä¸­æ¥è·å–è¿™ä¸ªå”¯ä¸€çš„å¯¹è±¡ï¼Œä»¥ä¼ é€’æ•°æ®</p></li> <li><p>è·å–</p> <ul><li>é€šè¿‡**<code>HttpServlet</code>**æˆ–<code>GenericServlet</code>è·å–ï¼š<code>this.getServletContext();</code></li> <li>é€šè¿‡**<code>request</code>**å¯¹è±¡è·å–ï¼š<code>request.getServletContext();</code></li></ul></li> <li><p>åŠŸèƒ½ï¼š</p> <ol><li><p><strong>è·å–MIMEç±»å‹</strong>ï¼š<code>String getMimeType(String file)</code></p> <ul><li>MIMEç±»å‹ï¼šåœ¨äº’è”ç½‘é€šä¿¡è¿‡ç¨‹ä¸­å®šä¹‰çš„ä¸€ç§æ–‡ä»¶æ•°æ®ç±»å‹ã€‚æ ¼å¼ï¼š<code>å¤§ç±»å‹/å°ç±»å‹</code>ï¼Œ<code>text/html</code>ã€<code>image/jpeg</code></li></ul></li> <li><p><strong>åŸŸå¯¹è±¡</strong>ï¼š<strong>å…±äº«æ•°æ®</strong>ã€‚ServletContextå¯¹è±¡èŒƒå›´æ˜¯<strong>æ‰€æœ‰ç”¨æˆ·æ‰€æœ‰è¯·æ±‚çš„æ•°æ®</strong></p> <ul><li><code>getAttribute(String name)</code>ï¼š<strong>è·å–</strong>åŸŸå¯¹è±¡ä¸­çš„æ•°æ®</li> <li><code>setAttribute(String name,Object value)</code>ï¼š<strong>å­˜å‚¨</strong>ä¸€ä¸ªåŸŸå±æ€§</li> <li><code>removeAttribute(String name)</code>ï¼š<strong>ç§»é™¤</strong>åŸŸå¯¹è±¡ä¸­çš„åŸŸå±æ€§ï¼ŒnameæŒ‡å®šåŸŸå±æ€§ä¸å­˜åœ¨æ—¶ä¸å˜åŒ–</li> <li><code>Enumeration getAttributeNames()</code>ï¼šè·å–æ‰€æœ‰åŸŸå±æ€§çš„åç§°`</li></ul></li> <li><p>ğŸ”¥è·å–<strong>æ–‡ä»¶çš„çœŸå®</strong>(æœåŠ¡å™¨)<strong>è·¯å¾„</strong>ï¼š<code>String getRealPath(String path)</code>ï¼Œå³å½“å‰Webåº”ç”¨ä¸‹çš„èµ„æºè·¯å¾„ï¼Œä¾‹å­å¦‚ä¸‹ï¼š</p> <ul><li>webç›®å½•ä¸‹èµ„æºè®¿é—®ï¼š<code>getRealPath(&quot;/b.txt&quot;)</code></li> <li>WEB-INFç›®å½•ä¸‹çš„èµ„æºè®¿é—®ï¼š<code>getRealPath(&quot;/WEB-INF/c.txt&quot;)</code></li> <li>srcç›®å½•ä¸‹çš„èµ„æºè®¿é—®ï¼š<code>getRealPath(&quot;/WEB-INF/classes/a.txt&quot;)</code>ï¼Œç”±äºsrcä¸­çš„æ–‡ä»¶æœ€ç»ˆéƒ½ä¼šæ”¾åœ¨classesä¸‹</li></ul></li></ol></li> <li><p><strong>è·å–èµ„æºç›¸å…³æ–¹æ³•å¯¹æ¯”</strong></p> <ul><li><p><strong>è·å–çœŸå®(æœåŠ¡å™¨)è·¯å¾„ï¼š<code>getRealPath(String path)</code></strong>ï¼Œå¯æŸ¥æ‰¾èŒƒå›´æœ€å¹¿æ³›</p></li> <li><p><strong>é€šè¿‡ç±»åŠ è½½å™¨è·å–èµ„æº</strong>ï¼š<code>getResourceAsStream(String path);</code>ï¼Œæ ¹æ®classesæˆ–srcæ¥åˆ¤æ–­è·¯å¾„</p> <ul><li><code>/WEB-INF/classes</code>ï¼ˆsrcä¸­çš„æ–‡ä»¶æœ€ç»ˆéƒ½ä¼šæ”¾åœ¨classesä¸‹ï¼‰å’Œ<code>/WEB-INF/lib</code>æ¯ä¸ª<strong>jar</strong>åŒ…ï¼</li></ul></li> <li><p><strong>Classç±»è·å–èµ„æº</strong>ï¼š<code>InputStream getResourceAsStream(String path)</code>ï¼Œ</p> <ul><li>è·¯å¾„ä»¥<code>/</code>å¼€å¤´ï¼Œç›¸å¯¹classesè·¯å¾„ï¼›è·¯å¾„ä¸ä»¥<code>/</code>å¼€å¤´ï¼Œç›¸å¯¹å½“å‰classæ–‡ä»¶è·¯å¾„</li></ul></li></ul></li> <li><p>ç½‘ç«™è®¿é—®é‡</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">ServletContext</span> servletContext <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Integer</span> count <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span> servletContext<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;count&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>count<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    servletContext<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;count&quot;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
    servletContext<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;count&quot;</span><span class="token punctuation">,</span>count<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
count <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span> servletContext<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;count&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;invite:&quot;</span><span class="token operator">+</span>count<span class="token operator">+</span><span class="token string">&quot;times&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li><p>è·å–åº”ç”¨/WEBç«™ç‚¹åˆå§‹åŒ–å‚æ•°ï¼ˆgetInitParameter()ï¼‰</p> <ul><li>Servletä¹Ÿå¯ä»¥è·å–åˆå§‹åŒ–å‚æ•°ï¼Œä½†å®ƒæ˜¯å±€éƒ¨çš„å‚æ•°(ä¸€ä¸ªServletåªèƒ½è·å–è‡ªå·±çš„åˆå§‹åŒ–å‚æ•°ï¼Œä¸èƒ½è·å–åˆ«äººçš„ï¼Œå³åˆå§‹åŒ–å‚æ•°åªä¸ºä¸€ä¸ªServletå‡†å¤‡)</li> <li>å¯ä»¥é…ç½®<strong>åº”ç”¨çš„åˆå§‹åŒ–å‚æ•°</strong>ï¼Œä¸ºæ‰€æœ‰Servletè€Œç”¨ï¼è¿™éœ€è¦ä½¿ç”¨ServletContextæ‰èƒ½ä½¿ç”¨</li> <li>å¯ä»¥ä½¿ç”¨ServletContextæ¥è·å–åœ¨web.xmlæ–‡ä»¶ä¸­é…ç½®çš„<strong>åº”ç”¨åˆå§‹åŒ–å‚æ•°</strong>ï¼æ³¨æ„ï¼Œåº”ç”¨åˆå§‹åŒ–å‚æ•°ä¸Servletåˆå§‹åŒ–å‚æ•°ä¸åŒï¼ˆSpringä¸­æœ‰ä½¿ç”¨ï¼‰</li></ul></li></ul> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>zhangsan<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">ServletContext</span> servletContext <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> msg <span class="token operator">=</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>servletContext<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="servlet3-0"><a href="#servlet3-0" class="header-anchor">#</a> Servlet3.0</h2> <blockquote><p>JavaEE 6.0 ç‰ˆæœ¬åŠä¹‹åçš„æ–°ç‰ˆæœ¬éƒ½æ”¯æŒ</p></blockquote> <ul><li><p>å¥½å¤„ï¼š</p> <ul><li>æ”¯æŒ<strong>æ³¨è§£é…ç½®</strong>ã€‚å¯ä»¥<strong>ä¸éœ€è¦web.xmläº†</strong>ã€‚</li></ul></li> <li><p>æ­¥éª¤ï¼š</p> <ol><li><p>åˆ›å»ºJavaEEé¡¹ç›®ï¼Œé€‰æ‹©Servletçš„ç‰ˆæœ¬3.0ä»¥ä¸Šï¼Œå¯ä»¥ä¸åˆ›å»ºweb.xml</p></li> <li><p>å®šä¹‰ä¸€ä¸ªç±»ï¼Œå®ç°Servletæ¥å£å¹¶é‡å†™æ–¹æ³•</p></li> <li><p>åœ¨ç±»ä¸Šä½¿ç”¨<code>@WebServlet</code>æ³¨è§£ï¼Œè¿›è¡Œé…ç½®ã€‚<code>@WebServlet(&quot;èµ„æºè·¯å¾„&quot;)</code>ï¼Œå¯ä»¥çœç•¥<code>value</code>æˆ–<code>urlPatterns</code></p> <div class="language-JAVA line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>TYPE<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Documented</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">WebServlet</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span><span class="token comment">//ç›¸å½“äº&lt;Servlet-name&gt;</span>

    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">//ä»£è¡¨urlPatterns()å±æ€§é…ç½®</span>

    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">urlPatterns</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">//ç›¸å½“äº&lt;url-pattern&gt;</span>

    <span class="token keyword">int</span> <span class="token function">loadOnStartup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//ç›¸å½“äº&lt;load-on-startup&gt;</span>
    <span class="token class-name">WebInitParam</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">initParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">boolean</span> <span class="token function">asyncSupported</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> <span class="token function">smallIcon</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> <span class="token function">largeIcon</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> <span class="token function">description</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> <span class="token function">displayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></li></ol></li> <li><p><strong>urlpartten</strong>ï¼š<strong>Servletè®¿é—®è·¯å¾„</strong>ï¼Œç”¨<strong>value</strong>æ›¿ä»£äº†ï¼Œæ‰€ä»¥å¯ä»¥ä¸å†™</p> <ul><li><p><strong>ä¸€ä¸ªServlet</strong>å¯ä»¥å®šä¹‰<strong>å¤šä¸ªè®¿é—®è·¯å¾„</strong> ï¼š <code>@WebServlet({&quot;/d4&quot;,&quot;/dd4&quot;,&quot;/ddd4&quot;})</code></p></li> <li><p><strong>è·¯å¾„å®šä¹‰è§„åˆ™</strong>ï¼š</p> <ul><li><p><strong><code>/</code></strong>ï¼š<strong>ä»…ä¸ä¼šåŒ¹é….jsp</strong>ï¼Œéœ€è¦<strong>é‡Šæ”¾é™æ€èµ„æº</strong>ï¼Œï¼ˆæŸ¥çœ‹Tomcatä¸­web.xmlä¸­ä»‹ç»ï¼‰</p> <ul><li>å®ƒçš„<strong>ä¼˜å…ˆçº§æœ€ä½</strong>ï¼Œå¦‚æœä¸€ä¸ªè¯·æ±‚æ²¡æœ‰äººå¤„ç†ï¼Œä¼šæ‰§è¡Œè¯¥DefaultServletï¼å…¶å®æˆ‘ä»¬åœ¨è®¿é—®index.htmlæ—¶ä¹Ÿæ˜¯åœ¨æ‰§è¡Œè¯¥DefaultServletã€‚</li> <li><strong>ä¸ä¼šé‡å†™å…¶ä»–Servlet</strong>ï¼šå³ä¸åŒ¹é…JSPæ˜¯å› ä¸ºä»»ä½•URLåç¼€ä¸ºjspçš„è®¿é—®ï¼Œéƒ½ä¼šæ‰§è¡Œåä¸ºjspçš„Servlet</li></ul></li> <li><p><strong><code>/*</code></strong>ï¼šå¸¦é€šé…ç¬¦ï¼ˆåŒ¹é…æ‰€æœ‰<strong>è·¯å¾„å‹å’Œåç¼€å‹</strong>URLï¼ŒåŒ…æ‹¬.htmlã€.jspç­‰ï¼‰ï¼Œ<strong>ä¸å»ºè®®ä½¿ç”¨</strong>ï¼Œ<strong>é™¤éç”¨åœ¨Filterä¸­</strong></p> <ul><li><strong>ä¼šé‡å†™å…¶ä»–Servlet</strong>ï¼šåœ¨è®¿é—®jspæ—¶ä¼šæŠ¥404</li></ul></li> <li><p><code>/xxx</code>ï¼šè·¯å¾„åŒ¹é…</p></li> <li><p><code>/xxx/xxx</code>ï¼šå¤šå±‚è·¯å¾„ï¼Œç§°ä¹‹ä¸ºç›®å½•ç»“æ„</p></li> <li><p><code>*.do</code>ï¼šæ‰©å±•ååŒ¹é…ï¼Œ*å‰ä¸èƒ½æœ‰/ï¼Œå¦åˆ™æŠ¥é”™</p></li></ul></li></ul></li></ul> <h2 id="request"><a href="#request" class="header-anchor">#</a> Request</h2> <h3 id="requestç»§æ‰¿ä½“ç³»"><a href="#requestç»§æ‰¿ä½“ç³»" class="header-anchor">#</a> Requestç»§æ‰¿ä½“ç³»</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>ServletRequest æ¥å£
      |
     ç»§æ‰¿
      |
HttpServletRequest æ¥å£
      |
     å®ç°
      |
org.apache.catalina.connector.RequestFacade ç±»ï¼Œç”± Tomcat æä¾›ï¼Œè‹¥æ˜¯å…¶ä»–å®¹å™¨åˆ™ä¸ä¸€æ ·
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>ä»¥ä¸Šä½“ç³»Responseä¹Ÿé€‚ç”¨</p> <h3 id="è·å–è¯·æ±‚æ¶ˆæ¯æ•°æ®"><a href="#è·å–è¯·æ±‚æ¶ˆæ¯æ•°æ®" class="header-anchor">#</a> è·å–è¯·æ±‚æ¶ˆæ¯æ•°æ®</h3> <ul><li><p>è·å–<strong>è¯·æ±‚è¡Œ</strong>æ•°æ®ï¼šå¦‚<code>GET /day14/login?name=zhangsan HTTP/1.1</code></p> <ul><li>è·å–è¯·æ±‚æ–¹å¼ï¼š<code>String getMethod()</code>ï¼Œå¦‚<code>GET</code> ã€‚HttpServletå·²ç»åœ¨å†…éƒ¨ä½¿ç”¨äº†ï¼Œä»¥åç”¨ä¸åˆ°</li> <li>è·å–<strong>è¯·æ±‚URL</strong>ï¼š<code>StringBuffer getRequestURL()</code>ï¼Œå¦‚<code>http://localhost/day14/login/a.html</code>ã€‚<strong>ç»Ÿä¸€èµ„æºå®šä½ç¬¦</strong></li> <li>è·å–<strong>è¯·æ±‚URI</strong>ï¼š<code>String getRequestURI()</code>ï¼Œå¦‚<code>/day14/login</code>ã€‚<strong>ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦</strong>ï¼Œå®ƒ<strong>åŒ…æ‹¬URL</strong></li> <li>è·å–<strong>è™šæ‹Ÿç›®å½•</strong>ï¼š<code>String getContextPath()</code>ï¼Œå¦‚<code>/day14</code></li> <li>è·å–Servletè·¯å¾„ï¼š<code>String getServletPath()</code>ï¼Œå¦‚<code>/login</code></li> <li>è·å–getæ–¹å¼è¯·æ±‚å‚æ•°ï¼š<code>String getQueryString()</code>ï¼Œå¦‚<code>name=zhangsan</code>ï¼Œä»¥åç”¨ä¸åˆ°</li> <li>è·å–åè®®åŠç‰ˆæœ¬ï¼š<code>String getProtocol()</code>ï¼Œå¦‚<code>HTTP/1.1</code></li> <li>è·å–å®¢æˆ·æœºçš„<strong>IPåœ°å€</strong>ï¼š<code>String getRemoteAddr()</code></li></ul></li> <li><p>è·å–<strong>è¯·æ±‚å¤´</strong>æ•°æ®</p> <ul><li>é€šè¿‡<strong>è¯·æ±‚å¤´çš„åç§°è·å–è¯·æ±‚å¤´çš„å€¼</strong>ï¼š<code>String getHeader(String name)</code>ï¼Œä¸åŒºåˆ†å¤§å°å†™ã€‚å¦‚User-Agentã€Referer</li> <li>è·å–æ‰€æœ‰çš„è¯·æ±‚å¤´åç§°ï¼š<code>Enumeration&lt;String&gt; getHeaderNames()</code>ï¼š</li></ul></li> <li><p>è·å–<strong>è¯·æ±‚ä½“</strong>æ•°æ®ï¼ˆåªæœ‰POSTè¯·æ±‚æ–¹å¼ï¼Œæ‰æœ‰è¯·æ±‚ä½“ï¼Œåœ¨è¯·æ±‚ä½“ä¸­å°è£…äº†POSTè¯·æ±‚çš„è¯·æ±‚å‚æ•°ï¼‰ã€‚æ­¥éª¤ï¼š</p> <ol><li><p><strong>è·å–æµå¯¹è±¡</strong></p> <ul><li><code>BufferedReader getReader()</code>ï¼šè·å–<strong>å­—ç¬¦è¾“å…¥æµ</strong>ï¼Œåªèƒ½æ“ä½œå­—ç¬¦æ•°æ®</li> <li><code>ServletInputStream getInputStream()</code>ï¼šè·å–<strong>å­—èŠ‚è¾“å…¥æµ</strong>ï¼Œå¯ä»¥æ“ä½œæ‰€æœ‰ç±»å‹æ•°æ®ã€‚ç»§æ‰¿äº†InputStreamã€‚åœ¨<strong>æ–‡ä»¶ä¸Šä¼ </strong>çŸ¥è¯†ç‚¹åè®²è§£</li></ul></li> <li><p><strong>å†ä»æµå¯¹è±¡ä¸­æ‹¿æ•°æ®</strong></p></li></ol></li></ul> <h3 id="è·å–è¯·æ±‚å‚æ•°é€šç”¨æ–¹å¼"><a href="#è·å–è¯·æ±‚å‚æ•°é€šç”¨æ–¹å¼" class="header-anchor">#</a> è·å–<strong>è¯·æ±‚å‚æ•°é€šç”¨æ–¹</strong>å¼</h3> <ul><li><p>è·å–<strong>è¯·æ±‚å‚æ•°é€šç”¨æ–¹</strong>å¼ï¼ˆä¸è®ºgetè¿˜æ˜¯postè¯·æ±‚æ–¹å¼éƒ½å¯ä»¥ä½¿ç”¨ï¼‰</p> <ul><li><p><strong><code>String getParameter(String name)</code></strong>ï¼š==æ ¹æ®<strong>å‚æ•°åç§°è·å–å‚æ•°å€¼</strong>==    username=zs&amp;password=123</p></li> <li><p><code>String[] getParameterValues(String name)</code>ï¼šæ ¹æ®å‚æ•°åç§°è·å–å‚æ•°å€¼çš„<strong>æ•°ç»„</strong> hobby=xx&amp;hobby=game</p></li> <li><p><strong><code>Map&lt;String,String[]&gt; getParameterMap()</code></strong>ï¼š==è·å–<strong>æ‰€æœ‰å‚æ•°çš„mapé›†åˆ</strong>==</p></li> <li><p><code>Enumeration&lt;String&gt; getParameterNames()</code>ï¼šè·å–æ‰€æœ‰è¯·æ±‚çš„å‚æ•°åç§°</p></li> <li><p><strong>ä¸­æ–‡ä¹±ç é—®é¢˜</strong>ï¼š</p> <ul><li>GETæ–¹å¼ï¼šTomcat 8åŠä»¥ä¸Šç‰ˆæœ¬å·²ç»å°†getæ–¹å¼ä¹±ç é—®é¢˜è§£å†³äº†</li> <li>POSTæ–¹å¼ï¼šä¼šä¹±ç ã€‚åœ¨è·å–å‚æ•°å‰ï¼Œ<strong>è®¾ç½®requestçš„ç¼–ç <code>request.setCharacterEncoding(&quot;utf-8&quot;);</code></strong></li></ul></li> <li><p>è·å–çš„<strong>å‚æ•°å°è£…ä¸ºJavaBean</strong>å¯ä»¥åˆ©ç”¨ Spring æˆ–å…¶ä»–æä¾›çš„ BeanUtils å·¥å…·ç±»ï¼Œ<strong>ç®€åŒ–æ•°æ®å°è£…</strong></p> <ul><li><p>JavaBeanï¼šæ ‡å‡†çš„Javaç±»ï¼ŒåŠŸèƒ½ä¸ºå°è£…æ•°æ®ã€‚è¦æ±‚å¦‚ä¸‹ï¼š</p> <ol><li><p><strong>ç±»</strong>å¿…é¡»è¢«<strong>public</strong>ä¿®é¥°</p></li> <li><p>å¿…é¡»æä¾›<strong>å…¬æœ‰çš„ç©ºå‚çš„æ„é€ å™¨</strong></p></li> <li><p>å±æ€§ä¸€èˆ¬ä½¿ç”¨privateä¿®é¥°</p></li> <li><p>å¯¹å±æ€§æä¾›<strong>å…¬å…±get(æˆ–is)å’Œsetæ–¹æ³•</strong>ï¼Œè‹¥åªæœ‰getæ–¹æ³•æˆ–setæ–¹æ³•ï¼Œé‚£ä¹ˆè¿™ä¸ªå±æ€§æ˜¯åªè¯»æˆ–åªå†™å±æ€§ï¼</p> <ul><li><strong>å±æ€§</strong>ï¼š<strong>setterå’Œgetteræ–¹æ³•æˆªå–åçš„äº§ç‰©ï¼Œä¸æˆå‘˜å˜é‡åæ— å…³</strong>ã€‚getName() --&gt; Name--&gt; name</li></ul></li></ol></li> <li><p>æ–¹æ³•</p> <ul><li><p><code>setProperty(Object bean, String propName)</code></p></li> <li><p><code>getProperty(Object bean,String propName,String propValue)</code>ï¼šæ“ä½œçš„æ˜¯<strong>å±æ€§</strong></p></li> <li><p><strong><code>populate(Object obj , Map map)</code></strong>ï¼šå°†<strong>map</strong>é›†åˆçš„é”®å€¼å¯¹ä¿¡æ¯ï¼Œå°è£…åˆ°å¯¹åº”çš„<strong>JavaBean</strong>å¯¹è±¡ä¸­</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Map</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> map <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameterMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">BeanUtils</span><span class="token punctuation">.</span><span class="token function">populate</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//populateéœ€è¦try...catchã€‚springçš„beanutilså¯èƒ½ä¸ä¸€æ ·</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul></li></ul></li></ul></li></ul> <h3 id="è¯·æ±‚è½¬å‘"><a href="#è¯·æ±‚è½¬å‘" class="header-anchor">#</a> è¯·æ±‚è½¬å‘</h3> <ul><li><p><strong>è¯·æ±‚è½¬å‘</strong>ï¼šä¸€ç§åœ¨æœåŠ¡å™¨<strong>å†…éƒ¨</strong>çš„èµ„æºè·³è½¬æ–¹å¼</p> <ul><li><p>æ­¥éª¤ï¼š</p> <ol><li><p><strong>requestè·å–è¯·æ±‚è½¬å‘å™¨å¯¹è±¡</strong>ï¼š<strong><code>RequestDispatcher getRequestDispatcher(String path)</code></strong>ï¼Œ<strong>Servletè·¯å¾„</strong></p></li> <li><p>ä½¿ç”¨RequestDispatcherå¯¹è±¡æ¥è¿›è¡Œ<strong>è½¬å‘</strong>ï¼š<code>forward(ServletRequest request, ServletResponse response)</code></p> <ul><li><p>è¯·æ±‚åŒ…å«ï¼š<code>include(request,response)</code></p> <blockquote><p>è¯·æ±‚è½¬å‘ï¼šç”±ä¸‹ä¸€ä¸ªServletå®Œæˆå“åº”ä½“ï¼å½“å‰Servletå¯ä»¥è®¾ç½®å“åº”å¤´ï¼ï¼ˆ<span style="font-family:monaco;color:red;font-weight:bold;">ç•™å¤´ä¸ç•™ä½“</span>ï¼‰
è¯·æ±‚åŒ…å«ï¼šç”±ä¸¤ä¸ªServletå…±åŒæœªå®Œæˆå“åº”ä½“ï¼ï¼ˆ<span style="font-family:monaco;color:red;font-weight:bold;">éƒ½ç•™</span>ï¼‰</p></blockquote></li></ul></li></ol></li> <li><p>ç‰¹ç‚¹ï¼š</p> <ol><li>æµè§ˆå™¨<strong>åœ°å€æ è·¯å¾„ä¸å‘ç”Ÿå˜åŒ–</strong></li> <li>è½¬å‘æ˜¯<strong>ä¸€æ¬¡è¯·æ±‚ä¸€æ¬¡å“åº”</strong>ï¼Œä½¿ç”¨åŒä¸€ä¸ªrequestå’Œresponseï¼</li> <li>åªèƒ½è½¬å‘åˆ°<strong>å½“å‰æœåŠ¡å™¨å†…éƒ¨èµ„æº</strong>ä¸­ã€‚</li></ol></li></ul></li></ul> <h3 id="requeståŸŸ"><a href="#requeståŸŸ" class="header-anchor">#</a> requeståŸŸ</h3> <ul><li><p>åŸŸå¯¹è±¡ï¼šä¸€ä¸ªæœ‰ä½œç”¨èŒƒå›´çš„å¯¹è±¡ï¼Œå¯ä»¥åœ¨èŒƒå›´å†…å…±äº«æ•°æ®</p></li> <li><p><strong>requeståŸŸ</strong>ï¼šä»£è¡¨<strong>ä¸€æ¬¡è¯·æ±‚çš„èŒƒå›´</strong>ï¼Œä¸€èˆ¬ç”¨äº<strong>è¯·æ±‚è½¬å‘</strong>çš„å¤šä¸ªèµ„æºä¸­<strong>å…±äº«æ•°æ®</strong></p> <ul><li><p>æ–¹æ³•ï¼š</p> <ol><li><strong><code>void setAttribute(String name,Object obj)</code></strong>ï¼šå­˜å‚¨æ•°æ®</li> <li><strong><code>Object getAttitude(String name)</code></strong>ï¼šé€šè¿‡é”®è·å–å€¼</li> <li><strong><code>void removeAttribute(String name)</code></strong>ï¼šé€šè¿‡é”®ç§»é™¤é”®å€¼å¯¹</li></ol></li></ul></li></ul> <h3 id="ç”¨æˆ·ç™»å½•æ¡ˆä¾‹éœ€æ±‚"><a href="#ç”¨æˆ·ç™»å½•æ¡ˆä¾‹éœ€æ±‚" class="header-anchor">#</a> ç”¨æˆ·ç™»å½•æ¡ˆä¾‹éœ€æ±‚</h3> <ul><li><p>ç¼–å†™login.htmlç™»å½•é¡µé¢ï¼šusername &amp; password ä¸¤ä¸ªè¾“å…¥æ¡†</p> <p>login.htmlä¸­formè¡¨å•çš„actionè·¯å¾„çš„å†™æ³•ï¼š<strong>è™šæ‹Ÿç›®å½•+Servletçš„èµ„æºè·¯å¾„</strong></p></li> <li><p>ä½¿ç”¨Druidæ•°æ®åº“è¿æ¥æ± æŠ€æœ¯,æ“ä½œmysqlï¼Œday14æ•°æ®åº“ä¸­userè¡¨</p></li> <li><p>ä½¿ç”¨JdbcTemplateæŠ€æœ¯å°è£…JDBC</p></li> <li><p>ç™»å½•æˆåŠŸè·³è½¬åˆ°SuccessServletå±•ç¤ºï¼šç™»å½•æˆåŠŸï¼ç”¨æˆ·å,æ¬¢è¿æ‚¨</p></li> <li><p>ç™»å½•å¤±è´¥è·³è½¬åˆ°FailServletå±•ç¤ºï¼šç™»å½•å¤±è´¥ï¼Œç”¨æˆ·åæˆ–å¯†ç é”™è¯¯</p></li></ul> <h2 id="response"><a href="#response" class="header-anchor">#</a> Response</h2> <h3 id="responseç»§æ‰¿ä½“ç³»"><a href="#responseç»§æ‰¿ä½“ç³»" class="header-anchor">#</a> Responseç»§æ‰¿ä½“ç³»</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code></code></pre> <div class="line-numbers-wrapper"></div></div><p><code>ServletResponse</code>           â€”â€” æ¥å£
|	ç»§æ‰¿
<code>HttpServletResponse</code>	  â€”â€” æ¥å£
|	å®ç°
<code>org.apache.catalina.connector.ResponseFacade</code>  â€”â€”ç±»  (Tomcatç¼–å†™çš„)</p> <h3 id="è®¾ç½®å“åº”è¡Œä¸­çŠ¶æ€ç "><a href="#è®¾ç½®å“åº”è¡Œä¸­çŠ¶æ€ç " class="header-anchor">#</a> è®¾ç½®å“åº”è¡Œä¸­çŠ¶æ€ç </h3> <ul><li><p><strong><span style="background:yellow;">setStatus(int sc)</span></strong> --&gt; <strong>è®¾ç½®æ­¤å“åº”çš„çŠ¶æ€ç </strong>ï¼Œå¯ä»¥ç”¨æ¥å‘é€302ã€200æˆ–è€…404ã€500ç­‰</p> <ul><li>sendError(int sc [,String msg]) --&gt; å‘é€é”™è¯¯çŠ¶æ€ç ï¼Œè¿˜å¯ä»¥å¸¦ä¸€ä¸ªé”™è¯¯ä¿¡æ¯ï¼</li></ul></li></ul> <h3 id="è®¾ç½®å“åº”å¤´"><a href="#è®¾ç½®å“åº”å¤´" class="header-anchor">#</a> è®¾ç½®å“åº”å¤´</h3> <p>å¤´å°±æ˜¯ä¸€ä¸ª<strong>é”®å€¼å¯¹</strong>ï¼å¯èƒ½ä¼šå­˜åœ¨ä¸€ä¸ªå¤´ï¼ˆä¸€ä¸ªåç§°ï¼Œä¸€ä¸ªå€¼ï¼‰ï¼Œä¹Ÿå¯èƒ½ä¼šå­˜åœ¨ä¸€ä¸ªå¤´ï¼ˆä¸€ä¸ªåç§°ï¼Œå¤šä¸ªå€¼ï¼ï¼‰</p> <ul><li><p><strong><span style="background:yellow;">setHeader(String n, String val)</span></strong>ï¼šé€‚ç”¨äº<span style="background:yellow;"><strong>å•å€¼</strong></span>çš„å“åº”å¤´ï¼Œä¾‹å¦‚ï¼šresponse.setHeader(&quot;aaa&quot;, &quot;AAA&quot;)</p> <ul><li><p>addHeader(String name, String value)ï¼šé€‚ç”¨äºå¤šå€¼çš„å“åº”å¤´ï¼Œä¸ºæ¯ä¸ªå€¼åˆ†åˆ«è°ƒç”¨</p></li> <li><p><code>&lt;meta&gt;</code><strong>æ ‡ç­¾ä»£æ›¿å“åº”å¤´</strong></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p><strong>Refreshæ¡ˆä¾‹</strong>ï¼ˆ3ç§’åè·³è½¬è‡³å¦ä¸€ä¸ªé¡µé¢ï¼‰ä¹Ÿå¯ä»¥ç†è§£ä¸ºå®šæ—¶é‡å®šå‘</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;after 3s ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//urlä¹Ÿå¯ä»¥æ”¹ä¸ºwww.baidu.comï¼Œè‹¥ä¸è®¾ç½®è¿™ä¸ªå‚æ•°ï¼Œå°±è·³è½¬è‡³å½“å‰é¡µé¢</span>
response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Refresh&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;3,url='DServlet'&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p><strong>ç¦ç”¨æµè§ˆå™¨ç¼“å­˜</strong>(Cache-Controlã€pragmaã€expires)</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Cache-Control&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;no-cache&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Pragma&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;no-cache&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç¼–è¯‘æŒ‡ç¤º</span>
response<span class="token punctuation">.</span><span class="token function">setDateHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Expires&quot;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å¤±æ•ˆæ—¶é—´</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul> <h3 id="è®¾ç½®å“åº”ä½“"><a href="#è®¾ç½®å“åº”ä½“" class="header-anchor">#</a> è®¾ç½®å“åº”ä½“</h3> <blockquote><p>responseçš„ä¸¤ä¸ªæµï¼Œç”¨æ¥å‘å®¢æˆ·ç«¯å‘é€æ•°æ®ï¼ˆä¸èƒ½åŒæ—¶ä½¿ç”¨ï¼Œå¦åˆ™æŠ›<strong>IllegalStateException</strong>å¼‚å¸¸ï¼‰</p></blockquote> <ul><li><strong>ServletOutputStreamï¼ˆå­—èŠ‚è¾“å‡ºæµï¼‰ï¼š<code>resopnse.getOutputStream()</code></strong></li> <li><strong>PrintWriterï¼ˆå­—ç¬¦è¾“å‡ºæµï¼Œéœ€è¦è®¾ç½®ç¼–ç ï¼‰ï¼š<code>response.getWriter()</code></strong>ï¼Œä¸éœ€è¦åˆ·æ–°ç¼“å†²åŒº</li></ul> <h3 id="é‡å®šå‘"><a href="#é‡å®šå‘" class="header-anchor">#</a> é‡å®šå‘</h3> <ul><li><p><strong>é‡å®šå‘</strong>ï¼š<strong>èµ„æºè·³è½¬çš„æ–¹å¼</strong></p></li> <li><p>è®¾ç½®<strong>çŠ¶æ€ç </strong>ä¸º302ï¼Œè®¾ç½®<strong>å“åº”å¤´</strong><code>Location</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>response<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token number">302</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;location&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/day15/responseDemo2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>ç®€å•çš„é‡å®šå‘æ–¹æ³•ï¼š<strong><code>response.sendRedirect()</code></strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token string">&quot;/day15/responseDemo2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p><strong>forwardå’Œredirectçš„åŒºåˆ«</strong></p> <ul><li><p>è½¬å‘çš„ç‰¹ç‚¹ï¼šforward</p> <ol><li><strong>åœ°å€æ è·¯å¾„ä¸å˜</strong></li> <li>è½¬å‘æ˜¯<strong>ä¸€æ¬¡è¯·æ±‚</strong>ï¼Œå¯ä»¥<strong>ä½¿ç”¨requeståŸŸ</strong>æ¥å…±äº«æ•°æ®</li> <li>è½¬å‘åªèƒ½<strong>è®¿é—®å½“å‰æœåŠ¡å™¨ä¸‹çš„èµ„æº</strong></li></ol></li> <li><p>é‡å®šå‘çš„ç‰¹ç‚¹ï¼šredirect</p> <ol><li><strong>åœ°å€æ </strong>å‘ç”Ÿ<strong>å˜</strong>åŒ–</li> <li>é‡å®šå‘æ˜¯<strong>ä¸¤æ¬¡è¯·æ±‚</strong>ã€‚<strong>ä¸èƒ½ä½¿ç”¨requeståŸŸ</strong>æ¥å…±äº«æ•°æ®</li> <li>é‡å®šå‘<strong>å¯ä»¥è®¿é—®å…¶ä»–ç«™ç‚¹</strong>(æœåŠ¡å™¨)çš„èµ„æº</li></ol></li></ul></li></ul> <h3 id="è·¯å¾„çš„å†™æ³•"><a href="#è·¯å¾„çš„å†™æ³•" class="header-anchor">#</a> è·¯å¾„çš„å†™æ³•</h3> <ul><li><p><strong>ç›¸å¯¹è·¯å¾„</strong>ï¼šé€šè¿‡ç›¸å¯¹è·¯å¾„ä¸å¯ä»¥ç¡®å®šå”¯ä¸€èµ„æºï¼Œä»¥**<code>./</code>å¼€å¤´ï¼ˆæˆ–ä¸å†™å®ƒï¼‰çš„è·¯å¾„**ã€‚å¦‚ï¼š<code>./index.html</code></p> <ul><li>è§„åˆ™ï¼šæ‰¾åˆ°å½“å‰èµ„æºæ‰€å±ç›®å½•å’Œç›®æ ‡èµ„æºæ‰€å±ç›®å½•ä¹‹é—´çš„ç›¸å¯¹ä½ç½®å…³ç³»ã€‚<code>./</code>ï¼šå½“å‰ç›®å½•ï¼›<code>../</code>:åé€€ä¸€çº§ç›®å½•</li></ul></li> <li><p><strong>ç»å¯¹è·¯å¾„</strong>ï¼šé€šè¿‡ç»å¯¹è·¯å¾„å¯ä»¥ç¡®å®šå”¯ä¸€èµ„æºï¼Œä»¥**<code>/</code>å¼€å¤´çš„è·¯å¾„**ã€‚å¦‚ï¼š<code>/day15/responseDemo2</code></p> <ul><li><p>è§„åˆ™ï¼šåˆ¤æ–­å®šä¹‰çš„è·¯å¾„æ˜¯<strong>ç»™è°ç”¨</strong>çš„ï¼Ÿ<strong>åˆ¤æ–­å°†æ¥è¯·æ±‚ä»å“ªå„¿å‘å‡º</strong></p> <ul><li><p><strong>ç»™å®¢æˆ·ç«¯æµè§ˆå™¨ä½¿ç”¨</strong>ï¼šéœ€è¦<strong>åŠ è™šæ‹Ÿç›®å½•</strong>(é¡¹ç›®çš„è®¿é—®è·¯å¾„)ï¼Œå»ºè®®<strong>åŠ¨æ€è·å–ï¼š<code>request.getContextPath()</code></strong></p> <ul><li><code>&lt;a&gt;</code>ï¼Œ<code>&lt;form&gt;</code>ï¼Œ<code>redirectè·¯å¾„</code>ã€‚ã€‚ã€‚</li></ul></li> <li><p><strong>ç»™æœåŠ¡å™¨ä½¿ç”¨</strong>ï¼š<strong>ä¸éœ€è¦åŠ è™šæ‹Ÿç›®å½•</strong></p> <ul><li><code>forwardè·¯å¾„</code></li></ul></li></ul></li></ul></li></ul> <h3 id="è¾“å‡ºå­—ç¬¦æ•°æ®åˆ°æµè§ˆå™¨-ä¹±ç "><a href="#è¾“å‡ºå­—ç¬¦æ•°æ®åˆ°æµè§ˆå™¨-ä¹±ç " class="header-anchor">#</a> è¾“å‡ºå­—ç¬¦æ•°æ®åˆ°æµè§ˆå™¨â€”ä¹±ç </h3> <p>ç”±äºæµè§ˆå™¨é»˜è®¤ä½¿ç”¨ GBK æˆ– GB2312 æˆ– UTF-8ï¼Œè€ŒæœåŠ¡å™¨è·å–çš„<strong>æµ</strong>é»˜è®¤ä½¿ç”¨ ISO8859-1ï¼ˆåº”è¯¥æ˜¯ä½¿ç”¨çš„ Servlet å®¹å™¨å¦‚ Tomcat è®¾ç½®çš„ï¼‰ï¼Œä¸æ”¯æŒä¸­æ–‡ã€‚ä¸”ç¼–ç è§£ç ä¸åŒï¼Œå¿…ä¹±ç ã€‚</p> <p>å¯é€šè¿‡å¦‚ä¸‹ä»£ç æŸ¥åˆ°æœåŠ¡å™¨è·å–çš„<strong>æµ</strong>çš„ç¼–ç </p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>response<span class="token punctuation">.</span><span class="token function">getCharacterEncoding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>å¦‚ä½•è§£å†³ä¸­æ–‡ä¹±ç å‘¢ï¼Ÿ</p> <p><strong>è·å–å­—ç¬¦è¾“å‡ºæµä¹‹å‰</strong>è®¾ç½®è¯¥<strong>æµçš„é»˜è®¤ç¼–ç </strong>ï¼Œå‘Šè¯‰æµè§ˆå™¨<strong>å“åº”ä½“ä½¿ç”¨çš„ç¼–ç </strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">getCharacterEncoding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ISO-8859-1</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">getContentType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// null</span>

<span class="token comment">// response.setCharacterEncoding(&quot;UTF-8&quot;);</span>

<span class="token comment">// è®¾ç½® setContentType åä¼šè‡ªåŠ¨è®¾ç½® CharacterEncoding</span>
<span class="token comment">// response.setHeader(&quot;Content-type&quot;,&quot;text/html;charset=utf-8&quot;);// setHeader å°è£…åçš„æ–¹æ³•å¦‚ä¸‹</span>
response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;application/json;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// çº¯æ–‡æœ¬ä¹Ÿå¯ä»¥è®¾ç½®ä¸º text/plain;charset=utf-8</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">getCharacterEncoding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// UTF-8</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">getContentType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// application/json;charset=utf-8</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="è¾“å‡ºå­—èŠ‚æ•°æ®åˆ°æµè§ˆå™¨"><a href="#è¾“å‡ºå­—èŠ‚æ•°æ®åˆ°æµè§ˆå™¨" class="header-anchor">#</a> è¾“å‡ºå­—èŠ‚æ•°æ®åˆ°æµè§ˆå™¨</h3> <ul><li><code>getBytes()</code>ï¼Œè·å–å­—èŠ‚è¾“å‡ºæµå¤–ï¼Œå…¶ä»–å’Œè¾“å‡ºå­—ç¬¦æ•°æ®æ²¡ä»€ä¹ˆåŒºåˆ«</li></ul> <h3 id="éªŒè¯ç æ¡ˆä¾‹"><a href="#éªŒè¯ç æ¡ˆä¾‹" class="header-anchor">#</a> éªŒè¯ç æ¡ˆä¾‹</h3> <blockquote><p>æœ¬è´¨ï¼šå›¾ç‰‡
ç›®çš„ï¼š<strong>é˜²æ­¢æ¶æ„è¡¨å•æ³¨å†Œ</strong></p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//1.åˆ›å»ºéªŒè¯ç å›¾ç‰‡å¯¹è±¡</span>
<span class="token class-name">BufferedImage</span> image <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedImage</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token class-name">BufferedImage</span><span class="token punctuation">.</span>TYPE_INT_RGB<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//2.ç¾åŒ–å›¾ç‰‡</span>
<span class="token comment">//2.1 å¡«å……èƒŒæ™¯è‰²</span>
<span class="token class-name">Graphics</span> g <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token function">getGraphics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç”»ç¬”å¯¹è±¡</span>
g<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>PINK<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è®¾ç½®ç”»ç¬”é¢œè‰²</span>
g<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>width<span class="token punctuation">,</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//2.2ç”»è¾¹æ¡†</span>
g<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>BLUE<span class="token punctuation">)</span><span class="token punctuation">;</span>
g<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>width <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>height <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token string">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghigklmnopqrstuvwxyz0123456789&quot;</span><span class="token punctuation">;</span>
<span class="token comment">//ç”Ÿæˆéšæœºè§’æ ‡</span>
<span class="token class-name">Random</span> ran <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> index <span class="token operator">=</span> ran<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">char</span> ch <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//éšæœºå­—ç¬¦</span>
    g<span class="token punctuation">.</span><span class="token function">drawString</span><span class="token punctuation">(</span>ch<span class="token operator">+</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>width<span class="token operator">/</span><span class="token number">5</span><span class="token operator">*</span>i<span class="token punctuation">,</span>height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å†™éªŒè¯ç </span>
<span class="token punctuation">}</span>

<span class="token comment">//2.4ç”»å¹²æ‰°çº¿</span>
g<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>GREEN<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//éšæœºç”Ÿæˆåæ ‡ç‚¹</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> x1 <span class="token operator">=</span> ran<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> x2 <span class="token operator">=</span> ran<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> y1 <span class="token operator">=</span> ran<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> y2 <span class="token operator">=</span> ran<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
    g<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span>y1<span class="token punctuation">,</span>x2<span class="token punctuation">,</span>y2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//3.å°†å›¾ç‰‡è¾“å‡ºåˆ°é¡µé¢å±•ç¤º</span>
<span class="token class-name">ImageIO</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span><span class="token string">&quot;jpg&quot;</span><span class="token punctuation">,</span>response<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//ç‚¹å‡»å›¾ç‰‡æ›´æ¢ä¸‹ä¸€å¼ </span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;verifyCode&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//åŠ æ—¶é—´æˆ³çš„æ¯«ç§’å€¼</span>
    <span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;/day15/checkCodeServlet?&quot;</span> <span class="token operator">+</span> date<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="urlç¼–ç "><a href="#urlç¼–ç " class="header-anchor">#</a> URLç¼–ç </h2> <ul><li><p>è¡¨å•çš„ç±»å‹ï¼šContent-Type: application/x-www-form-urlencodedï¼Œå°±æ˜¯æŠŠä¸­æ–‡è½¬æ¢æˆ%åé¢è·Ÿä¸¤ä½çš„16è¿›åˆ¶</p> <p>ä¸ºä»€ä¹ˆè¦ç”¨å®ƒï¼šåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ä¼ é€’ä¸­æ–‡æ—¶éœ€è¦æŠŠå®ƒè½¬æ¢æˆç½‘ç»œé€‚åˆçš„æ–¹å¼</p></li> <li><p><strong>å®ƒä¸æ˜¯å­—ç¬¦ç¼–ç </strong>ï¼Œå®ƒæ˜¯ç”¨æ¥åœ¨å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´ä¼ é€’å‚æ•°ç”¨çš„ä¸€ç§æ–¹å¼</p></li> <li><p>URLç¼–ç éœ€è¦å…ˆæŒ‡å®šä¸€ç§å­—ç¬¦ç¼–ç ï¼ŒæŠŠ<strong>å­—ç¬¦ä¸²è§£ç åï¼Œå¾—åˆ°byte[]ï¼Œç„¶åæŠŠå°äº0çš„å­—èŠ‚+256ï¼Œå†è½¬æ¢æˆ16è¿›åˆ¶ã€‚å‰é¢å†æ·»åŠ ä¸€ä¸ª%</strong></p></li> <li><p><strong>POST</strong>è¯·æ±‚é»˜è®¤å°±ä½¿ç”¨URLç¼–ç ï¼tomcatä¼šè‡ªåŠ¨ä½¿ç”¨URLè§£ç </p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token class-name">URLEncoder</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> <span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//URLç¼–ç ï¼š</span>
<span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token class-name">URLDecoder</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> <span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//URLè§£ç ï¼š</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>æœ€åæˆ‘ä»¬éœ€è¦æŠŠé“¾æ¥ä¸­çš„ä¸­æ–‡å‚æ•°ï¼Œä½¿ç”¨urlæ¥ç¼–ç ï¼å­¦äº†jspå°±å¯ä»¥</p></li></ul> <h2 id="æ–‡ä»¶ä¸‹è½½æ¡ˆä¾‹"><a href="#æ–‡ä»¶ä¸‹è½½æ¡ˆä¾‹" class="header-anchor">#</a> æ–‡ä»¶ä¸‹è½½æ¡ˆä¾‹</h2> <ul><li><p>æ–‡ä»¶ä¸‹è½½éœ€æ±‚ï¼š</p> <ol><li>é¡µé¢æ˜¾ç¤ºè¶…é“¾æ¥</li> <li>ç‚¹å‡»è¶…é“¾æ¥åå¼¹å‡ºä¸‹è½½æç¤ºæ¡†</li> <li>å®Œæˆå›¾ç‰‡æ–‡ä»¶ä¸‹è½½</li></ol></li> <li><p>åˆ†æï¼š</p> <ol><li>è¶…é“¾æ¥æŒ‡å‘çš„èµ„æºå¦‚æœèƒ½å¤Ÿè¢«æµè§ˆå™¨è§£æï¼Œåˆ™åœ¨æµè§ˆå™¨ä¸­å±•ç¤ºï¼Œå¦‚æœä¸èƒ½è§£æï¼Œåˆ™å¼¹å‡ºä¸‹è½½æç¤ºæ¡†ã€‚ä¸æ»¡è¶³éœ€æ±‚</li> <li>è¦æ±‚ä»»ä½•èµ„æºéƒ½å¿…é¡»å¼¹å‡ºä¸‹è½½æç¤ºæ¡†</li> <li>ä½¿ç”¨å“åº”å¤´è®¾ç½®èµ„æºçš„æ‰“å¼€æ–¹å¼ï¼š<code>content-disposition:attachment;filename=xxx</code></li></ol></li> <li><p>æ­¥éª¤ï¼š</p> <ol><li>å®šä¹‰é¡µé¢ï¼Œç¼–è¾‘è¶…é“¾æ¥hrefå±æ€§ï¼ŒæŒ‡å‘Servletï¼Œ<strong>ä¼ é€’èµ„æºåç§°<code>?filename=xxx</code></strong></li> <li>å®šä¹‰Servlet
3. è·å–æ–‡ä»¶åç§°
4. ä½¿ç”¨å­—èŠ‚è¾“å…¥æµåŠ è½½æ–‡ä»¶è¿›å†…å­˜
5. æŒ‡å®šresponseçš„å“åº”å¤´ï¼š <code>content-disposition:attachment;filename=xxx</code>6. å°†æ•°æ®å†™å‡ºåˆ°responseè¾“å‡ºæµ</li></ol></li> <li><p>ä¸­æ–‡æ–‡ä»¶åé—®é¢˜</p> <ul><li><p>è§£å†³æ€è·¯ï¼š</p> <ol><li>è·å–å®¢æˆ·ç«¯ä½¿ç”¨çš„æµè§ˆå™¨ç‰ˆæœ¬ä¿¡æ¯</li> <li>æ ¹æ®ä¸åŒçš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œè®¾ç½®filenameçš„ç¼–ç æ–¹å¼ä¸åŒ</li></ol></li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//1.è·å–è¯·æ±‚å‚æ•°ï¼Œæ–‡ä»¶åç§°</span>
<span class="token class-name">String</span> filename <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;filename&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//2.ä½¿ç”¨å­—èŠ‚è¾“å…¥æµåŠ è½½æ–‡ä»¶è¿›å†…å­˜</span>
<span class="token comment">//2.1æ‰¾åˆ°æ–‡ä»¶æœåŠ¡å™¨è·¯å¾„</span>
<span class="token class-name">String</span> realPath <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token string">&quot;/img/&quot;</span> <span class="token operator">+</span> filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//2.2ç”¨å­—èŠ‚æµå…³è”</span>
<span class="token class-name">FileInputStream</span> fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>realPath<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//3.è®¾ç½®responseçš„å“åº”å¤´</span>
<span class="token comment">//3.1è®¾ç½®å“åº”å¤´ç±»å‹ï¼šcontent-type</span>
<span class="token class-name">String</span> mimeType <span class="token operator">=</span> servletContext<span class="token punctuation">.</span><span class="token function">getMimeType</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è·å–æ–‡ä»¶çš„mimeç±»å‹</span>
response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;content-type&quot;</span><span class="token punctuation">,</span>mimeType<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//3.2è®¾ç½®å“åº”å¤´æ‰“å¼€æ–¹å¼:content-disposition</span>

<span class="token comment">//è§£å†³ä¸­æ–‡æ–‡ä»¶åé—®é¢˜</span>
<span class="token comment">//1.è·å–user-agentè¯·æ±‚å¤´ã€</span>
<span class="token class-name">String</span> agent <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token string">&quot;user-agent&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//2.ä½¿ç”¨å·¥å…·ç±»æ–¹æ³•ç¼–ç æ–‡ä»¶åå³å¯</span>
filename <span class="token operator">=</span> <span class="token class-name">DownLoadUtils</span><span class="token punctuation">.</span><span class="token function">getFileName</span><span class="token punctuation">(</span>agent<span class="token punctuation">,</span> filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;content-disposition&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;attachment;filename=&quot;</span><span class="token operator">+</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//4.å°†è¾“å…¥æµçš„æ•°æ®å†™å‡ºåˆ°è¾“å‡ºæµä¸­</span>
<span class="token class-name">ServletOutputStream</span> sos <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buff <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> fis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buff<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    sos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>buff<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
fis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div></li></ul></div></div> <div class="page-slot page-slot-bottom"><!-- æ¨ªå‘è‡ªé€‚åº” -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6620245489"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/xugaoyi/vuepress-theme-vdoing/edit/master/docs/200.Java Web/100.Jakarta EE/101.Servlet.md" target="_blank" rel="noopener noreferrer">ç¼–è¾‘</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2021/06/21, 15:45:42</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><!----> <a href="/pages/889cae/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Servlet3</div></a></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/pages/889cae/">Servlet3</a>â†’
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">æœ€è¿‘æ›´æ–°</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/7fcc72/"><div>çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸ</div></a> <span>07-06</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/a4ef99/"><div>çº¿ç¨‹å®‰å…¨ç†è®º</div></a> <span>06-24</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/890a0b/"><div>å¹¶å‘ç®€å²</div></a> <span>06-24</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">æ›´å¤šæ–‡ç« &gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:894072666@qq.com" title="å‘é‚®ä»¶" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/xugaoyi" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="å¬éŸ³ä¹" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2019-2021
    <span>Evan Xu | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <!----> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><i class="close-but">Ã—</i> <div><!-- å›ºå®š160*160px -->
      <ins class="adsbygoogle"
          style="display:inline-block;max-width:160px;max-height:160px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="8377369658"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      </div></div></div></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.ac5e3ef4.js" defer></script><script src="/assets/js/2.d960b235.js" defer></script><script src="/assets/js/119.ede5fffc.js" defer></script>
  </body>
</html>