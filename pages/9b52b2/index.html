<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š | conanan&#39;s blog</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/img/favicon.ico">
    <script data-ad-client="ca-pub-7828333725993554" async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="webå‰ç«¯æŠ€æœ¯åšå®¢,ç®€æ´è‡³ä¸Š,ä¸“æ³¨webå‰ç«¯å­¦ä¹ ä¸æ€»ç»“ã€‚JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,githubç­‰æŠ€æœ¯æ–‡ç« ã€‚">
    <meta name="keywords" content="å‰ç«¯åšå®¢,ä¸ªäººæŠ€æœ¯åšå®¢,å‰ç«¯,å‰ç«¯å¼€å‘,å‰ç«¯æ¡†æ¶,webå‰ç«¯,å‰ç«¯é¢è¯•é¢˜,æŠ€æœ¯æ–‡æ¡£,å­¦ä¹ ,é¢è¯•,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    <link rel="preload" href="/assets/css/0.styles.03260d1f.css" as="style"><link rel="preload" href="/assets/js/app.ac5e3ef4.js" as="script"><link rel="preload" href="/assets/js/2.d960b235.js" as="script"><link rel="preload" href="/assets/js/129.a2b82230.js" as="script"><link rel="prefetch" href="/assets/js/10.949143aa.js"><link rel="prefetch" href="/assets/js/100.122fb3a2.js"><link rel="prefetch" href="/assets/js/101.88060c8d.js"><link rel="prefetch" href="/assets/js/102.06832b28.js"><link rel="prefetch" href="/assets/js/103.a0c17aef.js"><link rel="prefetch" href="/assets/js/104.b38ef641.js"><link rel="prefetch" href="/assets/js/105.603033e4.js"><link rel="prefetch" href="/assets/js/106.6b288074.js"><link rel="prefetch" href="/assets/js/107.1ffec4c0.js"><link rel="prefetch" href="/assets/js/108.c7b79afa.js"><link rel="prefetch" href="/assets/js/109.dda9fbee.js"><link rel="prefetch" href="/assets/js/11.326a1f58.js"><link rel="prefetch" href="/assets/js/110.920cbe6e.js"><link rel="prefetch" href="/assets/js/111.45bfe7f2.js"><link rel="prefetch" href="/assets/js/112.1f11c570.js"><link rel="prefetch" href="/assets/js/113.fab1cc04.js"><link rel="prefetch" href="/assets/js/114.21ea4ed6.js"><link rel="prefetch" href="/assets/js/115.96f65264.js"><link rel="prefetch" href="/assets/js/116.b324c49b.js"><link rel="prefetch" href="/assets/js/117.dc4d308c.js"><link rel="prefetch" href="/assets/js/118.8f152d6d.js"><link rel="prefetch" href="/assets/js/119.ede5fffc.js"><link rel="prefetch" href="/assets/js/12.23122444.js"><link rel="prefetch" href="/assets/js/120.044161d7.js"><link rel="prefetch" href="/assets/js/121.453c745a.js"><link rel="prefetch" href="/assets/js/122.e3b088eb.js"><link rel="prefetch" href="/assets/js/123.d5a90d16.js"><link rel="prefetch" href="/assets/js/124.7731d89c.js"><link rel="prefetch" href="/assets/js/125.e64126c4.js"><link rel="prefetch" href="/assets/js/126.e46361b1.js"><link rel="prefetch" href="/assets/js/127.067ae046.js"><link rel="prefetch" href="/assets/js/128.59df2a2f.js"><link rel="prefetch" href="/assets/js/13.6780e0cd.js"><link rel="prefetch" href="/assets/js/130.c20833b9.js"><link rel="prefetch" href="/assets/js/131.da020742.js"><link rel="prefetch" href="/assets/js/132.e20ac455.js"><link rel="prefetch" href="/assets/js/133.f114b097.js"><link rel="prefetch" href="/assets/js/134.49de9e80.js"><link rel="prefetch" href="/assets/js/135.1a24633f.js"><link rel="prefetch" href="/assets/js/136.d5853212.js"><link rel="prefetch" href="/assets/js/137.3a1020dd.js"><link rel="prefetch" href="/assets/js/138.f194f86d.js"><link rel="prefetch" href="/assets/js/139.bf8c1ca0.js"><link rel="prefetch" href="/assets/js/14.08edf279.js"><link rel="prefetch" href="/assets/js/140.c800f5e0.js"><link rel="prefetch" href="/assets/js/141.47afa8e4.js"><link rel="prefetch" href="/assets/js/142.fda2db61.js"><link rel="prefetch" href="/assets/js/143.0224a2e5.js"><link rel="prefetch" href="/assets/js/144.4126fe8d.js"><link rel="prefetch" href="/assets/js/145.9fe0839a.js"><link rel="prefetch" href="/assets/js/146.89a9e1b2.js"><link rel="prefetch" href="/assets/js/147.56419b8e.js"><link rel="prefetch" href="/assets/js/148.03d2b50f.js"><link rel="prefetch" href="/assets/js/149.c1331b6d.js"><link rel="prefetch" href="/assets/js/15.f198e5b9.js"><link rel="prefetch" href="/assets/js/16.00e51c93.js"><link rel="prefetch" href="/assets/js/17.291d3ebc.js"><link rel="prefetch" href="/assets/js/18.017a098e.js"><link rel="prefetch" href="/assets/js/19.61ae84a4.js"><link rel="prefetch" href="/assets/js/20.2fed9841.js"><link rel="prefetch" href="/assets/js/21.0540e3f5.js"><link rel="prefetch" href="/assets/js/22.65f1eb05.js"><link rel="prefetch" href="/assets/js/23.fd9e2f2e.js"><link rel="prefetch" href="/assets/js/24.199ad75b.js"><link rel="prefetch" href="/assets/js/25.005a23bb.js"><link rel="prefetch" href="/assets/js/26.46587fdd.js"><link rel="prefetch" href="/assets/js/27.eaf61373.js"><link rel="prefetch" href="/assets/js/28.12bcc1aa.js"><link rel="prefetch" href="/assets/js/29.2ee78c15.js"><link rel="prefetch" href="/assets/js/3.aae4de15.js"><link rel="prefetch" href="/assets/js/30.5a13fad2.js"><link rel="prefetch" href="/assets/js/31.d559ae93.js"><link rel="prefetch" href="/assets/js/32.d5a38545.js"><link rel="prefetch" href="/assets/js/33.484dfc49.js"><link rel="prefetch" href="/assets/js/34.1a006a06.js"><link rel="prefetch" href="/assets/js/35.12b84d1e.js"><link rel="prefetch" href="/assets/js/36.b2cd4408.js"><link rel="prefetch" href="/assets/js/37.a5859cb8.js"><link rel="prefetch" href="/assets/js/38.96209f1d.js"><link rel="prefetch" href="/assets/js/39.71d70a82.js"><link rel="prefetch" href="/assets/js/4.0e4cf147.js"><link rel="prefetch" href="/assets/js/40.a59b859c.js"><link rel="prefetch" href="/assets/js/41.ebb72a6a.js"><link rel="prefetch" href="/assets/js/42.71f99aa2.js"><link rel="prefetch" href="/assets/js/43.092ff2c9.js"><link rel="prefetch" href="/assets/js/44.d70e216f.js"><link rel="prefetch" href="/assets/js/45.afb733d1.js"><link rel="prefetch" href="/assets/js/46.86c421f9.js"><link rel="prefetch" href="/assets/js/47.6d337ef6.js"><link rel="prefetch" href="/assets/js/48.157e1f1c.js"><link rel="prefetch" href="/assets/js/49.1aed4add.js"><link rel="prefetch" href="/assets/js/5.831f36ca.js"><link rel="prefetch" href="/assets/js/50.b495cbac.js"><link rel="prefetch" href="/assets/js/51.f4a8b763.js"><link rel="prefetch" href="/assets/js/52.beec293d.js"><link rel="prefetch" href="/assets/js/53.2ac4d785.js"><link rel="prefetch" href="/assets/js/54.342112cf.js"><link rel="prefetch" href="/assets/js/55.61e2bfb6.js"><link rel="prefetch" href="/assets/js/56.fa782548.js"><link rel="prefetch" href="/assets/js/57.41bc249e.js"><link rel="prefetch" href="/assets/js/58.c1d5fafb.js"><link rel="prefetch" href="/assets/js/59.4297a34f.js"><link rel="prefetch" href="/assets/js/6.54e4e793.js"><link rel="prefetch" href="/assets/js/60.634948c3.js"><link rel="prefetch" href="/assets/js/61.de4327e7.js"><link rel="prefetch" href="/assets/js/62.c6902476.js"><link rel="prefetch" href="/assets/js/63.737a0e11.js"><link rel="prefetch" href="/assets/js/64.cbe1b041.js"><link rel="prefetch" href="/assets/js/65.2df8f108.js"><link rel="prefetch" href="/assets/js/66.ee7de747.js"><link rel="prefetch" href="/assets/js/67.88edee59.js"><link rel="prefetch" href="/assets/js/68.c29f5efe.js"><link rel="prefetch" href="/assets/js/69.2fedc1f9.js"><link rel="prefetch" href="/assets/js/7.1c00f39e.js"><link rel="prefetch" href="/assets/js/70.0fe4782b.js"><link rel="prefetch" href="/assets/js/71.6c22c273.js"><link rel="prefetch" href="/assets/js/72.1fc7ddbd.js"><link rel="prefetch" href="/assets/js/73.25cb42eb.js"><link rel="prefetch" href="/assets/js/74.e922e1cc.js"><link rel="prefetch" href="/assets/js/75.f48393b6.js"><link rel="prefetch" href="/assets/js/76.72e96818.js"><link rel="prefetch" href="/assets/js/77.3df4edcb.js"><link rel="prefetch" href="/assets/js/78.73c6a652.js"><link rel="prefetch" href="/assets/js/79.22ba589c.js"><link rel="prefetch" href="/assets/js/8.b5f907d4.js"><link rel="prefetch" href="/assets/js/80.2d070db4.js"><link rel="prefetch" href="/assets/js/81.c0bc2539.js"><link rel="prefetch" href="/assets/js/82.4c6a47fa.js"><link rel="prefetch" href="/assets/js/83.a43f597f.js"><link rel="prefetch" href="/assets/js/84.8ce525d0.js"><link rel="prefetch" href="/assets/js/85.6b21aae0.js"><link rel="prefetch" href="/assets/js/86.f6ebabd9.js"><link rel="prefetch" href="/assets/js/87.9acaeb0d.js"><link rel="prefetch" href="/assets/js/88.99cdf592.js"><link rel="prefetch" href="/assets/js/89.58f63450.js"><link rel="prefetch" href="/assets/js/9.053d267f.js"><link rel="prefetch" href="/assets/js/90.1d59f40c.js"><link rel="prefetch" href="/assets/js/91.e8b2a5cd.js"><link rel="prefetch" href="/assets/js/92.b92bba74.js"><link rel="prefetch" href="/assets/js/93.688cad95.js"><link rel="prefetch" href="/assets/js/94.2c11a588.js"><link rel="prefetch" href="/assets/js/95.aa37d1df.js"><link rel="prefetch" href="/assets/js/96.fffa0e6e.js"><link rel="prefetch" href="/assets/js/97.04e9be9f.js"><link rel="prefetch" href="/assets/js/98.2672abca.js"><link rel="prefetch" href="/assets/js/99.c8de1c63.js">
    <link rel="stylesheet" href="/assets/css/0.styles.03260d1f.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/EB-logo.png" alt="conanan's blog" class="logo"> <span class="site-name can-hide">conanan's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><a href="/about/" class="nav-link">å…³äº</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç´¢å¼•" class="dropdown-title"><a href="/archives/" class="link-title">ç´¢å¼•</a> <span class="title" style="display:none;">ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><a href="/pages/4b56bd/" class="link-title">Java</a> <span class="title" style="display:none;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/4b56bd/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/pages/724936/" class="nav-link">Java Web</a></li><li class="dropdown-item"><h4>å·¥å…·</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/b18d09/" class="nav-link">Maven</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="DataBase" class="dropdown-title"><a href="/pages/74cdda/" class="link-title">DataBase</a> <span class="title" style="display:none;">DataBase</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/74cdda/" class="nav-link">MySQL</a></li><li class="dropdown-item"><!----> <a href="/pages/4e9f47/" class="nav-link">Redis</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tool" class="dropdown-title"><a href="/pages/89d1e7/" class="link-title">Tool</a> <span class="title" style="display:none;">Tool</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/89d1e7/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/pages/2029ba/" class="nav-link">Vim</a></li><li class="dropdown-item"><!----> <a href="/pages/2029ba/" class="nav-link">Nginx</a></li><li class="dropdown-item"><!----> <a href="/pages/f2d5fb/" class="nav-link">Docker</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.jsdelivr.net/gh/xugaoyi/image_store/blog/20200103123203.jpg"> <div class="blogger-info"><h3>Evan Xu</h3> <span>å‰ç«¯ç•Œçš„å°å­¦ç”Ÿ</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><a href="/about/" class="nav-link">å…³äº</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç´¢å¼•" class="dropdown-title"><a href="/archives/" class="link-title">ç´¢å¼•</a> <span class="title" style="display:none;">ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><a href="/pages/4b56bd/" class="link-title">Java</a> <span class="title" style="display:none;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/4b56bd/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/pages/724936/" class="nav-link">Java Web</a></li><li class="dropdown-item"><h4>å·¥å…·</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/b18d09/" class="nav-link">Maven</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="DataBase" class="dropdown-title"><a href="/pages/74cdda/" class="link-title">DataBase</a> <span class="title" style="display:none;">DataBase</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/74cdda/" class="nav-link">MySQL</a></li><li class="dropdown-item"><!----> <a href="/pages/4e9f47/" class="nav-link">Redis</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tool" class="dropdown-title"><a href="/pages/89d1e7/" class="link-title">Tool</a> <span class="title" style="display:none;">Tool</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/89d1e7/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/pages/2029ba/" class="nav-link">Vim</a></li><li class="dropdown-item"><!----> <a href="/pages/2029ba/" class="nav-link">Nginx</a></li><li class="dropdown-item"><!----> <a href="/pages/f2d5fb/" class="nav-link">Docker</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Jakarta EE</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Tomcat</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Spring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>SpringMVC</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/c22a7d/" class="sidebar-link">æ¦‚è¿°</a></li><li><a href="/pages/9b52b2/" aria-current="page" class="active sidebar-link">è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/9b52b2/#restful" class="sidebar-link">RESTful</a></li><li class="sidebar-sub-header"><a href="/pages/9b52b2/#è·¯ç”±" class="sidebar-link">è·¯ç”±</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/9b52b2/#controller" class="sidebar-link">@Controller</a></li><li class="sidebar-sub-header"><a href="/pages/9b52b2/#restcontroller-ğŸ”¥" class="sidebar-link">@RestController ğŸ”¥</a></li><li class="sidebar-sub-header"><a href="/pages/9b52b2/#requestmapping" class="sidebar-link">@RequestMapping</a></li><li class="sidebar-sub-header"><a href="/pages/9b52b2/#getmapping" class="sidebar-link">@GetMapping</a></li><li class="sidebar-sub-header"><a href="/pages/9b52b2/#postmapping" class="sidebar-link">@PostMapping</a></li><li class="sidebar-sub-header"><a href="/pages/9b52b2/#putmapping" class="sidebar-link">@PutMapping</a></li><li class="sidebar-sub-header"><a href="/pages/9b52b2/#deletemapping" class="sidebar-link">@DeleteMapping</a></li><li class="sidebar-sub-header"><a href="/pages/9b52b2/#patchmapping" class="sidebar-link">@PatchMapping</a></li><li class="sidebar-sub-header"><a href="/pages/9b52b2/#è‡ªåŠ¨-requestmapping-ğŸ”¥" class="sidebar-link">è‡ªåŠ¨ RequestMapping ğŸ”¥</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/9b52b2/#url-å‚æ•°-ğŸ”¥" class="sidebar-link">Url å‚æ•° ğŸ”¥</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/9b52b2/#ç»å…¸-requestparam" class="sidebar-link">ç»å…¸â€” @RequestParam</a></li><li class="sidebar-sub-header"><a href="/pages/9b52b2/#restful-pathvariable" class="sidebar-link">RESTful â€” @PathVariable</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/9b52b2/#body-å‚æ•°-ğŸ”¥" class="sidebar-link">Body å‚æ•° ğŸ”¥</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/9b52b2/#get-è¡¨å•-åŒ-requestparam" class="sidebar-link">GET è¡¨å•â€”åŒ @RequestParam</a></li><li class="sidebar-sub-header"><a href="/pages/9b52b2/#post-è¡¨å•-ç›´æ¥-pojo-æ¥æ”¶" class="sidebar-link">POST è¡¨å•â€”ç›´æ¥ POJO æ¥æ”¶</a></li><li class="sidebar-sub-header"><a href="/pages/9b52b2/#json-requestbody" class="sidebar-link">JSONâ€”@RequestBody</a></li><li class="sidebar-sub-header"><a href="/pages/9b52b2/#map-æ¥æ”¶å‚æ•°" class="sidebar-link">Map æ¥æ”¶å‚æ•°</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/9b52b2/#å…¶ä»–æ¥æ”¶å‚æ•°æ–¹å¼" class="sidebar-link">å…¶ä»–æ¥æ”¶å‚æ•°æ–¹å¼</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/9b52b2/#datetimeformat" class="sidebar-link">@DateTimeFormat</a></li><li class="sidebar-sub-header"><a href="/pages/9b52b2/#é»˜è®¤ç±»å‹è½¬æ¢å™¨" class="sidebar-link">é»˜è®¤ç±»å‹è½¬æ¢å™¨</a></li><li class="sidebar-sub-header"><a href="/pages/9b52b2/#è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨" class="sidebar-link">è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨</a></li><li class="sidebar-sub-header"><a href="/pages/9b52b2/#servlet-api" class="sidebar-link">Servlet Api</a></li><li class="sidebar-sub-header"><a href="/pages/9b52b2/#requestheader" class="sidebar-link">@RequestHeader</a></li><li class="sidebar-sub-header"><a href="/pages/9b52b2/#cookievalue" class="sidebar-link">@CookieValue</a></li><li class="sidebar-sub-header"><a href="/pages/9b52b2/#sessionattribute" class="sidebar-link">@SessionAttribute</a></li><li class="sidebar-sub-header"><a href="/pages/9b52b2/#modelattribute" class="sidebar-link">@ModelAttribute</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/9b52b2/#multipart-æ–‡ä»¶" class="sidebar-link">Multipart æ–‡ä»¶</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/9b52b2/#æ–‡ä»¶ä¸Šä¼ çš„å›é¡¾" class="sidebar-link">æ–‡ä»¶ä¸Šä¼ çš„å›é¡¾</a></li><li class="sidebar-sub-header"><a href="/pages/9b52b2/#springmvcä¼ ç»Ÿæ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ " class="sidebar-link">SpringMVCä¼ ç»Ÿæ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ </a></li><li class="sidebar-sub-header"><a href="/pages/9b52b2/#springmvcè·¨æœåŠ¡å™¨æ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ " class="sidebar-link">SpringMVCè·¨æœåŠ¡å™¨æ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ </a></li></ul></li></ul></li><li><a href="/pages/1dad42/" class="sidebar-link">å“åº”ç»“æœ</a></li><li><a href="/pages/002c11/" class="sidebar-link">å¼‚å¸¸å¤„ç†&amp;ç»Ÿä¸€å“åº”</a></li><li><a href="/pages/d2cfbf/" class="sidebar-link">Interceptor</a></li><li><a href="/pages/ac6e34/" class="sidebar-link">CORS</a></li><li><a href="/pages/d8cd30/" class="sidebar-link">è‡ªåŠ¨URLå‰ç¼€</a></li><li><a href="/pages/7bdc68/" class="sidebar-link">Jackson</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SpringBoot</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SpringDataJPA</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/pages/927e76/" class="sidebar-link">Test</a></li><li><a href="/pages/2ffe27/" class="sidebar-link">Shiro</a></li><li><a href="/pages/16f81e/" class="sidebar-link">Thymeleaf</a></li></ul> <div class="sidebar-slot sidebar-slot-bottom"><!-- æ­£æ–¹å½¢ -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="3508773082"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div></aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-1cd794fe><div class="articleInfo" data-v-1cd794fe><ul class="breadcrumbs" data-v-1cd794fe><li data-v-1cd794fe><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-1cd794fe></a></li> <li data-v-1cd794fe><a href="/categories/?category=Java%20Web" title="åˆ†ç±»" data-v-1cd794fe>Java Web</a></li> <li data-v-1cd794fe><a href="/categories/?category=SpringMVC" title="åˆ†ç±»" data-v-1cd794fe>SpringMVC</a></li> <!----></ul> <div class="info" data-v-1cd794fe><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-1cd794fe><a href="https://github.com/apple54whn" target="_blank" title="ä½œè€…" class="beLink" data-v-1cd794fe>conanan</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-1cd794fe><a href="javascript:;" data-v-1cd794fe>2021-06-21</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">
          è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š
        </h1> <div class="page-slot page-slot-top"><!-- å›ºå®š100% * 90pxå¯æ˜¾ç¤ºï¼Œmax-height:90pxæœªè§æ˜¾ç¤º-->
     <ins class="adsbygoogle"
          style="display:inline-block;width:100%;max-height:90px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6625304284"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="theme-vdoing-content content__default"><h1 id="è·¯ç”±-è¯·æ±‚å‚æ•°ç»‘å®š"><a href="#è·¯ç”±-è¯·æ±‚å‚æ•°ç»‘å®š" class="header-anchor">#</a> è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š</h1> <h2 id="restful"><a href="#restful" class="header-anchor">#</a> RESTful</h2> <p>RESTfulæ˜¯ä¸€ä¸ªèµ„æºå®šä½åŠèµ„æºæ“ä½œçš„é£æ ¼ã€‚ä½¿ç”¨POSTã€DELETEã€PUTã€GETï¼Œä½¿ç”¨ä¸åŒæ–¹æ³•å¯¹èµ„æºè¿›è¡Œæ“ä½œï¼Œåˆ†åˆ«å¯¹åº”  æ·»åŠ ã€ åˆ é™¤ã€ä¿®æ”¹ã€æŸ¥è¯¢</p> <p>éœ€æ±‚ï¼šRESTfulæ–¹å¼å®ç°å•†å“ä¿¡æ¯æŸ¥è¯¢ï¼Œè¿”å›jsonæ•°æ®</p> <p><strong>ä»URLä¸Šè·å–å‚æ•°</strong>ï¼šæ ¹æ®idæŸ¥è¯¢å•†å“ï¼Œä½¿ç”¨RESTfulé£æ ¼å¼€å‘çš„æ¥å£åœ°å€æ˜¯ï¼šhttp://127.0.0.1/item/1</p> <ul><li><p>æ³¨è§£<code>@RequestMapping(&quot;item/{id}&quot;)</code>å£°æ˜è¯·æ±‚çš„URLï¼Œ<code>{xxx}</code>ä¸ºå ä½ç¬¦ï¼Œè¯·æ±‚çš„URLæ˜¯â€œ<code>item /1</code>â€</p></li> <li><p>ä½¿ç”¨<code>@PathVariable() Integer id</code>è·å–URLä¸Šçš„æ•°æ®</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;item/{id}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@ResponseBody</span> <span class="token class-name">Item</span> <span class="token function">queryItemById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Item</span> item <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>itemService<span class="token punctuation">.</span><span class="token function">queryItemById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> item<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>å¦‚æœ<code>@RequestMapping</code>ä¸­è¡¨ç¤ºä¸º&quot;<code>item/{id}</code>&quot;ï¼Œidå’Œå½¢å‚åç§°ä¸€è‡´ï¼Œ<code>@PathVariable</code>ä¸ç”¨æŒ‡å®šåç§°ã€‚å¦‚æœä¸ä¸€è‡´ï¼Œä¾‹å¦‚&quot;<code>item/{ItemId}</code>&quot;åˆ™éœ€è¦æŒ‡å®šåç§°<code>@PathVariable(&quot;itemId&quot;)</code></li></ul></li> <li><p><strong>æ³¨æ„</strong>ï¼š</p> <ul><li>@PathVariableæ˜¯è·å–urlä¸Šæ•°æ®çš„ã€‚@RequestParamè·å–è¯·æ±‚å‚æ•°çš„ï¼ˆåŒ…æ‹¬postè¡¨å•æäº¤ï¼‰</li> <li>å¦‚æœåŠ ä¸Š@ResponseBodyæ³¨è§£ï¼Œå°±ä¸ä¼šèµ°è§†å›¾è§£æå™¨ï¼Œä¸ä¼šè¿”å›é¡µé¢ï¼Œè¿”å›å¦‚jsonæ•°æ®ã€‚å¦‚æœä¸åŠ ï¼Œå°±èµ°è§†å›¾è§£æå™¨ï¼Œè¿”å›é¡µé¢</li></ul></li></ul> <ul><li><p>æ³¨æ„ï¼š</p> <ul><li><strong>è¡¨å•</strong>åªæ”¯æŒGETã€POSTè¯·æ±‚ï¼Œè‹¥è¦å‘é€å…¶ä»–è¯·æ±‚ï¼ˆä¸€èˆ¬ä¹Ÿä¸ä¼šä½¿ç”¨è¡¨å•å‘é€å…¶ä»–è¯·æ±‚ï¼‰ï¼Œ<strong>è¡¨å•</strong>æœ¬èº«è®¾ç½®ä¸ºPOSTè¯·æ±‚ï¼Œå¹¶éœ€è¦inputä¸­å±æ€§<code>name=&quot;_method&quot; value=&quot;PUT&quot;</code></li> <li>åç«¯ä¸­éœ€è¦é…ç½®è¿‡æ»¤å™¨<code>org.springframework.web.filter.HiddenHttpMethodFilter</code></li> <li>Ajax æ”¯æŒå…¶ä»–ç±»å‹çš„è¯·æ±‚</li></ul></li></ul> <h2 id="è·¯ç”±"><a href="#è·¯ç”±" class="header-anchor">#</a> è·¯ç”±</h2> <h3 id="controller"><a href="#controller" class="header-anchor">#</a> @Controller</h3> <h3 id="restcontroller-ğŸ”¥"><a href="#restcontroller-ğŸ”¥" class="header-anchor">#</a> @RestController ğŸ”¥</h3> <p>æ˜¯<code>@Controller</code>å’Œ<code>@ResponseBody</code>çš„ç»„åˆ</p> <p>ä½¿ç”¨ @ResponseBody ä¼šè‡ªåŠ¨è®¾ç½®å¦‚ä¸‹ä»£ç ï¼š</p> <ul><li><p>è®¾ç½® ContentTypeã€MIME Typeã€‚å¦‚ä½¿ç”¨ UTF-8 è§£å†³ä¹±ç </p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;application/json;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// è¿”å›å¯¹è±¡ä¸º Object æ—¶</span>
response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/plain;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// è¿”å›å¯¹è±¡ä¸º String æ—¶</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>åºåˆ—åŒ–ã€è°ƒç”¨ response çš„è¾“å‡ºæ–¹æ³•</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;hello æµ‹è¯•2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// è‹¥è¾“å‡ºå¯¹è±¡ï¼Œåˆ™çœæ‰æ‰‹åŠ¨åºåˆ—å·æ“ä½œ</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <h3 id="requestmapping"><a href="#requestmapping" class="header-anchor">#</a> @RequestMapping</h3> <p>å°è£…äº† Servlet çš„ url-partten</p> <p>ä½œç”¨ï¼šç”¨äº<strong>å»ºç«‹è¯·æ±‚ URL</strong> å’Œ<strong>å¤„ç†è¯·æ±‚æ–¹æ³•</strong>ä¹‹é—´çš„å¯¹åº”<strong>å…³ç³»</strong>ã€‚<strong>æ‰€æœ‰è¯·æ±‚æ–¹æ³•éƒ½ä¼šç»è¿‡æ­¤è·¯ç”±</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>METHOD<span class="token punctuation">,</span> <span class="token class-name">ElementType</span><span class="token punctuation">.</span>TYPE<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Documented</span>
<span class="token annotation punctuation">@Mapping</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">RequestMapping</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@AliasFor</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token annotation punctuation">@AliasFor</span><span class="token punctuation">(</span><span class="token string">&quot;value&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">path</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token class-name">RequestMethod</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">params</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">headers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">consumes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">produces</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>å‡ºç°ä½ç½®ï¼š</p> <ul><li><p><strong>ç±»</strong>ä¸Šï¼šè¯·æ±‚URLçš„<strong>ç¬¬ä¸€çº§è®¿é—®ç›®å½•</strong>ï¼Œæ¨¡å—åŒ–ç®¡ç†ã€‚æ­¤å¤„ä¸å†™çš„è¯ï¼Œå°±ç›¸å½“äºåº”ç”¨çš„æ ¹ç›®å½•ã€‚å†™çš„è¯éœ€è¦ä»¥<code>/</code>å¼€å¤´ï¼Œå¦‚<code>/user</code></p></li> <li><p><strong>æ–¹æ³•</strong>ä¸Šï¼šè¯·æ±‚ URL çš„<strong>ç¬¬äºŒçº§è®¿é—®ç›®å½•</strong>ã€‚ å¦‚<code>/add</code>ã€‚ä½†æ˜¯RESTfulé£æ ¼çš„å¯ä»¥ä½¿ç”¨<code>@**Mapping</code>æ›¿ä»£</p> <p>å½“ä½¿ç”¨åˆ†çº§é…ç½®æ—¶ï¼Œå‰ç«¯é¡µé¢çš„è¯·æ±‚è·¯å¾„ä¸­ï¼Œè¦ä¹ˆå†™ç»å¯¹è·¯å¾„å³å¸¦<code>/</code>å’Œé¡¹ç›®åï¼Œè¦ä¹ˆå†™<strong>ç›¸å¯¹è·¯å¾„ä¸å¸¦<code>/</code></strong>ï¼ˆè¡¨ç¤ºç›¸å¯¹åº”ç”¨çš„æ ¹ç›®å½•ï¼‰ï¼Œå¦åˆ™404</p></li></ul> <p>å±æ€§ï¼š</p> <ul><li><p><code>value</code>ï¼šç”¨äºæŒ‡å®š<strong>è¯·æ±‚çš„ URLæ•°ç»„</strong>ã€‚å®ƒå’Œ <strong>path</strong> å±æ€§çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ã€‚<strong>å¤§å°å†™æ•æ„Ÿ</strong>ã€‚</p></li> <li><p><code>method</code>ï¼šç”¨äºæŒ‡å®š<strong>è¯·æ±‚çš„æ–¹å¼</strong>ï¼Œå€¼ä¸º<code>RequestMethod</code>æšä¸¾ç±»<strong>æ•°ç»„</strong>ã€‚</p> <p>å¯ä»¥æœ‰<strong>å¤šä¸ªè¯·æ±‚æ–¹å¼æ˜ å°„ä¸€ä¸ªæ–¹æ³•</strong>ï¼Œä½†æ˜¯ä¸‹é¢çš„ç®€å†™æ³¨è§£ä¸å¯ä»¥åœ¨åŒä¸€ä¸ªæ–¹æ³•ä¸­ä½¿ç”¨å¤šä¸ªï¼Œå¦åˆ™<strong>åªæœ‰æœ€å…ˆå†™çš„èµ·ä½œç”¨</strong>ï¼</p></li> <li><p><code>params</code>ï¼šç”¨äºæŒ‡å®šé™åˆ¶è¯·æ±‚å‚æ•°çš„æ¡ä»¶ã€‚å®ƒæ”¯æŒç®€å•çš„è¡¨è¾¾å¼ã€‚è¦æ±‚è¯·æ±‚å‚æ•°çš„keyå’Œvalueå¿…é¡»å’Œé…ç½®çš„ä¸€æ¨¡ä¸€æ ·ã€‚å¦‚ï¼š</p> <ul><li><code>params = {&quot;accountName&quot;}</code>ï¼Œè¡¨ç¤ºè¯·æ±‚å‚æ•°å¿…é¡»æœ‰ accountName</li> <li><code>params = {&quot;moeny!100&quot;}</code>ï¼Œè¡¨ç¤ºè¯·æ±‚å‚æ•°ä¸­ money ä¸èƒ½æ˜¯ 100</li></ul></li> <li><p><code>headers</code>ï¼šç”¨äºé™å®šå‘é€çš„è¯·æ±‚ä¸­å¿…é¡»åŒ…å«æŸè¯·æ±‚å¤´</p></li></ul> <h3 id="getmapping"><a href="#getmapping" class="header-anchor">#</a> @GetMapping</h3> <p>ç”¨åœ¨æ–¹æ³•ä¸Šï¼Œæ›¿ä»£æ–¹æ³•çš„<code>@RequestMapping</code></p> <h3 id="postmapping"><a href="#postmapping" class="header-anchor">#</a> @PostMapping</h3> <p>ç”¨åœ¨æ–¹æ³•ä¸Šï¼Œæ›¿ä»£æ–¹æ³•çš„<code>@RequestMapping</code></p> <h3 id="putmapping"><a href="#putmapping" class="header-anchor">#</a> @PutMapping</h3> <p>ç”¨åœ¨æ–¹æ³•ä¸Šï¼Œæ›¿ä»£æ–¹æ³•çš„<code>@RequestMapping</code></p> <h3 id="deletemapping"><a href="#deletemapping" class="header-anchor">#</a> @DeleteMapping</h3> <p>ç”¨åœ¨æ–¹æ³•ä¸Šï¼Œæ›¿ä»£æ–¹æ³•çš„<code>@RequestMapping</code></p> <h3 id="patchmapping"><a href="#patchmapping" class="header-anchor">#</a> @PatchMapping</h3> <p>ç”¨åœ¨æ–¹æ³•ä¸Šï¼Œæ›¿ä»£æ–¹æ³•çš„<code>@RequestMapping</code>ã€‚éƒ¨åˆ†æ›´æ–°</p> <h3 id="è‡ªåŠ¨-requestmapping-ğŸ”¥"><a href="#è‡ªåŠ¨-requestmapping-ğŸ”¥" class="header-anchor">#</a> è‡ªåŠ¨ RequestMapping ğŸ”¥</h3> <p>&quot;307.è‡ªåŠ¨URLå‰ç¼€&quot;</p> <h2 id="url-å‚æ•°-ğŸ”¥"><a href="#url-å‚æ•°-ğŸ”¥" class="header-anchor">#</a> Url å‚æ•° ğŸ”¥</h2> <h3 id="ç»å…¸-requestparam"><a href="#ç»å…¸-requestparam" class="header-anchor">#</a> ç»å…¸â€” <code>@RequestParam</code></h3> <p>ç”¨äºæ˜ å°„<strong>è¯·æ±‚çš„å‚æ•°å</strong>å’Œ<strong>å¤„ç†å™¨å½¢å‚å</strong>ï¼Œ å½“äºŒè€…ä¸€è‡´æ—¶ï¼ˆ<strong>åŒºåˆ†å¤§å°å†™</strong>ï¼‰å¯çœç•¥è¯¥æ³¨è§£ï¼</p> <p>æ³¨æ„ï¼š</p> <ul><li>ğŸ”¥å‚æ•°ç±»å‹<strong>æ¨è</strong>ä½¿ç”¨<strong>åŒ…è£…æ•°æ®ç±»å‹</strong>ï¼Œå› ä¸ºåŸºç¡€æ•°æ®ç±»å‹ä¸å¯ä¸ºnullï¼›</li> <li>ğŸ”¥<strong>Boolean å¸ƒå°”ç±»å‹çš„å‚æ•°ï¼Œè¯·æ±‚çš„å‚æ•°å€¼å¯ä»¥ä¸º true æˆ– falseï¼Œ1 æˆ– 0ï¼Œæ¥æ”¶åè‡ªåŠ¨æ˜ å°„ä¸ºå¸ƒå°”ç±»å‹</strong></li></ul> <p>å±æ€§ï¼š</p> <ul><li><code>value</code>æˆ–<code>name</code>ï¼šè¯·æ±‚å‚æ•°ä¸­çš„åç§°ã€‚è‹¥å‚æ•°åç§°å’Œå½¢å‚ä¸€è‡´ï¼Œå¯ä»¥ä¸ç”¨æŒ‡å®š value æˆ– name</li> <li><code>required</code>ï¼šè¯·æ±‚å‚æ•°ä¸­æ˜¯å¦å¿…é¡»æä¾›æ­¤å‚æ•°ã€‚é»˜è®¤å€¼ï¼štrueã€‚è¡¨ç¤ºå¿…é¡»æä¾›ï¼Œå¦‚æœä¸æä¾›å°†æŠ¥é”™</li> <li><code>defaultValue</code>ï¼šè¯·æ±‚å‚æ•°é»˜è®¤å€¼</li></ul> <p>Postman è¯·æ±‚å¦‚ä¸‹ï¼ˆç›´æ¥åœ¨ Params ä¸­å†™ Query Paramså³å¯ï¼‰ï¼š</p> <div class="language-http line-numbers-mode"><pre class="language-http"><code><span class="token request-line"><span class="token method property">GET</span> <span class="token request-target url">/v1/test/url2?name=conanan&amp;flag=1</span> <span class="token http-version property">HTTP/1.1</span></span>
<span class="token header-name keyword">Host:</span> http://127.0.0.1:80
<span class="token header-name keyword">Content-Type:</span> application/x-www-form-urlencoded
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>å’Œ Content-Type: application/x-www-form-urlencoded æ²¡æœ‰å…³ç³»ï¼Œé»˜è®¤å°±æ˜¯è¯¥ç±»å‹ï¼Œ<strong>åªéœ€æ³¨æ„<code>?</code>åçš„é”®å€¼å¯¹</strong>å³å¯</p> <p>Java åå°å¯ä»¥å¦‚ä¸‹æ–¹å¼æ¥æ”¶ï¼ˆåªéœ€åˆ‡æ¢ä¸‹ url å³å¯ï¼‰</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/url1&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">url1</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Boolean</span> flag<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;url1: %s, %s&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> flag<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// å¯çœç•¥ @RequestParam</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/url2&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">url2</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Boolean</span> flag<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;url2: %s, %s&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> flag<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="restful-pathvariable"><a href="#restful-pathvariable" class="header-anchor">#</a> RESTful â€” <code>@PathVariable</code></h3> <p>ç”¨äº<strong>ç»‘å®š url ä¸­çš„å ä½ç¬¦</strong>ã€‚url æ”¯æŒå ä½ç¬¦æ˜¯ spring3.0 ä¹‹ååŠ å…¥çš„ã€‚æ˜¯ springmvc æ”¯æŒ RESTful é£æ ¼ URL çš„ä¸€ä¸ªé‡è¦æ ‡å¿—ã€‚</p> <p>æ³¨æ„ï¼š</p> <ul><li>ğŸ”¥å‚æ•°ç±»å‹<strong>æ¨è</strong>ä½¿ç”¨<strong>åŒ…è£…æ•°æ®ç±»å‹</strong>ï¼Œå› ä¸ºåŸºç¡€æ•°æ®ç±»å‹ä¸å¯ä¸ºnullï¼›ä½†è¿™é‡Œä¸€èˆ¬ä¸ä¼šå‡ºç°<code>/rest//1</code>æƒ…å†µ</li> <li>ğŸ”¥<strong>Boolean å¸ƒå°”ç±»å‹çš„å‚æ•°ï¼Œè¯·æ±‚çš„å‚æ•°å€¼å¯ä»¥ä¸º true æˆ– falseï¼Œ1 æˆ– 0ï¼Œæ¥æ”¶åè‡ªåŠ¨æ˜ å°„ä¸ºå¸ƒå°”ç±»å‹</strong></li></ul> <p>å±æ€§ï¼š</p> <ul><li><code>value</code>æˆ–<code>name</code>ï¼šç”¨äºæŒ‡å®š url ä¸­å ä½ç¬¦åç§°ã€‚è‹¥å ä½ç¬¦åç§°å’Œå½¢å‚ä¸€è‡´ï¼Œå¯ä»¥ä¸ç”¨æŒ‡å®švalueã€‚</li> <li><code>required</code>ï¼šæ˜¯å¦å¿…é¡»æä¾›å ä½ç¬¦ã€‚</li></ul> <p>Postman è¯·æ±‚å¦‚ä¸‹ï¼ˆç›´æ¥åœ¨ Params ä¸­å†™ Query Paramså³å¯ï¼‰ï¼š</p> <div class="language-http line-numbers-mode"><pre class="language-http"><code><span class="token request-line"><span class="token method property">GET</span> <span class="token request-target url">/v1/test/rest/conanan/1</span> <span class="token http-version property">HTTP/1.1</span></span>
<span class="token header-name keyword">Host:</span> http://127.0.0.1:80
<span class="token header-name keyword">Content-Type:</span> application/x-www-form-urlencoded
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>å’Œ Content-Type: application/x-www-form-urlencoded æ²¡æœ‰å…³ç³»ï¼Œé»˜è®¤å°±æ˜¯è¯¥ç±»å‹</p> <p>Java åå°å¯ä»¥å¦‚ä¸‹æ–¹å¼æ¥æ”¶ï¼ˆåªéœ€åˆ‡æ¢ä¸‹ url å³å¯ï¼‰</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/rest/{name}/{flag}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">rest1</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span>
                    <span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Boolean</span> flag<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;url2: %s, %s&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> flag<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="body-å‚æ•°-ğŸ”¥"><a href="#body-å‚æ•°-ğŸ”¥" class="header-anchor">#</a> Body å‚æ•° ğŸ”¥</h2> <div class="custom-block tip"><p class="custom-block-title">æ³¨æ„</p> <p>GET è¯·æ±‚æ²¡æœ‰ Body å‚æ•°</p></div> <h3 id="get-è¡¨å•-åŒ-requestparam"><a href="#get-è¡¨å•-åŒ-requestparam" class="header-anchor">#</a> GET è¡¨å•â€”åŒ <code>@RequestParam</code></h3> <p>è¡¨å•å‚æ•°ç»‘å®šï¼š</p> <ul><li>è¡¨å•æäº¤çš„æ•°æ®éƒ½æ˜¯k=væ ¼å¼çš„ <code>username=haha&amp;password=123</code>ï¼Œ<strong>keyå°±æ˜¯è¡¨å•ä¸­<code>name</code>çš„å€¼</strong>ã€‚GET è¯·æ±‚å°†æ•°æ®æ”¾å…¥ Url çš„<code>?</code>å</li> <li>SpringMVC çš„å‚æ•°ç»‘å®šè¿‡ç¨‹æ˜¯æŠŠ<strong>è¡¨å•æäº¤çš„è¯·æ±‚å‚æ•°</strong>ï¼Œä½œä¸ºæ§åˆ¶å™¨ä¸­<strong>æ–¹æ³•çš„å‚æ•°</strong>è¿›è¡Œç»‘å®šçš„</li> <li>å…¶ä»–å’Œç»å…¸<code>@RequestParam</code>ä¸€è‡´ï¼ï¼ï¼</li></ul> <div class="custom-block tip"><p class="custom-block-title">æ³¨æ„</p> <p>éœ€è¦<strong>æ³¨æ„</strong>çš„æ˜¯ï¼ŒPostman ä¸­ Body é€‰æ‹© x-www-form-urlencodedï¼Œä¸”æ–¹æ³•ä¸º GET çš„ä¸æ˜¯çœŸæ­£çš„ GET è¡¨å•æäº¤ï¼Œå®ƒä¸ä¼šæŠŠé”®å€¼å¯¹æ”¾å…¥<code>?</code>åï¼ï¼ï¼æ‰€ä»¥è¿˜æ˜¯æ¨èä½¿ç”¨<code>@RequestParam</code>æ—¶é‡‡ç”¨ Query Params å³å¯</p></div> <h3 id="post-è¡¨å•-ç›´æ¥-pojo-æ¥æ”¶"><a href="#post-è¡¨å•-ç›´æ¥-pojo-æ¥æ”¶" class="header-anchor">#</a> POST è¡¨å•â€”ç›´æ¥ POJO æ¥æ”¶</h3> <p>è¡¨å•å‚æ•°ç»‘å®šï¼š</p> <ul><li>è¡¨å•æäº¤çš„æ•°æ®éƒ½æ˜¯k=væ ¼å¼çš„ <code>username=haha&amp;password=123</code>ï¼Œ<strong>keyå°±æ˜¯è¡¨å•ä¸­<code>name</code>çš„å€¼</strong>ã€‚POST è¯·æ±‚å°†æ•°æ®æ”¾å…¥<strong>è¯·æ±‚ä½“</strong>ä¸­</li> <li>SpringMVC çš„å‚æ•°ç»‘å®šè¿‡ç¨‹æ˜¯æŠŠ<strong>è¡¨å•æäº¤çš„è¯·æ±‚å‚æ•°</strong>ï¼Œä½œä¸ºæ§åˆ¶å™¨ä¸­<strong>æ–¹æ³•çš„å‚æ•°</strong>è¿›è¡Œç»‘å®šçš„</li> <li>è¦æ±‚è¡¨å•ä¸­<strong>å‚æ•°åç§°</strong>å’Œ POJO ç±»çš„<strong>å±æ€§åç§°</strong>ä¿æŒä¸€è‡´ã€‚å¹¶ä¸”æ§åˆ¶å™¨æ–¹æ³•çš„<strong>å‚æ•°ç±»å‹æ˜¯ POJO ç±»å‹</strong></li> <li><strong>ç»™ List é›†åˆä¸­çš„å…ƒç´ èµ‹å€¼ï¼Œä½¿ç”¨ä¸‹æ ‡</strong></li> <li><strong>ç»™ Map é›†åˆä¸­çš„å…ƒç´ èµ‹å€¼ï¼Œä½¿ç”¨é”®å€¼å¯¹</strong></li></ul> <p>Postman è¯·æ±‚å¦‚ä¸‹ï¼ˆåœ¨ Body ä¸­ x-www-form-urlencoded å†™å‚æ•°å³å¯ï¼‰ï¼š</p> <div class="language-http line-numbers-mode"><pre class="language-http"><code><span class="token request-line"><span class="token method property">POST</span> <span class="token request-target url">/v1/test/body1</span> <span class="token http-version property">HTTP/1.1</span></span>
<span class="token header-name keyword">Host:</span> http://127.0.0.1:80
<span class="token header-name keyword">Content-Type:</span> application/x-www-form-urlencoded

name=conanan&amp;
sex=1&amp;
address.provinceName=shannxi&amp;
address.cityName=xian&amp;
petList[0].nikeName=nikeName1&amp;
petList[0].sex=1&amp;
petList[1].nikeName=nikeName2&amp;
petList[1].sex=0&amp;
petMap['one'].nikeName=nikeName3&amp;
petMap['one'].sex=1&amp;
petMap['two'].nikeName=nikeName4&amp;
petMap['two'].sex=0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>è‹¥å‚æ•°é‡å¤ï¼Œä¼šå‡ºç°å…¶ä»–é—®é¢˜ï¼Œå¦‚æœ€åä¸€ä¸ª petMap['one'].sex=0ï¼Œä¸ä¼šæ›¿æ¢ï¼</p> <p>Content-Type: application/x-www-form-urlencodedï¼Œçœ‹å…¶ä¸­ Body è¯·æ±‚ä½“ä¸ºé”®å€¼å¯¹æ•°æ®</p> <p>Java åå°å¯ä»¥å¦‚ä¸‹æ–¹å¼æ¥æ”¶</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> sex<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Address</span> address<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Pet</span><span class="token punctuation">&gt;</span></span> petList<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Pet</span><span class="token punctuation">&gt;</span></span> petMap<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Address</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> provinceName<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> cityName<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Pet</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> nikeName<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> sex<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/body1&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">body1</span><span class="token punctuation">(</span><span class="token class-name">Student</span> student<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;body1: %s, %s, %s, %s, %s, %s&quot;</span><span class="token punctuation">,</span>
                         student<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                         student<span class="token punctuation">.</span><span class="token function">getSex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                         student<span class="token punctuation">.</span><span class="token function">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getProvinceName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                         student<span class="token punctuation">.</span><span class="token function">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getCityName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                         student<span class="token punctuation">.</span><span class="token function">getPetList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                         student<span class="token punctuation">.</span><span class="token function">getPetMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>è‹¥æœ‰<strong>å¤šä¸ªå¯¹è±¡</strong>ï¼Œåˆ™è¿˜æ˜¯<strong>æ ¹æ®å±æ€§åç§°æ¥æ¥æ”¶å‚æ•°</strong>ï¼ï¼ï¼</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/body1&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">body1</span><span class="token punctuation">(</span><span class="token class-name">Student</span> student<span class="token punctuation">,</span> <span class="token class-name">Teacher</span> teacher<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>è‹¥ Student å’Œ Teacher æœ‰åŒåå±æ€§ï¼Œåˆ™ç»‘å®šåè¯¥åŒåå±æ€§çš„å€¼ç›¸åŒï¼</p> <h3 id="json-requestbody"><a href="#json-requestbody" class="header-anchor">#</a> JSONâ€”<code>@RequestBody</code></h3> <p>ä½œç”¨ï¼šç”¨äº<strong>è·å–è¯·æ±‚ä½“</strong>å†…å®¹ï¼ˆ<strong>GET</strong>ä¹Ÿæœ‰ï¼‰ï¼Œå¸¸ç”¨äº<strong>JSONæ•°æ®å°è£…</strong>ã€‚ä¸ä½¿ç”¨åˆ™å¾—åˆ°æ˜¯<code>key=value&amp;key=value</code>ç»“æ„çš„æ•°æ®ã€‚</p> <p>å±æ€§ï¼š</p> <ul><li><code>required</code>æ˜¯å¦å¿…é¡»æœ‰è¯·æ±‚ä½“ï¼Œé»˜è®¤ä¸º trueï¼Œå³ä½¿æ˜¯ GET è¯·æ±‚ä¹Ÿå¿…é¡»æ·»åŠ è¯·æ±‚ä½“ï¼</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>springmvc/useRequestBody<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    ç”¨æˆ·åç§°ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>  
    ç”¨æˆ·å¯†ç ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>  
    ç”¨æˆ·å¹´é¾„ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span> 
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span> ä¿å­˜ <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/useRequestBody&quot;</span><span class="token punctuation">)</span> 
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">useRequestBody</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span><span class="token punctuation">(</span>required<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token class-name">String</span> body<span class="token punctuation">)</span><span class="token punctuation">{</span>  
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="map-æ¥æ”¶å‚æ•°"><a href="#map-æ¥æ”¶å‚æ•°" class="header-anchor">#</a> Map æ¥æ”¶å‚æ•°</h3> <p>åœ¨ Controller å±‚ä¸çŸ¥é“å‰ç«¯éƒ½ä¼šä¼ é€’å“ªäº›å‚æ•°ç»™åˆ°åç«¯ï¼Œä¸ºäº†<strong>æ‰©å±•æ–¹ä¾¿</strong>ï¼ˆä½†æ˜¯ï¼Œä¸èƒ½ä¼ åˆ° Service å±‚è¿˜æ˜¯ Map å§ï¼åªèƒ½åœ¨ Controller æ¥æ”¶æ—¶æ–¹ä¾¿ç‚¹ï¼‰ã€‚è®¸å¤šæ¡†æ¶ï¼ˆå¦‚ CXF ä¸å…è®¸æ¥æ”¶ Map å‚æ•°ï¼‰ï¼Œæ¯•ç«Ÿä¸èƒ½æŠŠ Java å†™æˆ JS æ˜¯å§ã€‚</p> <ul><li>SpringMVCå¤„ç†è¯·æ±‚ç”¨Mapç±»å‹æ¥æ”¶å‚æ•°æ—¶ï¼Œå¦‚æœå‚æ•°æ— æ³¨è§£ï¼Œåˆ™ä¼šä¼ å…¥BindingAwareModelMapç±»å‹ï¼Œç­‰ä»·äºModelã€ModelMapå‚æ•°ã€‚æ‰€ä»¥æ— æ³•æ¥å—åˆ°ä¼ å…¥çš„å‚æ•°</li> <li>å‚æ•°æ·»åŠ  <strong>@RequestParam</strong> æ³¨è§£æ—¶ï¼Œæ¥æ”¶ Json ç±»å‹æ•°æ®ï¼Œä¼šå°†å‚æ•°åŒ…è£…ç§° LinkedHashMap å¯¹è±¡ï¼Œå‚æ•°çš„keyä¸ºMapçš„keyï¼Œå‚æ•°çš„valueä¸ºMapçš„valueï¼Œæ”¯æŒGetã€Postæ–¹æ³•ï¼ˆåº”è¯¥æ”¯æŒPutã€Deleteï¼Œæ²¡æœ‰æµ‹ï¼Œä¿©æ–¹æ³•ä¸Postç±»ä¼¼ï¼‰ã€‚å¯ä»¥<strong>å°è£… PageBean å‚æ•°</strong>ï¼</li> <li>æ·»åŠ  <strong>@RequestBody</strong> æ³¨è§£æ—¶ï¼Œæ¥æ”¶ Json ç±»å‹æ•°æ®ï¼Œä¹Ÿä¼šåŒ…è£…æˆ LinkedHashMap å¯¹è±¡ï¼Œè¯¥æ³¨è§£ä¸æ”¯æŒGetè¯·æ±‚ï¼Œå› ä¸º Get è¯·æ±‚æ²¡æœ‰è¯·æ±‚ä½“ä¸èƒ½ä¼ Jsonã€‚</li></ul> <h2 id="å…¶ä»–æ¥æ”¶å‚æ•°æ–¹å¼"><a href="#å…¶ä»–æ¥æ”¶å‚æ•°æ–¹å¼" class="header-anchor">#</a> å…¶ä»–æ¥æ”¶å‚æ•°æ–¹å¼</h2> <h3 id="datetimeformat"><a href="#datetimeformat" class="header-anchor">#</a> <code>@DateTimeFormat</code></h3> <p>ç›´æ¥åœ¨JavaBean<strong>å±æ€§</strong>ä¸Šæ·»åŠ æ³¨é‡Šå³å¯ï¼ˆåœ¨getæˆ–setæ–¹æ³•ä¸Šæ·»åŠ ï¼Œå‘½åè§„èŒƒçš„è¯å­—æ®µä¸Šæ·»åŠ ä¹Ÿè¡Œã€‚ç”±äºä¸€èˆ¬è‡ªåŠ¨ç”Ÿæˆï¼Œæ‰€ä»¥éƒ½è¡Œï¼‰</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@DateTimeFormat</span><span class="token punctuation">(</span>pattern<span class="token operator">=</span><span class="token string">&quot;yyyy-MM-dd HH:mm&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">Date</span> creationTime<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="é»˜è®¤ç±»å‹è½¬æ¢å™¨"><a href="#é»˜è®¤ç±»å‹è½¬æ¢å™¨" class="header-anchor">#</a> é»˜è®¤ç±»å‹è½¬æ¢å™¨</h3> <p>å¦‚ SpringMVC ä¼šå°†<code>a,b,c</code>è½¬ä¸º<code>String[]</code> ç±»å‹ï¼Œä½†æ˜¯ä¸èƒ½è½¬ä¸º<code>List&lt;String&gt;</code>ï¼Œè¿™å°±æ˜¯å®ƒé»˜è®¤çš„ä¸€ä¸ªç±»å‹è½¬æ¢å™¨</p> <h3 id="è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨"><a href="#è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨" class="header-anchor">#</a> è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨</h3> <p>é™¤äº†ç±»å‹è½¬æ¢å™¨ï¼ŒSpringMVCè¿˜æä¾›äº†<strong>æ³¨è§£<code>@DateTimeFormate</code>æ¥è½¬æ¢æ—¥æœŸæ ¼å¼</strong>ã€‚æŸ¥çœ‹5å¸¸ç”¨æ³¨è§£è¿™ä¸€ç« ã€‚</p> <p>SpringMVCè¿˜å¯ä»¥å®ç°ä¸€äº›<strong>æ•°æ®ç±»å‹è‡ªåŠ¨è½¬æ¢</strong>ã€‚å†…ç½®è½¬æ¢å™¨å…¨éƒ½åœ¨<code>org.springframework.core.convert.support</code>åŒ…ä¸‹ã€‚å¦‚Stringè½¬Integerç­‰ç­‰</p> <p>å¦‚é‡<strong>ç‰¹æ®Šç±»å‹è½¬æ¢</strong>è¦æ±‚ï¼Œæ¯”å¦‚æ—¥æœŸæ•°æ®æœ‰å¾ˆå¤šç§æ ¼å¼ï¼ŒSpringMVCæ²¡åŠæ³•æŠŠå¸¦<code>-</code>å­—ç¬¦ä¸²è½¬æ¢æˆæ—¥æœŸç±»å‹ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±ç¼–å†™<strong>è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨</strong>ã€‚æ­¥éª¤å¦‚ä¸‹ï¼š</p> <p>å®šä¹‰ä¸€ä¸ªç±»ï¼Œ<strong>å®ç° Springæä¾›çš„ <code>Converter</code> æ¥å£</strong>ï¼Œè¯¥æ¥å£æœ‰ä¸¤ä¸ªæ³›å‹ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//Converter&lt;S, T&gt;ï¼š  S:source,éœ€è¦è½¬æ¢çš„æºçš„ç±»å‹ï¼›T:target,éœ€è¦è½¬æ¢çš„ç›®æ ‡ç±»å‹</span>
<span class="token annotation punctuation">@Componet</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StringToDateConverter</span> <span class="token keyword">implements</span> <span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Date</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Date</span> <span class="token function">convert</span><span class="token punctuation">(</span><span class="token class-name">String</span> source<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">DateFormat</span> format <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NullPointerException</span><span class="token punctuation">(</span><span class="token string">&quot;è¯·è¾“å…¥è¦è½¬æ¢çš„æ—¥æœŸ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            format <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Date</span> date <span class="token operator">=</span> format<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> date<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">&quot;è¾“å…¥æ—¥æœŸæœ‰è¯¯&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TimeConverterConfig</span> <span class="token punctuation">{</span>

    <span class="token comment">/**
     * description:LocalDateTimeè½¬æ¢å™¨ï¼Œç”¨äºè½¬æ¢RequestParamå’ŒPathVariableå‚æ•°
     * æ¥æ”¶æ¯«ç§’çº§æ—¶é—´æˆ³å­—ç¬¦ä¸²â€”â€”&gt;LocalDateTime
     */</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">&gt;</span></span> <span class="token function">localDateTimeConverter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> source <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">//æ¯«ç§’çº§æ—¶é—´æˆ³è½¬LocalDateTime</span>
            <span class="token keyword">return</span> <span class="token class-name">LocalDateTimeUtil</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">parseLong</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ZoneOffset</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;+8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * description:java.util.Dateè½¬æ¢å™¨
     * æ¥æ”¶æ¯«ç§’çº§æ—¶é—´æˆ³å­—ç¬¦ä¸²â€”â€”&gt;Date
     */</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Date</span><span class="token punctuation">&gt;</span></span> <span class="token function">dateConverter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> source <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">long</span> longTimeStamp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Long</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>longTimeStamp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="servlet-api"><a href="#servlet-api" class="header-anchor">#</a> Servlet Api</h3> <p><strong>æ§åˆ¶å™¨</strong>(å¤„ç†å™¨)<strong>å½¢å‚</strong>ä¸­æ·»åŠ å¦‚ä¸‹ç±»å‹çš„å‚æ•°ï¼Œå¤„ç†é€‚é…å™¨ä¼šé»˜è®¤è¯†åˆ«å¹¶è¿›è¡Œèµ‹å€¼</p> <ul><li><code>HttpServletRequest</code>ï¼šé€šè¿‡requestå¯¹è±¡è·å–è¯·æ±‚ä¿¡æ¯</li> <li><code>HttpServletResponse</code>ï¼šé€šè¿‡responseå¤„ç†å“åº”ä¿¡æ¯</li> <li><code>HttpSession</code>ï¼šé€šè¿‡sessionå¯¹è±¡å¾—åˆ°sessionä¸­å­˜æ”¾çš„å¯¹è±¡</li></ul> <h3 id="requestheader"><a href="#requestheader" class="header-anchor">#</a> <code>@RequestHeader</code></h3> <p>ä¸€èˆ¬ä¸æ€ä¹ˆç”¨</p> <ul><li>ä½œç”¨ï¼šç”¨äºè·å–è¯·æ±‚æ¶ˆæ¯å¤´ã€‚</li> <li>å±æ€§ï¼š<code>value</code>æä¾›æ¶ˆæ¯å¤´åç§°ã€‚<code>required</code>æ˜¯å¦å¿…é¡»æœ‰æ­¤æ¶ˆæ¯å¤´</li></ul> <h3 id="cookievalue"><a href="#cookievalue" class="header-anchor">#</a> <code>@CookieValue</code></h3> <p>ä¸€èˆ¬ä¸æ€ä¹ˆç”¨</p> <ul><li>ä½œç”¨ï¼šç”¨äºæŠŠæŒ‡å®š cookie åç§°çš„å€¼ä¼ å…¥æ§åˆ¶å™¨æ–¹æ³•å‚æ•°ã€‚</li> <li>å±æ€§ï¼š<code>value</code>æŒ‡å®š cookie çš„åç§°ã€‚<code>required</code>æ˜¯å¦å¿…é¡»æœ‰æ­¤ cookie</li></ul> <h3 id="sessionattribute"><a href="#sessionattribute" class="header-anchor">#</a> <code>@SessionAttribute</code></h3> <ul><li><p>ä½œç”¨ï¼šç”¨äºå¤šæ¬¡æ‰§è¡Œæ§åˆ¶å™¨æ–¹æ³•é—´çš„å‚æ•°å…±äº«ã€‚</p></li> <li><p>å±æ€§ï¼š</p> <ul><li><code>value</code>ï¼šç”¨äºæŒ‡å®šå­˜å…¥çš„å±æ€§åç§°</li> <li><code>type</code>ï¼šç”¨äºæŒ‡å®šå­˜å…¥çš„æ•°æ®ç±»å‹ã€‚</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span><span class="token punctuation">(</span><span class="token string">&quot;sessionAttributeController&quot;</span><span class="token punctuation">)</span> 
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/springmvc&quot;</span><span class="token punctuation">)</span> 
<span class="token annotation punctuation">@SessionAttributes</span><span class="token punctuation">(</span>value<span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>types<span class="token operator">=</span> <span class="token punctuation">{</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">//å­˜å…¥åˆ°sessionåŸŸ </span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SessionAttributeController</span> <span class="token punctuation">{</span> 
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/testPut&quot;</span><span class="token punctuation">)</span>  
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testPut</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">{</span>   
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æ³°æ–¯ç‰¹&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
        <span class="token comment">//è·³è½¬ä¹‹å‰å°†æ•°æ®ä¿å­˜åˆ° usernameã€password å’Œ age ä¸­ï¼Œå› ä¸ºæ³¨è§£@SessionAttribute ä¸­æœ‰è¿™å‡ ä¸ªå‚æ•° </span>
        <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/testGet&quot;</span><span class="token punctuation">)</span>   
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testGet</span><span class="token punctuation">(</span><span class="token class-name">ModelMap</span> model<span class="token punctuation">)</span><span class="token punctuation">{</span>   
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>model<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;;&quot;</span><span class="token operator">+</span>model<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;;&quot;</span><span class="token operator">+</span>model<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
        <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span> 

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/testClean&quot;</span><span class="token punctuation">)</span>  
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">complete</span><span class="token punctuation">(</span><span class="token class-name">SessionStatus</span> sessionStatus<span class="token punctuation">)</span><span class="token punctuation">{</span>   
        sessionStatus<span class="token punctuation">.</span><span class="token function">setComplete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div></li></ul> <h3 id="modelattribute"><a href="#modelattribute" class="header-anchor">#</a> <code>@ModelAttribute</code></h3> <p>è¯¥æ³¨è§£æ˜¯ SpringMVC4.3 ç‰ˆæœ¬ä»¥åæ–°åŠ å…¥çš„ã€‚å®ƒå¯ä»¥ç”¨äºä¿®é¥°æ–¹æ³•å’Œå‚æ•°ã€‚</p> <ul><li>å‡ºç°åœ¨<strong>æ–¹æ³•ä¸Š</strong>ï¼Œè¡¨ç¤ºå½“å‰æ–¹æ³•ä¼šåœ¨<strong>æ§åˆ¶å™¨çš„æ–¹æ³•æ‰§è¡Œä¹‹å‰å…ˆæ‰§è¡Œ</strong>ã€‚å®ƒå¯ä»¥ä¿®é¥°æ²¡æœ‰è¿”å›å€¼å’Œæœ‰å…·ä½“è¿”å›å€¼çš„æ–¹æ³•</li> <li>å‡ºç°åœ¨<strong>å‚æ•°ä¸Š</strong>ï¼Œè·å–<strong>æŒ‡å®šçš„æ•°æ®ç»™å‚æ•°èµ‹å€¼</strong></li></ul> <ul><li><p>å±æ€§ï¼š<code>value</code>ç”¨äºè·å–æ•°æ®çš„ keyã€‚key å¯ä»¥æ˜¯ <strong>POJO</strong> çš„å±æ€§åç§°ï¼Œä¹Ÿå¯ä»¥æ˜¯ <strong>map</strong> ç»“æ„çš„ keyã€‚</p></li> <li><p>åº”ç”¨åœºæ™¯ï¼šå½“è¡¨å•æäº¤æ•°æ®ä¸æ˜¯å®Œæ•´çš„å®ä½“ç±»æ•°æ®æ—¶ï¼Œä¿è¯<strong>æ²¡æœ‰æäº¤æ•°æ®çš„å­—æ®µ</strong>ä½¿ç”¨<strong>æ•°æ®åº“å¯¹è±¡åŸæ¥çš„æ•°æ®</strong>ã€‚</p> <p>æˆ‘ä»¬åœ¨ç¼–è¾‘ä¸€ä¸ªç”¨æˆ·æ—¶ï¼Œç”¨æˆ·æœ‰ä¸€ä¸ªåˆ›å»ºä¿¡æ¯å­—æ®µï¼Œè¯¥å­—æ®µçš„å€¼æ˜¯ä¸å…è®¸è¢«ä¿®æ”¹çš„ã€‚åœ¨æäº¤è¡¨å•æ•°æ®æ˜¯è‚¯å®šæ²¡æœ‰æ­¤å­—æ®µçš„å†…å®¹ï¼Œä¸€æ—¦æ›´æ–°ä¼šæŠŠè¯¥å­—æ®µå†…å®¹ç½®ä¸º nullï¼Œæ­¤æ—¶å°±å¯ä»¥ä½¿ç”¨æ­¤æ³¨è§£è§£å†³é—®é¢˜ã€‚ä½†æ˜¯è¿™ç§é—®é¢˜æœ‰å…¶ä»–åŠæ³•è§£å†³ã€‚</p></li> <li><p>åŸºäºPOJO å±æ€§çš„åŸºæœ¬ä½¿ç”¨</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>springmvc/testModelAttribute?username=test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æµ‹è¯• modelattribute<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@ModelAttribute</span>  
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">showModel</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>   
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰§è¡Œäº† showModel æ–¹æ³•&quot;</span><span class="token operator">+</span>user<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span> 
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/testModelAttribute&quot;</span><span class="token punctuation">)</span> 
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testModelAttribute</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>   
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰§è¡Œäº†æ§åˆ¶å™¨çš„æ–¹æ³•&quot;</span><span class="token operator">+</span>user<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>
<span class="token comment">//æ‰§è¡Œäº† showModel æ–¹æ³•</span>
<span class="token comment">//æ‰§è¡Œäº†æ§åˆ¶å™¨çš„æ–¹æ³•</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li> <li><p>åŸºäº Map çš„åº”ç”¨åœºæ™¯ç¤ºä¾‹ 1ï¼šModelAttribute ä¿®é¥°æ–¹æ³•å¸¦è¿”å›å€¼</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!--éœ€æ±‚ï¼š  ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯ï¼Œè¦æ±‚ç”¨æˆ·çš„å¯†ç ä¸èƒ½ä¿®æ”¹ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>springmvc/updateUser<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
    ç”¨æˆ·åç§°ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>  
    ç”¨æˆ·å¹´é¾„ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span> ä¿å­˜ <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// æ¨¡æ‹Ÿä¿®æ”¹ç”¨æˆ·æ–¹æ³• </span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/updateUser&quot;</span><span class="token punctuation">)</span> 
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testModelAttribute</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ§åˆ¶å™¨ä¸­å¤„ç†è¯·æ±‚çš„æ–¹æ³•ï¼šä¿®æ”¹ç”¨æˆ·ï¼š&quot;</span><span class="token operator">+</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token annotation punctuation">@ModelAttribute</span> <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">showModel</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token comment">//æ¨¡æ‹Ÿå»æ•°æ®åº“æŸ¥è¯¢  </span>
    <span class="token class-name">User</span> abc <span class="token operator">=</span> <span class="token function">findUserByName</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰§è¡Œäº† showModel æ–¹æ³•&quot;</span><span class="token operator">+</span>abc<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">return</span> abc<span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 
<span class="token comment">// æ¨¡æ‹Ÿå»æ•°æ®åº“æŸ¥è¯¢ </span>
<span class="token keyword">private</span> <span class="token class-name">User</span> <span class="token function">findUserByName</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    user<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    user<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">return</span> user<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token comment">//è¾“å‡ºä¼šç»™æœªæäº¤çš„ageå­—æ®µèµ‹å€¼19ï¼Œå…¶ä»–çš„ä½¿ç”¨æäº¤çš„æ•°æ®</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div></li> <li><p>åŸºäº Map çš„åº”ç”¨åœºæ™¯ç¤ºä¾‹ 2ï¼šModelAttribute ä¿®é¥°æ–¹æ³•ä¸å¸¦è¿”å›å€¼</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/updateUser&quot;</span><span class="token punctuation">)</span> 
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testModelAttribute</span><span class="token punctuation">(</span><span class="token annotation punctuation">@ModelAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ§åˆ¶å™¨ä¸­å¤„ç†è¯·æ±‚çš„æ–¹æ³•ï¼šä¿®æ”¹ç”¨æˆ·ï¼š&quot;</span><span class="token operator">+</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token annotation punctuation">@ModelAttribute</span> 
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">showModel</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">,</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
 	<span class="token comment">//æ¨¡æ‹Ÿå»æ•°æ®åº“æŸ¥è¯¢  </span>
    <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token function">findUserByName</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰§è¡Œäº† showModel æ–¹æ³•&quot;</span><span class="token operator">+</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">,</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 
<span class="token comment">// æ¨¡æ‹Ÿå»æ•°æ®åº“æŸ¥è¯¢ </span>
<span class="token keyword">private</span> <span class="token class-name">User</span> <span class="token function">findUserByName</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    user<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    user<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">return</span> user<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token comment">//è¾“å‡ºä¼šç»™æœªæäº¤çš„ageå­—æ®µèµ‹å€¼19ï¼Œå…¶ä»–çš„ä½¿ç”¨æäº¤çš„æ•°æ®</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div></li></ul> <h2 id="multipart-æ–‡ä»¶"><a href="#multipart-æ–‡ä»¶" class="header-anchor">#</a> Multipart æ–‡ä»¶</h2> <h3 id="æ–‡ä»¶ä¸Šä¼ çš„å›é¡¾"><a href="#æ–‡ä»¶ä¸Šä¼ çš„å›é¡¾" class="header-anchor">#</a> æ–‡ä»¶ä¸Šä¼ çš„å›é¡¾</h3> <ul><li><strong>formè¡¨å•çš„<code>enctype</code>å–å€¼å¿…é¡»æ˜¯<code>multipart/form-data</code></strong>(é»˜è®¤å€¼æ˜¯<code>application/x-www-form-urlencoded</code>)ã€‚<code>enctype</code>ä»£è¡¨è¡¨å•è¯·æ±‚æ­£æ–‡çš„ç±»å‹</li> <li><code>method</code> å±æ€§å–å€¼å¿…é¡»æ˜¯ <code>Post</code></li> <li>æä¾›ä¸€ä¸ª<strong>æ–‡ä»¶é€‰æ‹©åŸŸ</strong><code>&lt;input type=&quot;file&quot; /&gt;</code></li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user/fileupload<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span> <span class="token attr-name">enctype</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>multipart/form-data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>   
    é€‰æ‹©æ–‡ä»¶ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>upload<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ä¸Šä¼ æ–‡ä»¶<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;/fileupload&quot;</span><span class="token punctuation">)</span>  
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">fileupload</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>  
    <span class="token comment">// å…ˆè·å–åˆ°è¦ä¸Šä¼ çš„æ–‡ä»¶ç›®å½•    </span>
    <span class="token class-name">String</span> path <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token string">&quot;/uploads&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token comment">// åˆ›å»ºFileå¯¹è±¡ï¼Œä¸€ä¼šå‘è¯¥è·¯å¾„ä¸‹ä¸Šä¼ æ–‡ä»¶    </span>
    <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token comment">// åˆ¤æ–­è·¯å¾„æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ›å»ºè¯¥è·¯å¾„    </span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        file<span class="token punctuation">.</span><span class="token function">mkdirs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
    <span class="token comment">// åˆ›å»ºç£ç›˜æ–‡ä»¶é¡¹å·¥å‚    </span>
    <span class="token class-name">DiskFileItemFactory</span> factory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DiskFileItemFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token class-name">ServletFileUpload</span> fileUpload <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServletFileUpload</span><span class="token punctuation">(</span>factory<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token comment">// è§£ærequestå¯¹è±¡    </span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FileItem</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> fileUpload<span class="token punctuation">.</span><span class="token function">parseRequest</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token comment">// éå†    </span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">FileItem</span> fileItem <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token comment">// åˆ¤æ–­æ–‡ä»¶é¡¹æ˜¯æ™®é€šå­—æ®µï¼Œè¿˜æ˜¯ä¸Šä¼ çš„æ–‡ä»¶        </span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>fileItem<span class="token punctuation">.</span><span class="token function">isFormField</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            

        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>  
            <span class="token comment">// ä¸Šä¼ æ–‡ä»¶é¡¹</span>
            <span class="token comment">// è·å–åˆ°ä¸Šä¼ æ–‡ä»¶çš„åç§°            </span>
            <span class="token class-name">String</span> filename <span class="token operator">=</span> fileItem<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
            <span class="token comment">// ä¸Šä¼ æ–‡ä»¶            </span>
            fileItem<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> filename<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
            <span class="token comment">// åˆ é™¤ä¸´æ—¶æ–‡ä»¶            </span>
            fileItem<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span>  
    <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h3 id="springmvcä¼ ç»Ÿæ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ "><a href="#springmvcä¼ ç»Ÿæ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ " class="header-anchor">#</a> SpringMVCä¼ ç»Ÿæ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ </h3> <p>pom.xmlä¸­æ·»åŠ ä¾èµ–ï¼ˆå¯ä¸åŠ ï¼‰</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>commons-fileupload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>commons-fileupload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.3.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>commons-io<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>commons-io<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>  
&lt;/dependency
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>ä¼ ç»Ÿæ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ ï¼ŒæŒ‡çš„æ˜¯æˆ‘ä»¬<strong>ä¸Šä¼ çš„æ–‡ä»¶å’Œè®¿é—®çš„åº”ç”¨å­˜åœ¨äºåŒä¸€å°æœåŠ¡å™¨ä¸Š</strong>ã€‚ å¹¶ä¸”ä¸Šä¼ å®Œæˆä¹‹åï¼Œæµè§ˆå™¨å¯èƒ½è·³è½¬ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;/fileupload2&quot;</span><span class="token punctuation">)</span>  
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">fileupload2</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span><span class="token class-name">MultipartFile</span> upload<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>  
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;SpringMVCæ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token comment">// å…ˆè·å–åˆ°è¦ä¸Šä¼ çš„æ–‡ä»¶ç›®å½•    </span>
    <span class="token class-name">String</span> path <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token string">&quot;/uploads&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token comment">// åˆ›å»ºFileå¯¹è±¡ï¼Œä¸€ä¼šå‘è¯¥è·¯å¾„ä¸‹ä¸Šä¼ æ–‡ä»¶    </span>
    <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token comment">// åˆ¤æ–­è·¯å¾„æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ›å»ºè¯¥è·¯å¾„    </span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        file<span class="token punctuation">.</span><span class="token function">mkdirs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
    <span class="token comment">// è·å–åˆ°ä¸Šä¼ æ–‡ä»¶çš„åç§°    </span>
    <span class="token class-name">String</span> filename <span class="token operator">=</span> upload<span class="token punctuation">.</span><span class="token function">getOriginalFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token class-name">String</span> uuid <span class="token operator">=</span> UUID<span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token comment">// æŠŠæ–‡ä»¶çš„åç§°å”¯ä¸€åŒ–    </span>
    filename <span class="token operator">=</span> uuid<span class="token operator">+</span><span class="token string">&quot;_&quot;</span><span class="token operator">+</span>filename<span class="token punctuation">;</span>  
    <span class="token comment">// ä¸Šä¼ æ–‡ä»¶    </span>
    upload<span class="token punctuation">.</span><span class="token function">transferTo</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span>filename<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><ul><li><p>SpringBooté…ç½®</p></li> <li><p>JavaConfigé…ç½®<strong>MultipartResolver</strong>æ¥å£çš„å®ç°ç±»</p> <ul><li><p><code>CommonsMultipartResolver</code>ï¼šä½¿ç”¨Jakarta Commons FileUploadè§£æmultipartè¯·æ±‚</p></li> <li><p><strong><code>StandardServletMultipartResolver</code></strong>ï¼šä¾èµ–äº<strong>Servlet3.0</strong>å¯¹multipartè¯·æ±‚æ”¯æŒï¼ˆ<strong>å§‹äºSpring3.1</strong>ï¼‰</p> <p>é€‰æ‹©è¿™ä¸ªï¼Œå®ƒä½¿ç”¨Servletæ‰€æä¾›çš„åŠŸèƒ½æ”¯æŒï¼Œä¸ä¾èµ–å…¶ä»–é¡¹ç›®ã€‚å®ƒ<strong>æ²¡æœ‰æ„é€ å™¨å‚æ•°å’Œå±æ€§</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">MultipartResolver</span> <span class="token function">multipartResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">StandardServletMultipartResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>å¦‚æœé…ç½®DispatcherServletçš„Servletåˆå§‹åŒ–ç±»ç»§æ‰¿äº†<strong>AbstractAnnotationConfigDispatcherServletInitializer</strong>æˆ–AbstractDispatcherServletInitializerçš„è¯ï¼Œé€šè¿‡<strong>é‡è½½customize Registration()æ–¹æ³•</strong>ï¼ˆå®ƒä¼šå¾—åˆ°Dynamicå‚æ•°ï¼‰æ¥é…ç½®multipartçš„å…·ä½“ç»†èŠ‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//class Config extends AbstractAnnotationConfigDispatcherServletInitializer</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">customizeRegistration</span><span class="token punctuation">(</span><span class="token class-name">Dynamic</span> registration<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    registration<span class="token punctuation">.</span><span class="token function">setMultipartConfig</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MultipartConfigElement</span><span class="token punctuation">(</span><span class="token string">&quot;/tmp/file/uploads&quot;</span><span class="token punctuation">,</span><span class="token number">2097152</span><span class="token punctuation">,</span><span class="token number">4194304</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//location,maxFileSize,maxRequestSize,fileSizeThreshold(ä¸º0åˆ™ä¸Šä¼ æ–‡ä»¶å†™åˆ°ç£ç›˜)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ul></li> <li><p>åœ¨<code>spring-config.xml</code>é…ç½®æ–‡ä»¶è§£æå™¨</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- é…ç½®æ–‡ä»¶ä¸Šä¼ è§£æå™¨ï¼Œidæ˜¯å›ºå®šçš„ï¼ï¼ï¼--&gt;</span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>multipartResolver<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.multipart.commons.CommonsMultipartResolver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
 <span class="token comment">&lt;!-- è®¾ç½®ä¸Šä¼ æ–‡ä»¶çš„æœ€å¤§å°ºå¯¸ä¸º 5MB --&gt;</span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>maxUploadSize<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>   
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>5242880<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ul> <h3 id="springmvcè·¨æœåŠ¡å™¨æ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ "><a href="#springmvcè·¨æœåŠ¡å™¨æ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ " class="header-anchor">#</a> SpringMVCè·¨æœåŠ¡å™¨æ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ </h3> <p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¼šæœ‰å¾ˆå¤šå¤„ç†ä¸åŒåŠŸèƒ½çš„æœåŠ¡å™¨ï¼ˆä¸æ˜¯æœåŠ¡å™¨é›†ç¾¤ï¼‰ï¼Œç›®çš„æ˜¯è®©æœåŠ¡å™¨å„å¸å…¶èŒï¼Œä»è€Œæé«˜æˆ‘ä»¬é¡¹ç›®çš„è¿è¡Œæ•ˆç‡ã€‚ä¾‹å¦‚ï¼š</p> <ul><li>åº”ç”¨æœåŠ¡å™¨ï¼šè´Ÿè´£éƒ¨ç½²æˆ‘ä»¬çš„åº”ç”¨</li> <li>æ–‡ä»¶æœåŠ¡å™¨ï¼šè´Ÿè´£å­˜å‚¨ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶çš„æœåŠ¡å™¨</li> <li>æ•°æ®åº“æœåŠ¡å™¨ï¼šè¿è¡Œæˆ‘ä»¬çš„æ•°æ®åº“</li> <li>â€¦â€¦</li></ul> <p>æ­¥éª¤ï¼š</p> <ol><li><p><strong>æ­å»ºå›¾ç‰‡æœåŠ¡å™¨</strong></p> <ol><li>æ ¹æ®æ–‡æ¡£é…ç½®tomcat9çš„æœåŠ¡å™¨ï¼Œç°åœ¨æ˜¯2ä¸ªæœåŠ¡å™¨</li> <li>å¯¼å…¥èµ„æ–™ä¸­day02_springmvc5_02imageé¡¹ç›®ï¼Œä½œä¸ºå›¾ç‰‡æœåŠ¡å™¨ä½¿ç”¨</li></ol></li> <li><p>å®ç°SpringMVCè·¨æœåŠ¡å™¨æ–¹å¼æ–‡ä»¶ä¸Šä¼ </p> <ol><li><p>å¯¼å…¥ä¾èµ–çš„jaråŒ…çš„åæ ‡ï¼ˆsunå…¬å¸æä¾›çš„ï¼Œä¸‹é¢å¯¼åŒ…æ—¶æ³¨æ„ï¼‰</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.sun.jersey<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jersey-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.18.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.sun.jersey<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jersey-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.18.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li> <li><p>æ§åˆ¶å™¨</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;/fileupload3&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">fileupload3</span><span class="token punctuation">(</span><span class="token class-name">MultipartFile</span> upload<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>  
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;SpringMVCè·¨æœåŠ¡å™¨æ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token comment">// å®šä¹‰å›¾ç‰‡æœåŠ¡å™¨çš„è¯·æ±‚è·¯å¾„    </span>
    <span class="token class-name">String</span> path <span class="token operator">=</span> <span class="token string">&quot;http://localhost:9090/day02_springmvc5_02image/uploads/&quot;</span><span class="token punctuation">;</span><span class="token comment">//åˆ›å»ºå¥½è¯¥æ–‡ä»¶å¤¹          </span>
    <span class="token comment">// è·å–åˆ°ä¸Šä¼ æ–‡ä»¶çš„åç§°    </span>
    <span class="token class-name">String</span> filename <span class="token operator">=</span> upload<span class="token punctuation">.</span><span class="token function">getOriginalFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token class-name">String</span> uuid <span class="token operator">=</span> UUID<span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token comment">// æŠŠæ–‡ä»¶çš„åç§°å”¯ä¸€åŒ–    </span>
    filename <span class="token operator">=</span> uuid<span class="token operator">+</span><span class="token string">&quot;_&quot;</span><span class="token operator">+</span>filename<span class="token punctuation">;</span>  
    <span class="token comment">// å‘å›¾ç‰‡æœåŠ¡å™¨ä¸Šä¼ æ–‡ä»¶            </span>
    <span class="token comment">// åˆ›å»ºå®¢æˆ·ç«¯å¯¹è±¡    </span>
    <span class="token class-name">Client</span> client <span class="token operator">=</span> <span class="token class-name">Client</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token comment">// è¿æ¥å›¾ç‰‡æœåŠ¡å™¨    </span>
    <span class="token class-name">WebResource</span> webResource <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">resource</span><span class="token punctuation">(</span>path<span class="token operator">+</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token comment">// ä¸Šä¼ æ–‡ä»¶    </span>
    webResource<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>upload<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></li> <li><p><strong>é…ç½®æ–‡ä»¶è§£æå™¨</strong>ï¼ŒåŒä¸Š</p></li></ol></li></ol></div></div> <div class="page-slot page-slot-bottom"><!-- æ¨ªå‘è‡ªé€‚åº” -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6620245489"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/xugaoyi/vuepress-theme-vdoing/edit/master/docs/200.Java Web/400.SpringMVC/302.è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.md" target="_blank" rel="noopener noreferrer">ç¼–è¾‘</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2021/06/21, 15:45:42</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/c22a7d/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">æ¦‚è¿°</div></a> <a href="/pages/1dad42/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">å“åº”ç»“æœ</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/pages/c22a7d/" class="prev">æ¦‚è¿°</a></span> <span class="next"><a href="/pages/1dad42/">å“åº”ç»“æœ</a>â†’
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">æœ€è¿‘æ›´æ–°</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/7fcc72/"><div>çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸ</div></a> <span>07-06</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/a4ef99/"><div>çº¿ç¨‹å®‰å…¨ç†è®º</div></a> <span>06-24</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/890a0b/"><div>å¹¶å‘ç®€å²</div></a> <span>06-24</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">æ›´å¤šæ–‡ç« &gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:894072666@qq.com" title="å‘é‚®ä»¶" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/xugaoyi" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="å¬éŸ³ä¹" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2019-2021
    <span>Evan Xu | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <!----> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><i class="close-but">Ã—</i> <div><!-- å›ºå®š160*160px -->
      <ins class="adsbygoogle"
          style="display:inline-block;max-width:160px;max-height:160px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="8377369658"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      </div></div></div></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.ac5e3ef4.js" defer></script><script src="/assets/js/2.d960b235.js" defer></script><script src="/assets/js/129.a2b82230.js" defer></script>
  </body>
</html>