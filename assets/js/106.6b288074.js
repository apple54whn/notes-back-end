(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{729:function(s,a,t){"use strict";t.r(a);var n=t(11),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"dml"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dml"}},[s._v("#")]),s._v(" DML")]),s._v(" "),t("p",[t("strong",[s._v("DML éœ€è¦ commitï¼›")])]),s._v(" "),t("h2",{attrs:{id:"å‡†å¤‡å·¥ä½œ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‡†å¤‡å·¥ä½œ"}},[s._v("#")]),s._v(" å‡†å¤‡å·¥ä½œ")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mysql> CREATE TABLE first_table (\n    ->     first_column INT,\n    ->     second_column VARCHAR(100)\n    -> );\nQuery OK, 0 rows affected (0.03 sec)\n\nmysql>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h2",{attrs:{id:"æ’å…¥æ•°æ®-insert-into-ğŸ”¥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ’å…¥æ•°æ®-insert-into-ğŸ”¥"}},[s._v("#")]),s._v(" æ’å…¥æ•°æ®â€”INSERT INTO ğŸ”¥")]),s._v(" "),t("h3",{attrs:{id:"æ’å…¥å®Œæ•´è®°å½•-â˜ ï¸"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ’å…¥å®Œæ•´è®°å½•-â˜ ï¸"}},[s._v("#")]),s._v(" æ’å…¥å®Œæ•´è®°å½• â˜ ï¸")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- PostgreSQLä¸­ä½¿ç”¨ BEGIN TRANSACTION; Oracleå’ŒDB2ç§ä¸éœ€è¦è¯¥è¯­å¥")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("START")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TRANSACTION")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" è¡¨å "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("åˆ—"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("çš„å€¼ï¼Œåˆ—"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("çš„å€¼"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" åˆ—nçš„å€¼"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMIT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("ul",[t("li",[s._v("åˆ—åå’Œè¡¨åè¦ä¸€ä¸€å¯¹åº”ï¼Œå³"),t("strong",[s._v("å€¼çš„é¡ºåºå¿…é¡»ä¸è¡¨å½“å‰çš„åˆ—çš„é¡ºåºç›¸åŒ")])]),s._v(" "),t("li",[s._v("æ²¡æœ‰æŒ‡å®šçš„åˆ—ç­‰åŒäºæ’å…¥ null å€¼ï¼Œæ’å…¥è®°å½•"),t("strong",[s._v("æ€»æ˜¯æ’å…¥ä¸€è¡Œ")])]),s._v(" "),t("li",[s._v("è¦æ’å…¥çš„å€¼ä¸º nullï¼Œåˆ™è¾“å…¥ null")]),s._v(" "),t("li",[s._v("æ€»çš„æ¥è¯´"),t("strong",[s._v("ä¸æ˜¯ç‰¹åˆ«æ¨èè¯¥å†™æ³•")]),s._v("ï¼ï¼ï¼")])]),s._v(" "),t("h3",{attrs:{id:"æ’å…¥æŒ‡å®šåˆ—-æ‰¹é‡æ’å…¥-ğŸ”¥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ’å…¥æŒ‡å®šåˆ—-æ‰¹é‡æ’å…¥-ğŸ”¥"}},[s._v("#")]),s._v(" æ’å…¥æŒ‡å®šåˆ— & æ‰¹é‡æ’å…¥ ğŸ”¥")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- PostgreSQLä¸­ä½¿ç”¨ BEGIN TRANSACTION; Oracleå’ŒDB2ç§ä¸éœ€è¦è¯¥è¯­å¥")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("START")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TRANSACTION")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" è¡¨å"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    åˆ—å"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("åˆ—å"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("åˆ—å€¼"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" åˆ—å€¼"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("åˆ—å€¼"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" åˆ—å€¼"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- ç›´æ¥æ’å…¥å¤šè¡Œæ•°æ®")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMIT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- Oracleä¸­çš„å¤šè¡ŒINSERT")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" è¡¨å "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'æµ‹è¯•1'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" è¡¨å "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'æµ‹è¯•2'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"å°†æŸä¸ªæŸ¥è¯¢çš„ç»“æœé›†æ’å…¥è¡¨ä¸­-è •è™«å¤åˆ¶-ğŸ”¥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å°†æŸä¸ªæŸ¥è¯¢çš„ç»“æœé›†æ’å…¥è¡¨ä¸­-è •è™«å¤åˆ¶-ğŸ”¥"}},[s._v("#")]),s._v(" å°†æŸä¸ªæŸ¥è¯¢çš„ç»“æœé›†æ’å…¥è¡¨ä¸­â€”è •è™«å¤åˆ¶ ğŸ”¥")]),s._v(" "),t("p",[s._v("å°†ä¸€å¼ å·²ç»å­˜åœ¨çš„è¡¨ä¸­çš„æ•°æ®å¤åˆ¶åˆ°å¦ä¸€å¼ è¡¨ä¸­ã€‚SELECT å­å¥å¯ä»¥ä½¿ç”¨ä»»ä½• SQL è¯­æ³•ï¼Œä½† ORDER BY æ— æ•ˆ")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" è¡¨å"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" è¡¨å"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- å¤åˆ¶æ‰€æœ‰")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" è¡¨å"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("åˆ—"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" åˆ—"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" åˆ—"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" åˆ—"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" è¡¨å"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- å¤åˆ¶éƒ¨åˆ†åˆ—")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("å…ˆæ‰§è¡Œ SELECT æŸ¥è¯¢ï¼Œç„¶åæŠŠæŸ¥è¯¢å¾—åˆ°çš„ç»“æœé›†æ’å…¥åˆ°æŒ‡å®šçš„è¡¨ä¸­ã€‚")]),s._v(" "),t("h3",{attrs:{id:"insert-ignore-into-ğŸ”¥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#insert-ignore-into-ğŸ”¥"}},[s._v("#")]),s._v(" INSERT IGNORE INTO ğŸ”¥")]),s._v(" "),t("p",[s._v("å¯¹äºä¸€äº›æ˜¯ä¸»é”®æˆ–è€…å…·æœ‰"),t("code",[s._v("UNIQUE")]),s._v("çº¦æŸçš„åˆ—æˆ–è€…åˆ—ç»„åˆæ¥è¯´ï¼Œå®ƒä»¬ä¸å…è®¸é‡å¤å€¼çš„å‡ºç°ï¼Œæ‰€ä»¥å¦‚æœå¾…æ’å…¥è®°å½•çš„åˆ—å€¼ä¸å·²æœ‰çš„å€¼é‡å¤çš„è¯å°±ä¼šæŠ¥é”™ï¼Œæ¯”å¦‚è¿™æ ·ï¼š")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mysql> INSERT INTO first_table(first_column, second_column) VALUES(1, 'å“‡å“ˆå“ˆ');\nERROR 1062 (23000): Duplicate entry '1' for key 'first_column'\nmysql>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("å¯æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼šæˆ‘ä»¬åœ¨æ’å…¥è®°å½•ä¹‹å‰åˆä¸çŸ¥é“è¡¨é‡Œè¾¹æœ‰æ²¡æœ‰ä¸»é”®æˆ–è€…å…·æœ‰"),t("code",[s._v("UNIQUE")]),s._v("çº¦æŸçš„åˆ—æˆ–è€…åˆ—ç»„åˆé‡å¤çš„è®°å½•ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿«åˆ‡çš„éœ€è¦è¿™æ ·çš„ä¸€ä¸ªåŠŸèƒ½ï¼šå¯¹äºé‚£äº›æ˜¯ä¸»é”®æˆ–è€…å…·æœ‰ UNIQUE çº¦æŸçš„åˆ—æˆ–è€…åˆ—ç»„åˆæ¥è¯´ï¼Œå¦‚æœè¡¨ä¸­å·²å­˜åœ¨çš„è®°å½•ä¸­æ²¡æœ‰ä¸å¾…æ’å…¥è®°å½•åœ¨è¿™äº›åˆ—æˆ–è€…åˆ—ç»„åˆä¸Šé‡å¤çš„å€¼ï¼Œé‚£ä¹ˆå°±æŠŠå¾…æ’å…¥è®°å½•æ’åˆ°è¡¨ä¸­ï¼Œå¦åˆ™å¿½ç•¥æ­¤æ¬¡æ’å…¥æ“ä½œã€‚è®¾è®¡"),t("code",[s._v("MySQL")]),s._v("çš„å¤§å”ç»™æˆ‘ä»¬æä¾›äº†"),t("code",[s._v("INSERT IGNORE")]),s._v("çš„è¯­æ³•æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ï¼š")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mysql> INSERT IGNORE INTO first_table(first_column, second_column) VALUES(1, 'å“‡å“ˆå“ˆ') ;\nQuery OK, 0 rows affected, 1 warning (0.00 sec)\n\nmysql>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("æ‰¹é‡æ’å…¥åŒæ ·é€‚ç”¨ï¼")]),s._v(" "),t("h3",{attrs:{id:"on-duplicate-key-update"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#on-duplicate-key-update"}},[s._v("#")]),s._v(" ON DUPLICATE KEY UPDATE ...")]),s._v(" "),t("p",[s._v("å¯¹äºä¸»é”®æˆ–è€…æœ‰å”¯ä¸€æ€§çº¦æŸçš„åˆ—æˆ–åˆ—ç»„åˆæ¥è¯´ï¼Œæ–°æ’å…¥çš„è®°å½•å¦‚æœå’Œè¡¨ä¸­å·²å­˜åœ¨çš„è®°å½•é‡å¤çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©çš„ç­–ç•¥ä¸ä»…ä»…æ˜¯å¿½ç•¥è¯¥æ¡è®°å½•çš„æ’å…¥ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©"),t("strong",[s._v("æ›´æ–°è¿™æ¡é‡å¤çš„æ—§è®°å½•")]),s._v("ã€‚æ¯”å¦‚æˆ‘ä»¬æƒ³åœ¨"),t("code",[s._v("first_table")]),s._v("è¡¨ä¸­æ’å…¥ä¸€æ¡è®°å½•ï¼Œå†…å®¹æ˜¯"),t("code",[s._v("(1, 'å“‡å“ˆå“ˆ')")]),s._v("ï¼Œæˆ‘ä»¬æƒ³è¦çš„æ•ˆæœæ˜¯ï¼šå¯¹äºé‚£äº›æ˜¯ä¸»é”®æˆ–è€…å…·æœ‰ UNIQUE çº¦æŸçš„åˆ—æˆ–è€…åˆ—ç»„åˆæ¥è¯´ï¼Œå¦‚æœè¡¨ä¸­å·²å­˜åœ¨çš„è®°å½•ä¸­æ²¡æœ‰ä¸å¾…æ’å…¥è®°å½•åœ¨è¿™äº›åˆ—æˆ–è€…åˆ—ç»„åˆä¸Šé‡å¤çš„å€¼ï¼Œé‚£ä¹ˆå°±æŠŠå¾…æ’å…¥è®°å½•æ’åˆ°è¡¨ä¸­ï¼Œå¦åˆ™æŒ‰ç…§è§„å®šå»æ›´æ–°é‚£æ¡é‡å¤çš„è®°å½•ä¸­æŸäº›åˆ—çš„å€¼ã€‚è®¾è®¡"),t("code",[s._v("MySQL")]),s._v("çš„å¤§å”ç»™æˆ‘ä»¬æä¾›äº†"),t("code",[s._v("INSERT ... ON DUPLICATE KEY UPDATE ...")]),s._v("çš„è¯­æ³•æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ï¼š")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mysql> INSERT INTO first_table (first_column, second_column) VALUES(1, 'å“‡å“ˆå“ˆ') ON DUPLICATE KEY UPDATE second_column = 'é›ªç¢§';\nQuery OK, 2 rows affected (0.00 sec)\n\nmysql>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("è¿™ä¸ªè¯­å¥çš„æ„æ€å°±æ˜¯ï¼Œå¯¹äºè¦æ’å…¥çš„æ•°æ®"),t("code",[s._v("(1, 'å“‡å“ˆå“ˆ')")]),s._v("æ¥è¯´ï¼Œå¦‚æœ"),t("code",[s._v("first_table")]),s._v("è¡¨ä¸­å·²ç»å­˜åœ¨"),t("code",[s._v("first_column")]),s._v("çš„åˆ—å€¼ä¸º"),t("code",[s._v("1")]),s._v("çš„è®°å½•ï¼ˆå› ä¸º"),t("code",[s._v("first_column")]),s._v("åˆ—å…·æœ‰"),t("code",[s._v("UNIQUE")]),s._v("çº¦æŸï¼‰ï¼Œé‚£ä¹ˆå°±æŠŠè¯¥è®°å½•çš„"),t("code",[s._v("second_column")]),s._v("åˆ—æ›´æ–°ä¸º"),t("code",[s._v("'é›ªç¢§'")]),s._v("ï¼Œçœ‹ä¸€ä¸‹æ•ˆæœï¼š")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mysql> SELECT * FROM first_table;\n+--------------+---------------+\n| first_column | second_column |\n+--------------+---------------+\n|            1 | é›ªç¢§          |\n|            2 | NULL          |\n|            3 | ccc           |\n|            4 | ddd           |\n|            5 | NULL          |\n|         NULL | fff           |\n|            7 | ggg           |\n|            8 | hhh           |\n|            9 | iii           |\n+--------------+---------------+\n9 rows in set (0.00 sec)\n\nmysql>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("p",[s._v("å¯¹äºé‚£äº›æ˜¯ä¸»é”®æˆ–è€…å…·æœ‰ UNIQUE çº¦æŸçš„åˆ—æˆ–è€…åˆ—ç»„åˆæ¥è¯´ï¼Œå¦‚æœè¡¨ä¸­å·²å­˜åœ¨çš„è®°å½•ä¸­æœ‰ä¸å¾…æ’å…¥è®°å½•åœ¨è¿™äº›åˆ—æˆ–è€…åˆ—ç»„åˆä¸Šé‡å¤çš„å€¼ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨"),t("code",[s._v("VALUES(åˆ—å)")]),s._v("çš„å½¢å¼æ¥å¼•ç”¨å¾…æ’å…¥è®°å½•ä¸­å¯¹åº”åˆ—çš„å€¼ï¼Œæ¯”æ–¹è¯´ä¸‹è¾¹è¿™ä¸ª INSERT è¯­å¥ï¼š")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mysql> INSERT INTO first_table (first_column, second_column) VALUES(1, 'å“‡å“ˆå“ˆ') ON DUPLICATE KEY UPDATE second_column = VALUES(second_column);\nQuery OK, 2 rows affected (0.00 sec)\n\nmysql>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("å…¶ä¸­çš„"),t("code",[s._v("VALUES(second_column)")]),s._v("å°±ä»£è¡¨ç€å¾…æ’å…¥è®°å½•ä¸­"),t("code",[s._v("second_column")]),s._v("çš„å€¼ï¼Œæœ¬ä¾‹ä¸­å°±æ˜¯"),t("code",[s._v("'å“‡å“ˆå“ˆ'")]),s._v("ã€‚æœ‰çš„åŒå­¦å°±å‘µå‘µäº†ï¼Œæˆ‘ç›´æ¥å†™æˆä¸‹è¾¹è¿™ç§å½¢å¼ä¸å¥½ä¹ˆï¼š")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("INSERT INTO first_table (first_column, second_column) VALUES(1, 'å“‡å“ˆå“ˆ') ON DUPLICATE KEY UPDATE second_column = 'å“‡å“ˆå“ˆ';\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("æ˜¯çš„ï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œä½†æ˜¯åœ¨æ‰¹é‡æ’å…¥å¤§é‡è®°å½•çš„æ—¶å€™è¯¥å’‹åŠå‘¢ï¼Ÿæ­¤æ—¶"),t("code",[s._v("VALUES(second_column)")]),s._v("å°± æ´¾ä¸Šäº†å¤§ç”¨åœºï¼š")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mysql> INSERT INTO first_table (first_column, second_column) VALUES(2, 'çº¢ç‰›'), (3, 'æ©™æ±å„¿') ON DUPLICATE KEY UPDATE second_column = VALUES(second_column);\nQuery OK, 4 rows affected (0.00 sec)\nRecords: 2  Duplicates: 2  Warnings: 0\n\nmysql>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("æˆ‘ä»¬å‡†å¤‡æ‰¹é‡æ’å…¥ä¸¤æ¡è®°å½•"),t("code",[s._v("(2, 'çº¢ç‰›')")]),s._v("å’Œ"),t("code",[s._v("(3, 'æ©™æ±å„¿')")]),s._v("ï¼Œåœ¨é‡åˆ°é‡å¤è®°å½•æ—¶æŠŠè¯¥é‡å¤è®°å½•çš„"),t("code",[s._v("second_column")]),s._v("åˆ—æ›´æ–°æˆå¾…æ’å…¥è®°å½•ä¸­"),t("code",[s._v("second_column")]),s._v("åˆ—çš„å€¼å°±å¥½äº†ï¼Œæ‰€ä»¥æ•ˆæœæ˜¯è¿™æ ·ï¼š")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mysql> SELECT * FROM first_table;\n+--------------+---------------+\n| first_column | second_column |\n+--------------+---------------+\n|            1 | å“‡å“ˆå“ˆ        |\n|            2 | çº¢ç‰›          |\n|            3 | æ©™æ±å„¿        |\n|            4 | ddd           |\n|            5 | NULL          |\n|         NULL | fff           |\n|            7 | ggg           |\n|            8 | hhh           |\n|            9 | iii           |\n+--------------+---------------+\n9 rows in set (0.00 sec)\n\nmysql>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("h2",{attrs:{id:"åˆ é™¤æ•°æ®-delete-from-ğŸ”¥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#åˆ é™¤æ•°æ®-delete-from-ğŸ”¥"}},[s._v("#")]),s._v(" åˆ é™¤æ•°æ®â€”DELETE FROM ğŸ”¥")]),s._v(" "),t("p",[s._v("DELETE è¯­å¥ä¸­ä¸èƒ½ä½¿ç”¨ GROUP BYã€HAVINGï¼Œ"),t("strong",[s._v("åªèƒ½ä½¿ç”¨ WHEREï¼ˆåŸºæœ¬æ˜¯å¿…é¡»ä½¿ç”¨ï¼ï¼ï¼ï¼‰")]),s._v("ï¼ŒORDER BYï¼ŒLIMITã€‚")]),s._v(" "),t("p",[s._v("æˆ‘ä»¬å¯ä»¥ä½¿ç”¨"),t("code",[s._v("LIMIT")]),s._v("å­å¥æ¥é™åˆ¶æƒ³è¦åˆ é™¤çš„è®°å½•æ•°é‡ï¼Œä½¿ç”¨"),t("code",[s._v("ORDER BY")]),s._v("å­å¥æ¥æŒ‡å®šç¬¦åˆæ¡ä»¶çš„è®°å½•çš„åˆ é™¤é¡ºåº")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELETE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" è¡¨å "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" æ¡ä»¶"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- è‹¥ä¸åŠ æ¡ä»¶ï¼Œåˆ™åˆ é™¤æ‰€æœ‰è®°å½•")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELETE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" first_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" first_column "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LIMIT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("DELETE"),t("strong",[s._v("æ¯æ¬¡")]),s._v("ä»è¡¨ä¸­åˆ é™¤ä¸€è¡Œï¼Œå¹¶å°†è¯¥æ“ä½œä½œä¸º"),t("strong",[s._v("äº‹åŠ¡è®°å½•åœ¨æ—¥å¿—ä¸­")]),s._v("ä»¥ä¾¿å›æ»šï¼Œ"),t("strong",[s._v("ä¸æ¸…ç©º AUTO_INCREMENT è®°å½•æ•°")])]),s._v(" "),t("h2",{attrs:{id:"åˆ é™¤è¡¨ä¸­æ‰€æœ‰æ•°æ®-truncate-ğŸ”¥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#åˆ é™¤è¡¨ä¸­æ‰€æœ‰æ•°æ®-truncate-ğŸ”¥"}},[s._v("#")]),s._v(" åˆ é™¤è¡¨ä¸­æ‰€æœ‰æ•°æ®â€”TRUNCATE ğŸ”¥")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TRUNCATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" è¡¨å"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("TRUNCATE"),t("strong",[s._v("ç›´æ¥åˆ é™¤è¡¨å¹¶é‡æ–°åˆ›å»ºä¸€å¼ ç›¸åŒç»“æ„çš„æ–°è¡¨")]),s._v("ï¼Œä¸èƒ½å›æ»šï¼Œ AUTO_INCREMENT ç½®ä¸º 0ï¼Œæ•ˆç‡æ¯” DELETE é«˜")]),s._v(" "),t("p",[s._v("å…¶å®å°±æ˜¯æ‰§è¡Œäº† DROP TABLE å’Œ CREATE TABLE è¯­å¥")]),s._v(" "),t("h2",{attrs:{id:"ä¿®æ”¹æ•°æ®-updateâ€¦set-ğŸ”¥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¿®æ”¹æ•°æ®-updateâ€¦set-ğŸ”¥"}},[s._v("#")]),s._v(" ä¿®æ”¹æ•°æ®â€”UPDATEâ€¦SET ğŸ”¥")]),s._v(" "),t("p",[s._v("ä½¿ç”¨ UPDATE è¯­å¥å¯ä»¥å°†å€¼æ¸…ç©ºä¸º NULL(ä½†åªé™äºæœªè®¾ç½® NOT NULL çº¦æŸçš„åˆ—)ã€‚")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" è¡¨å "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" åˆ—å"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("åˆ—å€¼"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" åˆ—å"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("åˆ—å€¼"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" æ¡ä»¶"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- ä¸åŠ æ¡ä»¶åˆ™å°†è¡¨ä¸­æ‰€æœ‰è®°å½•ä¿®æ”¹")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" è¡¨å "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("åˆ—å"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("åˆ—å"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("åˆ—å€¼"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("åˆ—å€¼"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" æ¡ä»¶"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- PostgreSQLå’ŒDB2ä¸­ä½¿ç”¨")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("å¦å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨"),t("code",[s._v("LIMIT")]),s._v("å­å¥æ¥é™åˆ¶æƒ³è¦æ›´æ–°çš„è®°å½•æ•°é‡ï¼Œä½¿ç”¨"),t("code",[s._v("ORDER BY")]),s._v("å­å¥æ¥æŒ‡å®šç¬¦åˆæ¡ä»¶çš„è®°å½•çš„æ›´æ–°é¡ºåº")])])}),[],!1,null,null,null);a.default=e.exports}}]);