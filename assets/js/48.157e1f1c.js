(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{548:function(s,t,a){s.exports=a.p+"assets/img/image-20210225222400165.6622b31d.png"},549:function(s,t,a){s.exports=a.p+"assets/img/image-20210307191240645.05964689.png"},744:function(s,t,a){"use strict";a.r(t);var n=a(11),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"list"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#list"}},[s._v("#")]),s._v(" list")]),s._v(" "),n("h2",{attrs:{id:"介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[s._v("#")]),s._v(" 介绍")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("数据存储需求：存储多个数据，并对数据进入存储空间的"),n("strong",[s._v("顺序")]),s._v("进行区分")])]),s._v(" "),n("li",[n("p",[s._v("需要的存储结构：一个存储空间保存多个数据，且通过数据可以体现"),n("strong",[s._v("进入顺序")])])]),s._v(" "),n("li",[n("p",[s._v("list 类型：保存多个数据，底层使用"),n("strong",[s._v("双向链表")]),s._v("存储结构实现")])]),s._v(" "),n("li",[n("p",[s._v("list 中保存的"),n("strong",[s._v("数据都是 string 类型")]),s._v("的，数据总容量是有限的，最多 232 - 1 个元素 (4294967295)。")])]),s._v(" "),n("li",[n("p",[s._v("list 具有"),n("strong",[s._v("索引")]),s._v("的概念（lrem），但是操作数据时"),n("strong",[s._v("通常以队列的形式进行入队出队操作")]),s._v("，或"),n("strong",[s._v("以栈的形式进行入栈出栈操作")])]),s._v(" "),n("p",[s._v("获取全部数据操作"),n("strong",[s._v("结束索引设置为-1")])])])]),s._v(" "),n("h2",{attrs:{id:"🔥lpush-rpush"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#🔥lpush-rpush"}},[s._v("#")]),s._v(" 🔥LPUSH / RPUSH")]),s._v(" "),n("p",[s._v("添加/修改数据，返回 list 长度")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("lpush key value1 [value2] ......\nrpush key value1 [value2] ......\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("示例")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("127.0.0.1:6379> lpush list1 a b\n(integer) 2\n127.0.0.1:6379> lpush list1 c\n(integer) 3\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h2",{attrs:{id:"lpushx-rpushx-只对已存在的列表执行推入操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#lpushx-rpushx-只对已存在的列表执行推入操作"}},[s._v("#")]),s._v(" LPUSHX / RPUSHX 只对已存在的列表执行推入操作")]),s._v(" "),n("p",[s._v("当用户调用LPUSH命令或RPUSH命令尝试将元素推入列表的时候，如果给定的列表并不存在，那么命令将自动创建一个空列表，并将元素推入刚刚创建的列表中。")]),s._v(" "),n("p",[s._v("而LPUSHX / RPUSHX则相反！且"),n("strong",[s._v("每次只能推入单个元素")])]),s._v(" "),n("h2",{attrs:{id:"🔥lpop-rpop"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#🔥lpop-rpop"}},[s._v("#")]),s._v(" 🔥LPOP / RPOP")]),s._v(" "),n("p",[n("strong",[s._v("移除并返回数据")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("lpop key\nrpop key\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("示例")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" lpush list2 a b c\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" lrange list2 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -1\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"c"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"b"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" lpop list2\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"c"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" lpop list2\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"b"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" lpop list2\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" lpop list2\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nil"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("h2",{attrs:{id:"🔥rpoplpush-将右端弹出的元素推入左端"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#🔥rpoplpush-将右端弹出的元素推入左端"}},[s._v("#")]),s._v(" 🔥RPOPLPUSH 将右端弹出的元素推入左端")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("RPOPLPUSH sourceList targetList\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("RPOPLPUSH命令会返回被弹出的元素作为结果。")]),s._v(" "),n("li",[s._v("RPOPLPUSH命令允许用户将源列表和目标列表设置为"),n("strong",[s._v("同一个列表")]),s._v("，在这种情况下，RPOPLPUSH命令的效果相当于将列表最右端的元素变成列表最左端的元素。")]),s._v(" "),n("li",[s._v("如果用户传给RPOPLPUSH命令的源列表并不存在，那么RPOPLPUSH命令将放弃执行弹出和推入操作，只返回一个空值nil表示命令执行失败")])]),s._v(" "),n("h2",{attrs:{id:"blpop-brpop-brpoplpush-阻塞版"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#blpop-brpop-brpoplpush-阻塞版"}},[s._v("#")]),s._v(" BLPOP / BRPOP / BRPOPLPUSH 阻塞版")]),s._v(" "),n("p",[n("strong",[s._v("规定时间内有则直接获取并移除数据，否则等 timeout")]),s._v("后停止等待")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("blpop key1 [key ...] timeout\nbrpop key1 [key ...] timeout\nbrpoplpush source destination timeout -- 待办\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h2",{attrs:{id:"🔥lrange-lindex-llen"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#🔥lrange-lindex-llen"}},[s._v("#")]),s._v(" 🔥LRANGE / LINDEX / LLEN")]),s._v(" "),n("p",[s._v("获取数据")]),s._v(" "),n("p",[s._v("LINDEX处理超出范围的索引（对于一个长度为N的非空列表来说）：")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("它的正数索引必然大于等于0，并且小于等于N-1。")])]),s._v(" "),n("li",[n("p",[s._v("它的负数索引必然小于等于-1，并且大于等于-N。")]),s._v(" "),n("p",[s._v("如果用户给定的索引超出了这一范围，那么LINDEX命令将返回空值，以此来表示给定索引上并不存在任何元素")])])]),s._v(" "),n("p",[s._v("LRANGE命令也需要处理超出范围的索引：")]),s._v(" "),n("ul",[n("li",[s._v("如果用户给定的起始索引和结束索引都超出了范围，那么LRANGE命令将返回空列表作为结果。")]),s._v(" "),n("li",[s._v("如果用户给定的其中一个索引超出了范围，那么LRANGE命令将对超出范围的索引进行修正，然后再执行实际的范围获取操作；其中超出范围的起始索引会被修正为0，而超出范围的结束索引则会被修正为-1")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("lrange key start stop -- "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("左闭右闭"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("，start为0，stop为-1时查询全部。-1 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 则是 empty。0 -2 则是0~倒数第2个\nlindex key index\nllen key\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("示例")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" lrange list1 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -1\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"c"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"b"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a"')]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" lrange list1 -1 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("empty array"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" lrange list1 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -2\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"c"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"b"')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" lindex list1 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"c"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" lindex list1 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"b"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" lindex list1 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" lindex list1 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nil"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" llen list1\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h2",{attrs:{id:"lset-为指定索引设置新元素"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#lset-为指定索引设置新元素"}},[s._v("#")]),s._v(" LSET 为指定索引设置新元素")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("LSET list index new_element\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("LSET命令在设置成功时将返回OK")]),s._v(" "),n("li",[s._v("因为LSET命令只能对列表中已存在的索引进行设置，所以如果用户给定的索引超出了列表的有效索引范围，那么LSET命令将返回一个错误")])]),s._v(" "),n("h2",{attrs:{id:"linsert-将元素插入列表"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#linsert-将元素插入列表"}},[s._v("#")]),s._v(" LINSERT 将元素插入列表")]),s._v(" "),n("p",[s._v("通过使用LINSERT命令，用户可以将一个新元素插入列表某个指定元素的前面或者后面")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("LINSERT list BEFORE "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" AFTER target_element new_element\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("LINSERT命令第二个参数的值可以是BEFORE或者AFTER，它们分别用于指示命令将新元素插入目标元素的"),n("strong",[s._v("前面或者后面（这里是指LRANGE从左到右为先后顺序）")]),s._v("。命令在完成插入操作之后会返回列表当前的长度。")]),s._v(" "),n("h2",{attrs:{id:"ltrim-修剪列表"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ltrim-修剪列表"}},[s._v("#")]),s._v(" LTRIM 修剪列表")]),s._v(" "),n("p",[s._v("LTRIM命令接受一个列表和一个索引范围作为参数，并移除列表中位于给定"),n("strong",[s._v("索引范围之外")]),s._v("的所有元素，只保留给定范围之内（"),n("strong",[s._v("左闭右闭")]),s._v("）的元素：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("LTRIM list start end\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h2",{attrs:{id:"lrem-删除任意数据"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#lrem-删除任意数据"}},[s._v("#")]),s._v(" LREM 删除任意数据")]),s._v(" "),n("p",[s._v("移除指定数据")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("lrem key count value\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("count参数的值决定了LREM命令移除元素的方式：")]),s._v(" "),n("ul",[n("li",[s._v("如果count参数的值等于0，那么LREM命令将移除列表中包含的所有指定元素。")]),s._v(" "),n("li",[s._v("如果count参数的值大于0，那么LREM命令将从列表的左端开始向右进行检查，并移除最先发现的count个指定元素。")]),s._v(" "),n("li",[s._v("如果count参数的值小于0，那么LREM命令将从列表的右端开始向左进行检查，并移除最先发现的abs(count)个指定元素（abs(count)即count的绝对值）。")])]),s._v(" "),n("p",[s._v("示例")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" rpush 001 a b c d e\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" lrange 001 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -1\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"b"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"c"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"d"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"e"')]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" lrem 001 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" c\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" lrange 001 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -1\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"b"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"d"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"e"')]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" rpush 001 a b c a a c a\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" lrange 001 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -1\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a"')]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"b"')]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"d"')]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"e"')]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a"')]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"b"')]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"c"')]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a"')]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"c"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a"')]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" lrem 001 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" a\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" lrange 001 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -1\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"b"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"d"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"e"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"b"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"c"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"c"')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br")])]),n("h2",{attrs:{id:""}},[n("a",{staticClass:"header-anchor",attrs:{href:"#"}},[s._v("#")]),s._v(" ====================")]),s._v(" "),n("h2",{attrs:{id:"🔥【场景】先进先出队列"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#🔥【场景】先进先出队列"}},[s._v("#")]),s._v(" 🔥【场景】先进先出队列")]),s._v(" "),n("p",[s._v("先进先出队列的应用非常广泛，各式各样的应用程序中都有使用。举个例子，很多电商网站都会在节日时推出一些秒杀活动，这些活动会放出数量有限的商品供用户抢购，秒杀系统的一个特点就是在短时间内会有大量用户同时进行相同的购买操作，如果使用事务或者锁去实现秒杀程序，那么就会因为锁和事务的重试特性而导致性能低下，并且由于重试行为的存在，成功购买商品的用户可能并不是最早执行购买操作的用户，因此这种秒杀系统实际上是不公平的。")]),s._v(" "),n("p",[s._v("解决上述问题的方法之一就是把用户的购买操作都放入先进先出队列里面，然后以队列方式处理用户的购买操作，这样程序就可以在不使用锁或者事务的情况下实现秒杀系统，并且得益于先进先出队列的特性，这种秒杀系统可以按照用户执行购买操作的顺序来判断哪些用户可以成功执行购买操作，因此它是公平的。")]),s._v(" "),n("h2",{attrs:{id:"🔥【场景】分页"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#🔥【场景】分页"}},[s._v("#")]),s._v(" 🔥【场景】分页")]),s._v(" "),n("p",[s._v("将给定的元素有序地放入一个列表中，然后使用"),n("code",[s._v("LRANGE")]),s._v("命令从列表中取出指定数量的元素，从而实现分页这一概念")]),s._v(" "),n("p",[s._v("但是通常"),n("strong",[s._v("第一页的信息来自于 list")]),s._v("，"),n("strong",[s._v("第 2 页及更多的信息通过数据库的形式加载")])]),s._v(" "),n("h2",{attrs:{id:"🔥【场景】带有阻塞功能的消息队列"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#🔥【场景】带有阻塞功能的消息队列"}},[s._v("#")]),s._v(" 🔥【场景】带有阻塞功能的消息队列")]),s._v(" "),n("p",[s._v("在构建应用程序的时候，有时会遇到一些非常耗时的操作，比如发送邮件，将一条新微博同步给上百万个用户，对硬盘进行大量读写，执行庞大的计算等。因为这些操作非常耗时，所以如果我们直接在响应用户请求的过程中执行它们，那么用户就需要等待非常长时间。")]),s._v(" "),n("p",[s._v("例如，为了验证用户身份的有效性，有些网站在注册新用户的时候，会向用户给定的邮件地址发送一封激活邮件，用户只有在点击了验证邮件里面的激活链接之后，新注册的账号才能够正常使用。")]),s._v(" "),n("h2",{attrs:{id:"🔥【场景】朋友圈点赞顺序列表"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#🔥【场景】朋友圈点赞顺序列表"}},[s._v("#")]),s._v(" 🔥【场景】朋友圈点赞顺序列表")]),s._v(" "),n("img",{staticStyle:{zoom:"50%"},attrs:{src:a(548),alt:"image-20210225222400165"}}),s._v(" "),n("p",[s._v("操作参考 lrem")]),s._v(" "),n("h2",{attrs:{id:"🔥【场景】微博关注列表"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#🔥【场景】微博关注列表"}},[s._v("#")]),s._v(" 🔥【场景】微博关注列表")]),s._v(" "),n("p",[s._v("twitter、新浪微博、腾讯微博中个人用户的关注列表需要按照用户的关注顺序进行展示，粉丝列表需要将"),n("strong",[s._v("最近关注的粉丝在前面")])]),s._v(" "),n("p",[n("code",[s._v("lpush")]),s._v(" "),n("code",[s._v("lrange")])]),s._v(" "),n("h2",{attrs:{id:"🔥【场景】最新的新闻或资讯"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#🔥【场景】最新的新闻或资讯"}},[s._v("#")]),s._v(" 🔥【场景】最新的新闻或资讯")]),s._v(" "),n("p",[s._v("新闻、资讯类网站如何将最新的新闻或资讯按照发生的时间顺序展示?")]),s._v(" "),n("p",[n("code",[s._v("lpush")]),s._v(" "),n("code",[s._v("lrange")])]),s._v(" "),n("h2",{attrs:{id:"🔥【场景】日志消息队列"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#🔥【场景】日志消息队列"}},[s._v("#")]),s._v(" 🔥【场景】日志消息队列")]),s._v(" "),n("p",[s._v("企业运营过程中，分布式系统将产生出大量的运营数据，如何"),n("strong",[s._v("保障多台服务器操作日志的统一顺序输出")])]),s._v(" "),n("p",[n("code",[s._v("lpush")]),s._v(" "),n("code",[s._v("lrange")]),s._v("，但是实际不是使用 ELK 技术栈吗？")]),s._v(" "),n("h2",{attrs:{id:"🔥【场景】微信消息排序"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#🔥【场景】微信消息排序"}},[s._v("#")]),s._v(" 🔥【场景】微信消息排序")]),s._v(" "),n("p",[n("strong",[s._v("业务场景")])]),s._v(" "),n("p",[s._v("使用微信的过程中，当微信接收消息后，会默认将最近接收的消息置顶，当多个好友及关注的订阅号同时发 送消息时，该排序会不停的进行交替。同时还可以将重要的会话设置为置顶。一旦用户离线后，再次打开微 信时，消息该按照什么样的顺序显示?")]),s._v(" "),n("p",[n("strong",[s._v("业务分析")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(549),alt:"image-20210307191240645"}})]),s._v(" "),n("p",[n("strong",[s._v("解决方案")])]),s._v(" "),n("ul",[n("li",[s._v("依赖list的数据具有顺序的特征对消息进行管理，将list结构作为栈使用")]),s._v(" "),n("li",[s._v("对置顶与普通会话分别创建独立的list分别管理")]),s._v(" "),n("li",[s._v("当某个list中接收到用户消息后，将消息发送方的id从list的一侧加入list(此处设定左侧)")]),s._v(" "),n("li",[s._v("多个相同id发出的消息反复入栈会出现问题，在入栈之前无论是否具有当前id对应的消息，先删除对应id")]),s._v(" "),n("li",[s._v("推送消息时先推送置顶会话list，再推送普通会话list，推送完成的list清除所有数据")]),s._v(" "),n("li",[n("strong",[s._v("消息的数量，也就是微信用户对话数量采用计数器的思想另行记录，伴随list操作同步更新")])])]),s._v(" "),n("p",[s._v("使用 sorted_set 也可以解决，score 按照时间戳设置即可")])])}),[],!1,null,null,null);t.default=r.exports}}]);