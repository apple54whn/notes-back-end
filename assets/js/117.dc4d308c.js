(window.webpackJsonp=window.webpackJsonp||[]).push([[117],{753:function(s,a,e){"use strict";e.r(a);var t=e(11),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"å®‰è£…-é…ç½®"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…-é…ç½®"}},[s._v("#")]),s._v(" å®‰è£…&é…ç½®")]),s._v(" "),e("h2",{attrs:{id:"å®˜ç½‘"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å®˜ç½‘"}},[s._v("#")]),s._v(" å®˜ç½‘")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://redis.io",target:"_blank",rel:"noopener noreferrer"}},[s._v("å®˜ç½‘"),e("OutboundLink")],1)]),s._v(" "),e("li",[e("a",{attrs:{href:"http://www.redis.net.cn/",target:"_blank",rel:"noopener noreferrer"}},[s._v("ä¸­æ–‡ç½‘"),e("OutboundLink")],1)])]),s._v(" "),e("h2",{attrs:{id:"ä»æºç å®‰è£…-ğŸ”¥"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ä»æºç å®‰è£…-ğŸ”¥"}},[s._v("#")]),s._v(" ä»æºç å®‰è£… ğŸ”¥")]),s._v(" "),e("p",[s._v("ä¸‹è½½ã€è§£å‹ã€ç¼–è¯‘ Redisï¼š")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://download.redis.io/releases/redis-6.2.1.tar.gz\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" xzf redis-6.2.1.tar.gz\n$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" redis-6.2.1\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("ç°åœ¨ç¼–è¯‘çš„äºŒè¿›åˆ¶æ–‡ä»¶å¯ä»¥åœ¨ src ç›®å½•ä¸­æ‰¾åˆ°ã€‚è¿è¡Œï¼š")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ src/redis-server "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("redis.conf"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("ä½ å¯ä»¥ä½¿ç”¨å†…ç½®çš„å®¢æˆ·ç«¯ä¸ Redis è¿›è¡Œäº¤äº’")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ src/redis-cli\nredis"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" foo bar\nOK\nredis"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" get foo\n"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bar"')]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("ä¸€èˆ¬æ¨èåˆ›å»º confã€data ç›®å½•")]),s._v(" "),e("h2",{attrs:{id:"docker-æš‚ä¸æ¨è-ğŸ”¥"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-æš‚ä¸æ¨è-ğŸ”¥"}},[s._v("#")]),s._v(" Dockerâ€”æš‚ä¸æ¨è ğŸ”¥")]),s._v(" "),e("p",[s._v("ç›®å‰äº†è§£åˆ°çš„é…ç½®ä¸å¤Ÿï¼Œæš‚ä¸æ¨è")]),s._v(" "),e("p",[s._v("å‚è€ƒ"),e("a",{attrs:{href:"https://hub.docker.com/_/redis/",target:"_blank",rel:"noopener noreferrer"}},[s._v("æ–‡æ¡£"),e("OutboundLink")],1)]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("docker pull redis\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("ä½¿ç”¨ docker compose å¯ä»¥å‚è€ƒ Google æœç´¢ç»“æœï¼Œæˆ–å¦‚ä¸‹ï¼ˆä¸æ˜¯æœ€æ–°çš„ compose æ–‡ä»¶äº†ï¼‰")]),s._v(" "),e("div",{staticClass:"language-yml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-yml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("version")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'3.1'")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("services")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("redis")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" redis\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("restart")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'no'")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" 6379"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("p",[s._v("å¯åŠ¨ Redis å®¹å™¨")]),s._v(" "),e("ul",[e("li",[s._v("æ‰§è¡Œ"),e("code",[s._v("docker compose up -d")]),s._v("ä¸‹è½½å¯åŠ¨å³å¯")])]),s._v(" "),e("p",[s._v("è¿›å…¥ Redis å®¹å™¨ï¼Œä½¿ç”¨ cli")]),s._v(" "),e("ul",[e("li",[s._v("æ‰§è¡Œ"),e("code",[s._v("docker exec -it b2 redis-cli")]),s._v("ã€‚å½“ç„¶ä¹Ÿå¯ä»¥è¿›å…¥ bash åæ‰§è¡Œ"),e("code",[s._v("redis-cli")])])]),s._v(" "),e("h2",{attrs:{id:"windows-ç‰ˆ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#windows-ç‰ˆ"}},[s._v("#")]),s._v(" Windows ç‰ˆ")]),s._v(" "),e("p",[s._v("åªèƒ½ä½¿ç”¨ "),e("a",{attrs:{href:"https://github.com/tporadowski/redis",target:"_blank",rel:"noopener noreferrer"}},[s._v("Github"),e("OutboundLink")],1),s._v(" ä¸Šç»´æŠ¤çš„ç‰ˆæœ¬ï¼è¿˜ç®—æ–°ï¼")]),s._v(" "),e("p",[s._v("è§£å‹ç›´æ¥å¯ä»¥ä½¿ç”¨ï¼š")]),s._v(" "),e("ul",[e("li",[s._v("redis.windows.confï¼šé…ç½®æ–‡ä»¶")]),s._v(" "),e("li",[s._v("redis-cli.exeï¼šredis çš„å®¢æˆ·ç«¯")]),s._v(" "),e("li",[s._v("redis-server.exeï¼šredis æœåŠ¡å™¨ç«¯")])]),s._v(" "),e("h2",{attrs:{id:"é…ç½®-ğŸ”¥"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®-ğŸ”¥"}},[s._v("#")]),s._v(" é…ç½® ğŸ”¥")]),s._v(" "),e("h3",{attrs:{id:"ç®€ä»‹"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ç®€ä»‹"}},[s._v("#")]),s._v(" ç®€ä»‹")]),s._v(" "),e("p",[s._v("Redis çš„é…ç½®æ–‡ä»¶ä½äº Redis å®‰è£…ç›®å½•ä¸‹ï¼Œæ–‡ä»¶åä¸º redis.confã€‚ä½ å¯ä»¥é€šè¿‡ "),e("strong",[s._v("CONFIG")]),s._v(" å‘½ä»¤æŸ¥çœ‹æˆ–è®¾ç½®é…ç½®é¡¹ã€‚")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("CONFIG GET CONFIG_SETTING_NAME\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ä¿å­˜é…ç½®åˆ° redis-6379.confï¼Œå¹¶æŸ¥çœ‹")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" redis.conf "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^$"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" redis-6379.conf\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("ä¹Ÿå¯ä»¥ä¹‹é—´ä½¿ç”¨ "),e("strong",[s._v("*")]),s._v(" å·è·å–æ‰€æœ‰é…ç½®é¡¹")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("config get *\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("ä½ å¯ä»¥é€šè¿‡"),e("strong",[s._v("ä¿®æ”¹ redis.conf æ–‡ä»¶")]),s._v("æˆ–ä½¿ç”¨ "),e("strong",[s._v("CONFIG SET")]),s._v(" å‘½ä»¤æ¥ä¿®æ”¹é…ç½®ã€‚")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("CONFIG SET CONFIG_SETTING_NAME NEW_CONFIG_VALUE\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("å¸¸è§é…ç½®")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('protected-mode no # å…è®¸å¤–ç½‘è®¿é—®\n# bind 127.0.0.1 # å¿…é¡»å»æ‰ï¼Œå…è®¸å¤–ç½‘è®¿é—®ã€‚å½“ç„¶å¯ä»¥é…ç½®ä¸Šï¼Œåªå…è®¸å†…ç½‘è®¿é—®ã€‚æ ¹æ® ps çš„å†…å®¹å¯ä»¥çœ‹å‡ºåŒºåˆ«\nport 6379\ndaemonize yes\nlogfile "/usr/local/redis-6.2.1/logs/redis-6379.log"\ndir ./data # ä¹Ÿå¯ä»¥è®¾ç½®ä¸ºç»å¯¹è·¯å¾„\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("h3",{attrs:{id:"æœåŠ¡ç«¯é…ç½®"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡ç«¯é…ç½®"}},[s._v("#")]),s._v(" æœåŠ¡ç«¯é…ç½®")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("bindâ€”IP")]),s._v(" "),e("p",[s._v("è¿™é‡Œæ˜¯å€¼å…è®¸è®¿é—®çš„ IPï¼Œç±»ä¼¼ç™½åå•ï¼ç»‘å®šååªå…è®¸è¯¥ IP è®¿é—®äº†")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("bind 127.0.0.1\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("portâ€”ç«¯å£")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("port 6379\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("daemonizeâ€”å®ˆæŠ¤è¿›ç¨‹")]),s._v(" "),e("p",[s._v("é»˜è®¤ä¸º noï¼Œä¼šåœ¨å¯åŠ¨åä¼šåœ¨æ§åˆ¶å°æ‰“å°æ—¥å¿—ã€‚æ”¹ä¸º yes åï¼Œéœ€è¦é…ç½®æ—¥å¿—æ–‡ä»¶åç§°")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("daemonize no\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("logfileâ€”æ—¥å¿—æ–‡ä»¶åç§°")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('logfile ""\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("dirâ€”æ•°æ®åº“æ–‡ä»¶å­˜æ”¾ç›®å½•")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("dir ./\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("databasesâ€”æ•°æ®åº“æ•°é‡")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("databases 16\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])]),s._v(" "),e("h3",{attrs:{id:"æ—¥å¿—é…ç½®"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ—¥å¿—é…ç½®"}},[s._v("#")]),s._v(" æ—¥å¿—é…ç½®")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("è®¾ç½®æœåŠ¡å™¨ä»¥æŒ‡å®šæ—¥å¿—è®°å½•çº§åˆ«")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("loglevel debug|verbose|notice|warning\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("æ—¥å¿—è®°å½•æ–‡ä»¶å")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("logfile ç«¯å£å·.log\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])]),s._v(" "),e("p",[s._v("æ³¨æ„ï¼šæ—¥å¿—çº§åˆ«"),e("strong",[s._v("å¼€å‘æœŸè®¾ç½®ä¸º verbose å³å¯")]),s._v("ï¼Œ"),e("strong",[s._v("ç”Ÿäº§ç¯å¢ƒä¸­é…ç½®ä¸º notice")]),s._v("ï¼Œç®€åŒ–æ—¥å¿—è¾“å‡ºé‡ï¼Œé™ä½å†™æ—¥å¿— IO çš„é¢‘åº¦")]),s._v(" "),e("h3",{attrs:{id:"å®¢æˆ·ç«¯é…ç½®"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å®¢æˆ·ç«¯é…ç½®"}},[s._v("#")]),s._v(" å®¢æˆ·ç«¯é…ç½®")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("è®¾ç½®åŒä¸€æ—¶é—´æœ€å¤§å®¢æˆ·ç«¯è¿æ¥æ•°ï¼Œé»˜è®¤ 0 å³æ— é™åˆ¶ã€‚å½“å®¢æˆ·ç«¯è¿æ¥åˆ°è¾¾ä¸Šé™ï¼ŒRedis ä¼šå…³é—­æ–°çš„è¿æ¥")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("maxclients 0\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("å®¢æˆ·ç«¯é—²ç½®ç­‰å¾…æœ€å¤§æ—¶é•¿ï¼Œç§’ï¼Œè¾¾åˆ°æœ€å¤§å€¼åå…³é—­è¿æ¥ã€‚å¦‚éœ€å…³é—­è¯¥åŠŸèƒ½ï¼Œè®¾ç½®ä¸º 0")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("timeout 300\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])]),s._v(" "),e("h3",{attrs:{id:"å¤šæœåŠ¡å™¨å¿«æ·é…ç½®"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å¤šæœåŠ¡å™¨å¿«æ·é…ç½®"}},[s._v("#")]),s._v(" å¤šæœåŠ¡å™¨å¿«æ·é…ç½®")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("å¯¼å…¥å¹¶åŠ è½½æŒ‡å®šé…ç½®æ–‡ä»¶ä¿¡æ¯ï¼Œç”¨äºå¿«é€Ÿåˆ›å»º redis"),e("strong",[s._v("å…¬å…±é…ç½®")]),s._v("è¾ƒå¤šçš„ redis å®ä¾‹é…ç½®æ–‡ä»¶ï¼Œä¾¿äºç»´æŠ¤")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("include /path/server-ç«¯å£å·.conf\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])]),s._v(" "),e("h3",{attrs:{id:"å…¶ä»–é…ç½®è§å…·ä½“ç« èŠ‚"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å…¶ä»–é…ç½®è§å…·ä½“ç« èŠ‚"}},[s._v("#")]),s._v(" å…¶ä»–é…ç½®è§å…·ä½“ç« èŠ‚")]),s._v(" "),e("h2",{attrs:{id:"è¿è¡Œ-ğŸ”¥"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#è¿è¡Œ-ğŸ”¥"}},[s._v("#")]),s._v(" è¿è¡Œ ğŸ”¥")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("src/redis-server "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("conf/redis.conf"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("code",[s._v("--port 9999")]),s._v("æŒ‡å®šç«¯å£ï¼Œå¿…é¡»å†™ src/redis-*ï¼Œå¦åˆ™æ— æ³•æ‰§è¡Œå‘½ä»¤ã€‚ä½†æ˜¯æ¨èåœ¨ conf æ–‡ä»¶ä¸­å†™å¥½é…ç½®ï¼")]),s._v(" "),e("p",[s._v("è¿è¡Œ cli")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("src/redis-cli -p "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("9999")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"é…ç½®è‡ªå¯åŠ¨-ğŸ”¥"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®è‡ªå¯åŠ¨-ğŸ”¥"}},[s._v("#")]),s._v(" é…ç½®è‡ªå¯åŠ¨ ğŸ”¥")]),s._v(" "),e("p",[s._v("å‚è€ƒ"),e("code",[s._v("/usr/local/redis/redis-6.2.1/utils/redis_init_script")]),s._v("è„šæœ¬")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/sh")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Simple Redis init.d script conceived to work on Linux systems")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# as it does use of the /proc filesystem.")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### BEGIN INIT INFO")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Provides:     redis_6379")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Default-Start:        2 3 4 5")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Default-Stop:         0 1 6")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Short-Description:    Redis data structure server")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Description:          Redis data structure server. See https://redis.io")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### END INIT INFO")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("REDISPORT")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("EXEC")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/redis/redis-6.2.1/src/redis-server\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CLIEXEC")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/redis/redis-6.2.1/src/redis-cli\n\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PIDFILE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/var/run/redis_"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${REDISPORT}")]),s._v(".pid\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CONF")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/local/redis/redis-6.2.1/conf/'),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${REDISPORT}")]),s._v('.conf"')]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v('"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("\n    start"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" -f "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$PIDFILE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n                "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$PIDFILE")]),s._v(' exists, process is already running or crashed"')]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n                "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Starting Redis server..."')]),s._v("\n                "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$EXEC")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CONF")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    stop"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" -f "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$PIDFILE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n                "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$PIDFILE")]),s._v(' does not exist, process is not running"')]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n\n                "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PID")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" $PIDFILE"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n\n                "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Stopping ..."')]),s._v("\n                "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CLIEXEC")]),s._v(" -p "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$REDISPORT")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v("\n                "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" -x /proc/"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PID}")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n                "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n                    "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Waiting for Redis to shutdown ..."')]),s._v("\n                    "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\n                "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n                "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Redis stopped"')]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    *"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Please use start or stop as first argument"')]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("esac")]),s._v("\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br"),e("span",{staticClass:"line-number"},[s._v("40")]),e("br"),e("span",{staticClass:"line-number"},[s._v("41")]),e("br"),e("span",{staticClass:"line-number"},[s._v("42")]),e("br"),e("span",{staticClass:"line-number"},[s._v("43")]),e("br"),e("span",{staticClass:"line-number"},[s._v("44")]),e("br"),e("span",{staticClass:"line-number"},[s._v("45")]),e("br"),e("span",{staticClass:"line-number"},[s._v("46")]),e("br"),e("span",{staticClass:"line-number"},[s._v("47")]),e("br"),e("span",{staticClass:"line-number"},[s._v("48")]),e("br"),e("span",{staticClass:"line-number"},[s._v("49")]),e("br"),e("span",{staticClass:"line-number"},[s._v("50")]),e("br"),e("span",{staticClass:"line-number"},[s._v("51")]),e("br"),e("span",{staticClass:"line-number"},[s._v("52")]),e("br"),e("span",{staticClass:"line-number"},[s._v("53")]),e("br"),e("span",{staticClass:"line-number"},[s._v("54")]),e("br"),e("span",{staticClass:"line-number"},[s._v("55")]),e("br")])]),e("p",[s._v("æ ¹æ®ä¸Šè¿°æç¤ºåˆ›å»º pid æ–‡ä»¶"),e("code",[s._v("/var/run/redis_6379.pid")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("6379\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("å¤åˆ¶"),e("code",[s._v("/usr/local/redis/redis-6.2.1/utils/redis_init_script")]),s._v("è„šæœ¬åˆ°"),e("code",[s._v("/etc/init.d")]),s._v("ä¸­")])])}),[],!1,null,null,null);a.default=n.exports}}]);