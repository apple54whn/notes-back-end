(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{351:function(s,a,t){s.exports=t.p+"assets/img/image-20201217220824953.47b008b3.png"},623:function(s,a,t){s.exports=t.p+"assets/img/CgqCHl9fA2iAJZruAAEOKPj_-ZU042.2b831632.png"},624:function(s,a,t){s.exports=t.p+"assets/img/image-20201219193544969.6c90189a.png"},625:function(s,a,t){s.exports=t.p+"assets/img/image-20201219195036228.cca35c48.png"},626:function(s,a,t){s.exports=t.p+"assets/img/image-20201219195652297.a656d1cb.png"},627:function(s,a,t){s.exports=t.p+"assets/img/image-20201219200638254.618f6793.png"},628:function(s,a,t){s.exports=t.p+"assets/img/image-20201219224246112.79919e92.png"},629:function(s,a,t){s.exports=t.p+"assets/img/image-20201219225302748.89813a5e.png"},630:function(s,a,t){s.exports=t.p+"assets/img/image-20201220000423131.9ffce899.png"},631:function(s,a,t){s.exports=t.p+"assets/img/image-20201219225948290.a6c009dd.png"},632:function(s,a,t){s.exports=t.p+"assets/img/Ciqc1F9rLPSAFNw1AAQfaEA3Bgo587.d8e39e6f.png"},789:function(s,a,t){"use strict";t.r(a);var n=t(11),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"æ€»è§ˆå…¥é—¨"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ€»è§ˆå…¥é—¨"}},[s._v("#")]),s._v(" æ€»è§ˆå…¥é—¨")]),s._v(" "),n("h2",{attrs:{id:"æŒä¹…å±‚å¼€å‘çš„é—®é¢˜"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æŒä¹…å±‚å¼€å‘çš„é—®é¢˜"}},[s._v("#")]),s._v(" æŒä¹…å±‚å¼€å‘çš„é—®é¢˜")]),s._v(" "),n("h3",{attrs:{id:"æŒä¹…å±‚å¼€å‘çš„é—®é¢˜-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æŒä¹…å±‚å¼€å‘çš„é—®é¢˜-2"}},[s._v("#")]),s._v(" æŒä¹…å±‚å¼€å‘çš„é—®é¢˜")]),s._v(" "),n("p",[s._v("éšç€äº’è”ç½‘æŠ€æœ¯çš„å‘å±•ï¼Œç°åœ¨çš„ä¼ä¸šå¼€å‘ä¸­ç”¨åˆ°çš„ç”¨äºæ•°æ®å­˜å‚¨çš„äº§å“ï¼Œä¸å†ä»…ä»…æ˜¯å…³ç³»å‹æ•°æ®åº“ï¼Œè€Œæ˜¯è¦æ ¹æ®åœºæ™¯éœ€è¦é€‰æ‹©ä¸åŒçš„å­˜å‚¨æŠ€æœ¯ï¼Œæ¯”å¦‚ç”¨äºç¼“å­˜çƒ­ç‚¹æ•°æ®çš„redisï¼Œç”¨äºå­˜å‚¨æ–‡æ¡£æ•°æ®çš„mongodbï¼Œç”¨äºæ”¯æŒå¼ºå¤§æœç´¢åŠŸèƒ½çš„elasticsearchç­‰ç­‰ã€‚")]),s._v(" "),n("p",[s._v("åœ¨Javaä¸­ï¼Œå¯¹äºä¸Šé¢æ‰€è¯´çš„äº§å“éƒ½æä¾›äº†ä¼˜ç§€çš„è®¿é—®æŠ€æœ¯ã€‚æ¯”å¦‚é’ˆå¯¹å…³ç³»å‹æ•°æ®åº“çš„mybatisã€jpaç­‰æŠ€æœ¯ï¼Œé’ˆå¯¹äºredisçš„jedisæŠ€æœ¯ç­‰ç­‰..... è¿™äº›æŠ€æœ¯è™½ç„¶å¯ä»¥å¾ˆå¥½çš„é’ˆå¯¹å„ä¸ªå­˜å‚¨äº§å“è¿›è¡Œè®¿é—®æ“ä½œï¼Œä½†åŒæ—¶ä¹Ÿå¸¦æ¥äº†æ–°çš„é—®é¢˜ï¼Œé‚£å°±æ˜¯ä¸åŒçš„æŒä¹…å±‚æŠ€æœ¯çš„APIæ˜¯ä¸ä¸€æ ·çš„ã€‚è¿™æ ·ä¸€æ¥ï¼Œå¼€å‘äººå‘˜å°±å¿…é¡»åŒæ—¶æŒæ¡å¤šç§æ•°æ®è®¿é—®æŠ€æœ¯ï¼Œè¿™æ— ç–‘å¢åŠ äº†å¼€å‘æˆæœ¬ã€‚é‚£ä¹ˆæˆ‘ä»¬ä¼šæƒ³ï¼Œæœ‰æ²¡æœ‰è¿™æ ·ä¸€ç§æŠ€æœ¯ï¼Œå®ƒå¯ä»¥ä½¿ç”¨"),n("strong",[s._v("ä¸€å¥—APIæ”¯æŒå„ä¸ªä¸åŒçš„å­˜å‚¨çš„è®¿é—®")]),s._v("å‘¢ï¼Ÿå°±åœ¨è¿™æ ·çš„éœ€æ±‚ä¸‹ï¼ŒSpringDataäº§ç”Ÿäº†ã€‚")]),s._v(" "),n("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯-spring-dataï¼Ÿ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯-spring-dataï¼Ÿ"}},[s._v("#")]),s._v(" ä»€ä¹ˆæ˜¯ Spring Dataï¼Ÿ")]),s._v(" "),n("p",[s._v("Spring Data é¡¹ç›®æ˜¯ä» 2010 å¹´å¼€å‘å‘å±•èµ·æ¥çš„ï¼ŒSpring Data åˆ©ç”¨ä¸€ä¸ªå¤§å®¶ç†Ÿæ‚‰çš„ã€ä¸€è‡´çš„ã€åŸºäºâ€œæ³¨è§£â€çš„æ•°æ®è®¿é—®ç¼–ç¨‹æ¨¡å‹ï¼Œåšä¸€äº›"),n("strong",[s._v("å…¬å…±æ“ä½œçš„å°è£…")]),s._v("ï¼Œå®ƒå¯ä»¥è½»æ¾åœ°è®©å¼€å‘è€…ä½¿ç”¨æ•°æ®åº“è®¿é—®æŠ€æœ¯ï¼Œ"),n("strong",[s._v("ç®€åŒ– DAO å±‚å¼€å‘")]),s._v("ï¼ŒåŒ…æ‹¬"),n("strong",[s._v("å…³ç³»æ•°æ®åº“ã€éå…³ç³»æ•°æ®åº“")]),s._v("ï¼ˆNoSQLï¼‰ã€‚åŒæ—¶åˆæœ‰ä¸åŒçš„æ•°æ®æ¡†æ¶çš„å®ç°ï¼Œä¿ç•™äº†æ¯ä¸ªåº•å±‚æ•°æ®å­˜å‚¨ç»“æ„çš„ç‰¹æ®Šç‰¹æ€§ã€‚")]),s._v(" "),n("p",[n("strong",[s._v("Spring Data Common æ˜¯ Spring Data æ‰€æœ‰æ¨¡å—çš„å…¬å…±éƒ¨åˆ†")]),s._v("ï¼Œè¯¥é¡¹ç›®æä¾›äº†åŸºäº Spring çš„å…±äº«åŸºç¡€è®¾æ–½ï¼Œå®ƒæä¾›äº†åŸºäº repository æ¥å£ä»¥ DB æ“ä½œçš„ä¸€äº›å°è£…ï¼Œä»¥åŠä¸€ä¸ªåšæŒåœ¨ Java å®ä½“ç±»ä¸Šæ ‡æ³¨å…ƒæ•°æ®çš„æ¨¡å‹ã€‚")]),s._v(" "),n("p",[s._v("Spring Data ä¸ä»…å¯¹ä¼ ç»Ÿçš„æ•°æ®åº“è®¿é—®æŠ€æœ¯å¦‚ JDBCã€Hibernateã€JDOã€TopLickã€JPAã€MyBatis åšäº†å¾ˆå¥½çš„æ”¯æŒå’Œæ‰©å±•ã€æŠ½è±¡ã€æä¾›æ–¹ä¾¿çš„æ“ä½œæ–¹æ³•ï¼Œè¿˜å¯¹ MongoDbã€KeyValueã€Redisã€LDAPã€Cassandra ç­‰éå…³ç³»æ•°æ®çš„ NoSQL åšäº†ä¸åŒçš„å®ç°ç‰ˆæœ¬ï¼Œæ–¹ä¾¿æˆ‘ä»¬å¼€å‘è€…è§¦ç±»æ—é€šã€‚")]),s._v(" "),n("h3",{attrs:{id:"spring-data-çš„å­é¡¹ç›®"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#spring-data-çš„å­é¡¹ç›®"}},[s._v("#")]),s._v(" Spring Data çš„å­é¡¹ç›®")]),s._v(" "),n("p",[s._v("ä¸‹å›¾ä¸ºç›®å‰ Spring Data çš„æ¡†æ¶åˆ†ç±»ç»“æ„å›¾ï¼Œé‡Œé¢éƒ½æœ‰å“ªäº›æ¨¡å—å¯ä»¥ä¸€ç›®äº†ç„¶ï¼Œä¹Ÿå¯ä»¥çŸ¥é“å“ªäº›æ˜¯æˆ‘ä»¬éœ€è¦å…³å¿ƒçš„é¡¹ç›®")]),s._v(" "),n("p",[n("img",{attrs:{src:t(623),alt:"img"}})]),s._v(" "),n("p",[s._v("ä¸»è¦é¡¹ç›®ï¼ˆMain Modulesï¼‰ï¼š")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("Spring Data Commons")]),s._v("ï¼Œç›¸å½“äºå®šä¹‰äº†ä¸€å¥—"),n("strong",[s._v("æŠ½è±¡çš„æ¥å£")])]),s._v(" "),n("li",[s._v("Spring Data JDBCï¼Œå¯¹JDBCçš„Spring Dataå­˜å‚¨åº“æ”¯æŒ")]),s._v(" "),n("li",[n("strong",[s._v("Spring Data JPA")]),s._v("ï¼Œæˆ‘ä»¬å…³æ³¨çš„é‡ç‚¹ï¼Œå¯¹ Spring Data Common çš„æ¥å£çš„ JPA åè®®çš„å®ç°")]),s._v(" "),n("li",[s._v("Spring Data Gemfire")]),s._v(" "),n("li",[s._v("Spring Data KeyValue")]),s._v(" "),n("li",[s._v("Spring Data LDAP")]),s._v(" "),n("li",[s._v("Spring Data MongoDBï¼Œå¯¹MongoDBçš„åŸºäºSpringå¯¹è±¡æ–‡æ¡£çš„å­˜å‚¨åº“æ”¯æŒ")]),s._v(" "),n("li",[s._v("Spring Data REST")]),s._v(" "),n("li",[s._v("Spring Data Redisï¼Œå°è£…JedisæŠ€æœ¯ï¼Œå¯¹rediså®ç°è®¿é—®æ“ä½œ")]),s._v(" "),n("li",[s._v("Spring Data for Apache Cassandra")]),s._v(" "),n("li",[s._v("Spring Data for Apache Solr")])]),s._v(" "),n("p",[s._v("ç¤¾åŒºæ”¯æŒçš„é¡¹ç›®ï¼ˆCommunity Modulesï¼‰ï¼š")]),s._v(" "),n("ul",[n("li",[s._v("Spring Data Aerospike")]),s._v(" "),n("li",[s._v("Spring Data Couchbase")]),s._v(" "),n("li",[s._v("Spring Data DynamoDB")]),s._v(" "),n("li",[s._v("Spring Data Elasticsearchï¼Œå¯¹Elasticsearchå®ç°è®¿é—®æ“ä½œï¼ˆä¸€èˆ¬ä¸å¤ªç”¨ï¼Œå› ä¸ºç‰ˆæœ¬æ›´æ–°æ¯”è¾ƒæ…¢ï¼‰")]),s._v(" "),n("li",[s._v("Spring Data Hazelcast")]),s._v(" "),n("li",[s._v("Spring Data Jest")]),s._v(" "),n("li",[s._v("Spring Data Neo4j")]),s._v(" "),n("li",[s._v("Spring Data Vault")])]),s._v(" "),n("p",[s._v("å…¶ä»–ï¼ˆRelated Modulesï¼‰ï¼š")]),s._v(" "),n("ul",[n("li",[s._v("Spring Data JDBC Extensions")]),s._v(" "),n("li",[s._v("Spring for Apache Hadoop")]),s._v(" "),n("li",[s._v("Spring Content")])]),s._v(" "),n("p",[s._v("å…³äº Spring Data çš„å­é¡¹ç›®ï¼Œé™¤äº†ä¸Šé¢è¿™äº›ï¼Œè¿˜æœ‰å¾ˆå¤šå¼€æºç¤¾åŒºç‰ˆæœ¬ï¼Œæ¯”å¦‚ Spring Dataã€MyBatis ç­‰")]),s._v(" "),n("h3",{attrs:{id:"spring-data-jpa-å…³ç³»å›¾-ğŸ”¥"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#spring-data-jpa-å…³ç³»å›¾-ğŸ”¥"}},[s._v("#")]),s._v(" Spring Data JPA å…³ç³»å›¾ ğŸ”¥")]),s._v(" "),n("p",[s._v("åªéœ€åœ¨ JPA è§„èŒƒä¸Šé¢å†æ·»åŠ ä¸€ä¸ª Spring Data JPA å³å¯")]),s._v(" "),n("p",[n("img",{attrs:{src:t(351),alt:"image-20201217220824953"}})]),s._v(" "),n("h2",{attrs:{id:"spring-data-common-ä¹‹-repository-ğŸ”¥"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#spring-data-common-ä¹‹-repository-ğŸ”¥"}},[s._v("#")]),s._v(" Spring Data Common ä¹‹ Repository ğŸ”¥")]),s._v(" "),n("p",[s._v("Spring Data Common å®šä¹‰äº†å¾ˆå¤šå…¬ç”¨çš„æ¥å£å’Œä¸€äº›ç›¸å¯¹æ•°æ®æ“ä½œçš„å…¬å…±å®ç°ï¼ˆå¦‚åˆ†é¡µæ’åºã€ç»“æœæ˜ å°„ã€Autiting ä¿¡æ¯ã€äº‹åŠ¡ç­‰ï¼‰ï¼Œè€Œ Spring Data JPA å°±æ˜¯ Spring Data Common çš„å…³ç³»æ•°æ®åº“çš„æŸ¥è¯¢å®ç°ã€‚æœ¬èŠ‚äº†è§£ä¸‹ Spring Data Common çš„æ ¸å¿ƒå†…å®¹â€”â€”Repositoryï¼Œä» Repository çš„æ‰€æœ‰å­ç±»ç€æ‰‹ï¼Œé€æ­¥æŒæ¡ CrudRepositoryã€PageingAndSortingRepositoryã€JpaRepositoryçš„ä½¿ç”¨ã€‚")]),s._v(" "),n("h3",{attrs:{id:"spring-data-jpa-çš„ä¾èµ–å…³ç³»"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#spring-data-jpa-çš„ä¾èµ–å…³ç³»"}},[s._v("#")]),s._v(" Spring Data JPA çš„ä¾èµ–å…³ç³»")]),s._v(" "),n("p",[s._v("å…ˆæ¥çœ‹çœ‹ Spring Data JPA æ‰€ä¾èµ–çš„ jar åŒ…å…³ç³»æ˜¯ä»€ä¹ˆæ ·çš„")]),s._v(" "),n("p",[n("img",{attrs:{src:t(624),alt:"image-20201219193544969"}})]),s._v(" "),n("p",[s._v("æ•°æ®åº“è¿æ¥ç”¨çš„æ˜¯ JDBCï¼Œè¿æ¥æ± ç”¨çš„æ˜¯ HikariCPï¼ˆçœ‹ starter-jdbcï¼‰ï¼Œ"),n("strong",[s._v("å¼ºä¾èµ– Hibernateï¼ˆä¸èƒ½åˆ‡æ¢å®ç°äº†JPAçš„å…¶ä»–æ¡†æ¶ï¼‰")]),s._v("ï¼›Spring Boot Starter Data JPA ä¾èµ– Spring Data JPAï¼›è€Œ Spring Data JPA ä¾èµ– Spring Data Commonsã€‚Spring Data Commons æ˜¯ç»ˆæä¾èµ–ã€‚ä¸‹é¢å­¦ä¹  DB æ“ä½œçš„å…¥å£ RepositoryåŠå…¶å­ç±»")]),s._v(" "),n("h3",{attrs:{id:"repository-æ¥å£ã€å±‚æ¬¡å…³ç³»-ğŸ”¥"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#repository-æ¥å£ã€å±‚æ¬¡å…³ç³»-ğŸ”¥"}},[s._v("#")]),s._v(" Repository æ¥å£ã€å±‚æ¬¡å…³ç³» ğŸ”¥")]),s._v(" "),n("h4",{attrs:{id:"repository-æ¥å£"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#repository-æ¥å£"}},[s._v("#")]),s._v(" Repository æ¥å£")]),s._v(" "),n("p",[s._v("Repository æ˜¯ Spring Data Common é‡Œé¢çš„é¡¶çº§çˆ¶ç±»æ¥å£ï¼Œæ“ä½œ DB çš„å…¥å£ç±»ã€‚é¦–å…ˆä»‹ç» Repository æ¥å£çš„æºç ã€ç±»å±‚æ¬¡å…³ç³»å’Œä½¿ç”¨å®ä¾‹ã€‚")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("repository")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stereotype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Indexed")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Indexed")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Repository")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ID"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("Resposiory æ˜¯ Spring Data é‡Œé¢è¿›è¡Œæ•°æ®åº“æ“ä½œé¡¶çº§çš„æŠ½è±¡æ¥å£ï¼Œé‡Œé¢ä»€ä¹ˆæ–¹æ³•éƒ½æ²¡æœ‰ï¼Œä½†æ˜¯å¦‚æœä»»ä½•æ¥å£ç»§æ‰¿å®ƒï¼Œå°±èƒ½å¾—åˆ°ä¸€ä¸ª Repositoryï¼Œè¿˜å¯ä»¥å®ç° JPA çš„ä¸€äº›é»˜è®¤å®ç°æ–¹æ³•ï¼ˆ"),n("strong",[s._v("å¦‚æ–¹æ³•åç§°è§„åˆ™æŸ¥è¯¢")]),s._v("ï¼‰ã€‚è¿™æ˜¯ Spring åˆ©ç”¨ Respository ä½œä¸º DAO æ“ä½œçš„ Typeï¼Œä»¥åŠåˆ©ç”¨ Java åŠ¨æ€ä»£ç†æœºåˆ¶å®ç°çš„")]),s._v(" "),n("p",[s._v("Spring åœ¨åšåŠ¨æ€ä»£ç†çš„æ—¶å€™ï¼Œåªè¦æ˜¯å®ƒçš„å­ç±»æˆ–è€…å®ç°ç±»ï¼Œå†åˆ©ç”¨ T ç±»ä»¥åŠ T ç±»çš„ ä¸»é”® ID ç±»å‹ä½œä¸ºæ³›å‹çš„ç±»å‹å‚æ•°ï¼Œå°±å¯ä»¥æ¥æ ‡è®°å‡ºæ¥ã€å¹¶æ•è·åˆ°è¦ä½¿ç”¨çš„å®ä½“ç±»å‹ï¼Œå°±èƒ½å¸®åŠ©ä½¿ç”¨è€…è¿›è¡Œæ•°æ®åº“æ“ä½œã€‚")]),s._v(" "),n("h4",{attrs:{id:"repository-ç±»å±‚æ¬¡å…³ç³»"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#repository-ç±»å±‚æ¬¡å…³ç³»"}},[s._v("#")]),s._v(" Repository ç±»å±‚æ¬¡å…³ç³»")]),s._v(" "),n("p",[s._v("Type hierarchy ç±»çš„å±‚æ¬¡ç»“æ„ï¼Œä½¿ç”¨ Ctrl + Hï¼ˆmacï¼‰å³å¯çœ‹åˆ°")]),s._v(" "),n("p",[n("img",{attrs:{src:t(625),alt:"image-20201219195036228"}})]),s._v(" "),n("p",[s._v("é€šè¿‡è¯¥å±‚æ¬¡ç»“æ„è§†å›¾ï¼Œä½ å°±ä¼šæ˜ç™½åŸºç±» Repository çš„ç”¨æ„ï¼Œç”±æ­¤å¯çŸ¥ï¼Œå­˜å‚¨åº“åˆ†ä¸ºä»¥ä¸‹ 4 ä¸ªå¤§ç±»ã€‚")]),s._v(" "),n("ul",[n("li",[s._v("ReactiveCrudRepository è¿™æ¡çº¿æ˜¯å“åº”å¼ç¼–ç¨‹ï¼Œä¸»è¦æ”¯æŒå½“å‰ NoSQL æ–¹é¢çš„æ“ä½œï¼Œå› ä¸ºè¿™æ–¹é¢å¤§éƒ¨åˆ†æ“ä½œéƒ½æ˜¯åˆ†å¸ƒå¼çš„ï¼Œæ‰€ä»¥ç”±æ­¤æˆ‘ä»¬å¯ä»¥çœ‹å‡º Spring Data æƒ³ç»Ÿä¸€æ•°æ®æ“ä½œçš„â€œé‡å¿ƒâ€ï¼Œå³æƒ³æä¾›å…³äºæ‰€æœ‰ Data æ–¹é¢çš„æ“ä½œã€‚ç›®å‰ Reactive ä¸»è¦æœ‰ Cassandraã€MongoDBã€Redis çš„å®ç°ã€‚")]),s._v(" "),n("li",[s._v("RxJava2/3CrudRepository è¿™æ¡çº¿æ˜¯ä¸ºäº†æ”¯æŒ RxJava 2/3 åšçš„æ ‡å‡†å“åº”å¼ç¼–ç¨‹çš„æ¥å£ã€‚")]),s._v(" "),n("li",[s._v("CoroutineCrudRepository è¿™æ¡ç»§æ‰¿å…³ç³»é“¾æ˜¯ä¸ºäº†æ”¯æŒ Kotlin è¯­æ³•è€Œå®ç°çš„ã€‚")]),s._v(" "),n("li",[s._v("CrudRepository è¿™æ¡ç»§æ‰¿å…³ç³»é“¾æ­£æ˜¯æœ¬è¯¾æ—¶æˆ‘è¦è¯¦ç»†ä»‹ç»çš„ JPA ç›¸å…³çš„æ“ä½œæ¥å£ï¼Œä½ ä¹Ÿå¯ä»¥æŠŠæˆ‘çš„è¿™ç§æ–¹æ³•åº”ç”¨åˆ°å¦å¤– 3 ç§ç»§æ‰¿å…³ç³»é“¾é‡Œé¢å­¦ä¹ ã€‚")])]),s._v(" "),n("p",[s._v("ç‚¹å‡» Show Diagram æ˜¾ç¤ºå±‚æ¬¡ç»“æ„å›¾ï¼Œå…¶ä¸­ JpaSpecificationExecutor ä¹Ÿæ˜¯ç»§æ‰¿äº†å€Ÿå£åå‡ºç°çš„ï¼Œä¹Ÿæ˜¯éœ€è¦å­¦ä¹ çš„ï¼")]),s._v(" "),n("p",[n("img",{attrs:{src:t(626),alt:"image-20201219195652297"}})]),s._v(" "),n("p",[s._v("éœ€è¦æŒæ¡å’Œä½¿ç”¨åˆ°çš„ç±»å¦‚ä¸‹æ‰€ç¤ºï¼š")]),s._v(" "),n("p",[n("strong",[s._v("7 å¤§ Repository æ¥å£ï¼š")])]),s._v(" "),n("ul",[n("li",[s._v("Repository(org.springframework.data.repository)ï¼Œæ²¡æœ‰æš´éœ²ä»»ä½•æ–¹æ³•ï¼›")]),s._v(" "),n("li",[s._v("CrudRepository(org.springframework.data.repository)ï¼Œç®€å•çš„ Curd æ–¹æ³•ï¼›")]),s._v(" "),n("li",[s._v("PagingAndSortingRepository(org.springframework.data.repository)ï¼Œå¸¦åˆ†é¡µå’Œæ’åºçš„æ–¹æ³•ï¼›")]),s._v(" "),n("li",[s._v("QueryByExampleExecutor(org.springframework.data.repository.query)ï¼Œç®€å• Example æŸ¥è¯¢ï¼›")]),s._v(" "),n("li",[s._v("JpaRepository(org.springframework.data.jpa.repository)ï¼ŒJPA çš„æ‰©å±•æ–¹æ³•ï¼›")]),s._v(" "),n("li",[s._v("JpaSpecificationExecutor(org.springframework.data.jpa.repository)ï¼ŒJpaSpecification æ‰©å±•æŸ¥è¯¢ï¼›")]),s._v(" "),n("li",[s._v("QueryDslPredicateExecutor(org.springframework.data.querydsl)ï¼ŒQueryDsl çš„å°è£…ã€‚")])]),s._v(" "),n("p",[n("strong",[s._v("2 å¤§ Repository å®ç°ç±»ï¼š")])]),s._v(" "),n("ul",[n("li",[s._v("SimpleJpaRepository(org.springframework.data.jpa.repository.support)ï¼ŒJPA æ‰€æœ‰æ¥å£çš„é»˜è®¤å®ç°ç±»ï¼›")]),s._v(" "),n("li",[s._v("QueryDslJpaRepository(org.springframework.data.jpa.repository.support)ï¼ŒQueryDsl çš„å®ç°ç±»ã€‚")])]),s._v(" "),n("p",[s._v("å…³äºå…¶ä»–çš„ç±»ï¼Œåé¢æˆ‘ä¹Ÿä¼šé€šè¿‡ä¸åŒæ–¹å¼çš„è®²è§£")]),s._v(" "),n("h3",{attrs:{id:"æµ‹è¯•-entity-user"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æµ‹è¯•-entity-user"}},[s._v("#")]),s._v(" æµ‹è¯• Entityâ€”User")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Entity")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Data")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Builder")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@NoArgsConstructor")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@AllArgsConstructor")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Id")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@GeneratedValue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("strategy"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GenerationType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AUTO"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Long")]),s._v(" id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" email"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("h3",{attrs:{id:"repository-æ¥å£ç¤ºä¾‹-æ–¹æ³•åç§°è§„åˆ™æŸ¥è¯¢-ğŸ”¥"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#repository-æ¥å£ç¤ºä¾‹-æ–¹æ³•åç§°è§„åˆ™æŸ¥è¯¢-ğŸ”¥"}},[s._v("#")]),s._v(" Repository æ¥å£ç¤ºä¾‹â€”æ–¹æ³•åç§°è§„åˆ™æŸ¥è¯¢ ğŸ”¥")]),s._v(" "),n("p",[s._v("åˆ©ç”¨ UserRepository ç»§æ‰¿ Repository æ¥å®ç°å¯¹ User çš„ä¸¤ä¸ªæŸ¥è¯¢æ–¹æ³•ï¼ˆ"),n("strong",[s._v("æ–¹æ³•åç§°è§„åˆ™æŸ¥è¯¢")]),s._v("ï¼‰")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserRepository")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Repository")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Long")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æ ¹æ®åç§°è¿›è¡ŒæŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("findByName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ ¹æ®ç”¨æˆ·çš„é‚®ç®±å’Œåç§°æŸ¥è¯¢")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("findByEmailAndName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" email"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("ç”±äº Repository æ¥å£é‡Œé¢æ²¡æœ‰ä»»ä½•æ–¹æ³•ï¼Œæ‰€ä»¥æ­¤ UserRepository å¯¹å¤–åªæœ‰ä¸¤ä¸ªå¯ç”¨æ–¹æ³•")]),s._v(" "),n("h3",{attrs:{id:"crudrepository-æ¥å£ç¤ºä¾‹-ğŸ”¥"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#crudrepository-æ¥å£ç¤ºä¾‹-ğŸ”¥"}},[s._v("#")]),s._v(" CrudRepository æ¥å£ç¤ºä¾‹ ğŸ”¥")]),s._v(" "),n("p",[s._v("é€šè¿‡ IDEA å·¥å…·ï¼Œçœ‹ä¸‹ CrudRepository ä¸ºæˆ‘ä»¬æä¾›çš„æ–¹æ³•æœ‰å“ªäº›")]),s._v(" "),n("p",[n("img",{attrs:{src:t(627),alt:"image-20201219200638254"}})]),s._v(" "),n("ul",[n("li",[n("p",[n("code",[s._v("<S extends T> S save(S entity);")]),s._v(" ä¿å­˜/æ›´æ–°å®ä½“æ–¹æ³•")]),s._v(" "),n("p",[s._v("Entity ä¸­è‹¥ id ä¸º nullï¼Œåˆ™ persistï¼Œå¦åˆ™æ‰§è¡Œ mergeï¼ˆæºç ä¸­ä¼šè¿›è¡Œ id æ˜¯å¦ä¸º null ç­‰åˆ¤æ–­ã€‚"),n("strong",[s._v("æœ‰çš„è¯´æ ¹æ®id æŸ¥è¯¢äº†ï¼Ÿä¹è§‚é”")]),s._v("ï¼‰")]),s._v(" "),n("p",[s._v("å¦‚æœå½“ä¼ é€’çš„å‚æ•°é‡Œé¢æ²¡æœ‰ IDï¼Œåˆ™ç›´æ¥ insertï¼›è‹¥å½“ä¼ é€’çš„å‚æ•°é‡Œé¢æœ‰ IDï¼Œåˆ™ä¼šè§¦å‘ select æŸ¥è¯¢ã€‚æ­¤æ–¹æ³•ä¼šå»çœ‹ä¸€ä¸‹æ•°æ®åº“é‡Œé¢æ˜¯å¦å­˜åœ¨æ­¤è®°å½•ï¼Œè‹¥å­˜åœ¨ï¼Œåˆ™ updateï¼Œå¦åˆ™ insert")]),s._v(" "),n("p",[s._v("æ³¨æ„æ›´æ–°æ—¶å®ä½“ç±»ä¸­å½“å‰ä¸ºnullçš„å­—æ®µä¹Ÿä¼šè¢«æ›´æ–°ä¸ºnullï¼Œå¯ä»¥é…ç½®æ›´æ”¹è¯¥ç­–ç•¥ï¼Œ"),n("strong",[s._v("DynamicUpdate ç­–ç•¥")])]),s._v(" "),n("p",[s._v("å‚æ•°å’Œè¿”å›ç»“æœå¯ä»¥æ˜¯å®ä½“çš„å­ç±»")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("save")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v(" entity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("entityInformation"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("isNew")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("entity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        em"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("persist")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("entity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" entity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" em"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("merge")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("entity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])])]),s._v(" "),n("li",[n("p",[n("code",[s._v("saveAll(Iterable<S> entities)")]),s._v(" : æ‰¹é‡ä¿å­˜/æ›´æ–°ï¼ŒåŸç†å’Œ saveæ–¹æ³•ç›¸åŒï¼Œæˆ‘ä»¬å»çœ‹å®ç°çš„è¯ï¼Œå°±æ˜¯ for å¾ªç¯è°ƒç”¨ä¸Šé¢çš„ save æ–¹æ³•ã€‚")]),s._v(" "),n("p",[s._v("é‚£è¿™å°±å¾ˆæ‰¯æ·¡äº†ï¼Œå½“ç„¶å¯ä»¥è®¾ç½®ä¸€ä¸‹"),n("code",[s._v("spring.jpa.properties.hibernate.jdbc.batch_size=200")]),s._v("ï¼Œå°±ä¼šæ‰¹é‡æ“ä½œäº†ï¼")])]),s._v(" "),n("li",[n("p",[n("code",[s._v("void deleteById(ID id);")]),s._v(" æ ¹æ®ä¸»é”®åˆ é™¤ï¼ŒæŸ¥çœ‹æºç ä¼šå‘ç°ï¼Œå…¶æ˜¯å…ˆæ ¹æ®ä¸»é”®æŸ¥è¯¢å‡ºæ¥å†è¿›è¡Œåˆ é™¤ï¼Œ"),n("strong",[s._v("æ²¡æŸ¥è¯¢åˆ°ç›´æ¥æŠ›å¼‚å¸¸ï¼ˆéœ€è¦å¤„ç†è¯¥å¼‚å¸¸ï¼Œä½†æ˜¯ä¸€èˆ¬åˆ é™¤æ“ä½œä¸ä¼šäº§ç”Ÿå¹¶å‘ï¼‰")]),s._v("ï¼›ï¼ˆå®é™…ä½¿ç”¨æ—¶æ— éœ€æ‰‹åŠ¨æŸ¥è¯¢ï¼ï¼‰")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("deleteById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ID")]),s._v(" id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Assert")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("notNull")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ID_MUST_NOT_BE_NULL"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ²¡æŸ¥è¯¢åˆ°ç›´æ¥æŠ›å¼‚å¸¸")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("delete")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("findById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("orElseThrow")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("EmptyResultDataAccessException")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("format")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"No %s entity with id %s exists!"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" entityInformation"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getJavaType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])])]),s._v(" "),n("li",[n("p",[n("code",[s._v("void delete(T entity)")]),s._v(" æ ¹æ® Entityï¼ˆå…¶å®æ˜¯ä¸»é”®ï¼‰ è¿›è¡Œåˆ é™¤ï¼ˆåº•å±‚å’Œ deleteById ä¸€æ ·ï¼‰ï¼›")])]),s._v(" "),n("li",[n("p",[n("code",[s._v("void deleteAll(Iterable<? extends T> entities)")]),s._v(" æ‰¹é‡åˆ é™¤ï¼Œè¿˜æ˜¯forå¾ªç¯è°ƒç”¨ delete(T entity)ã€‚")]),s._v(" "),n("p",[s._v("é‚£è¿™å°±å¾ˆæ‰¯æ·¡äº†ï¼Œå½“ç„¶å¯ä»¥ä½¿ç”¨ JpaRepository çš„æ‰¹é‡åˆ é™¤ï¼")])]),s._v(" "),n("li",[n("p",[n("code",[s._v("void deleteAll()")]),s._v(" åˆ é™¤æ‰€æœ‰ï¼›åŸç†å¯ä»¥é€šè¿‡åˆšæ‰çš„ç±»å…³ç³»æŸ¥çœ‹ï¼ŒCrudRepository çš„å®ç°æ–¹æ³•å¦‚ä¸‹ï¼š")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//SimpleJpaRepositoryé‡Œé¢çš„deleteALLæ–¹æ³•")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åˆ©ç”¨ for å¾ªç¯è°ƒç”¨ delete æ–¹æ³•è¿›è¡Œåˆ é™¤æ“ä½œ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("deleteAll")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),s._v(" element "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("findAll")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("delete")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("element"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])])]),s._v(" "),n("li",[n("p",[n("code",[s._v("boolean existsById(ID id)")]),s._v(" æ ¹æ®ä¸»é”®åˆ¤æ–­å®ä½“æ˜¯å¦å­˜åœ¨ï¼›")])]),s._v(" "),n("li",[n("p",[n("code",[s._v("Optional<T> findById(ID id);")]),s._v(" æ ¹æ®ä¸»é”®æŸ¥è¯¢å®ä½“ï¼Œè¿”å› JDK 1.8 çš„ Optionalï¼Œè¿™å¯ä»¥é¿å… null exceptionï¼›")])]),s._v(" "),n("li",[n("p",[n("code",[s._v("Iterable<T> findAllById(Iterable ids);")]),s._v(" æ ¹æ®ä¸»é”®åˆ—è¡¨æŸ¥è¯¢å®ä½“åˆ—è¡¨ï¼›")])]),s._v(" "),n("li",[n("p",[n("code",[s._v("Iterable<T> findAll();")]),s._v(" æŸ¥è¯¢å®ä½“çš„æ‰€æœ‰åˆ—è¡¨ï¼›")])]),s._v(" "),n("li",[n("p",[n("code",[s._v("count()")]),s._v(": long æŸ¥è¯¢æ€»æ•°è¿”å› long ç±»å‹ï¼›")])])]),s._v(" "),n("p",[s._v("ä¸Šé¢è¿™äº›æ–¹æ³•æ˜¯ CrudRepository å¯¹å¤–æš´éœ²çš„å¸¸è§çš„ Crud æ¥å£ï¼Œæˆ‘ä»¬åœ¨å¯¹æ•°æ®åº“è¿›è¡Œ Crud çš„æ—¶å€™å°±ä¼šè¿ç”¨åˆ°ï¼Œå¦‚ä¸‹æ‰€ç¤º")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserRepository")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CrudRepository")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Long")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"pagingandsortingrepository-æ¥å£ç¤ºä¾‹-ğŸ”¥"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#pagingandsortingrepository-æ¥å£ç¤ºä¾‹-ğŸ”¥"}},[s._v("#")]),s._v(" PagingAndSortingRepository æ¥å£ç¤ºä¾‹ ğŸ”¥")]),s._v(" "),n("p",[s._v("ä¸»è¦ç”¨äºåˆ†é¡µæŸ¥è¯¢å’Œæ’åºæŸ¥è¯¢ã€‚æºç å¦‚ä¸‹ï¼š")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@NoRepositoryBean")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PagingAndSortingRepository")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ID"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CrudRepository")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ID"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Iterable")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("findAll")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Sort")]),s._v(" sort"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" ï¼ˆ"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("ï¼‰\n\t"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Page")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("findAll")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Pageable")]),s._v(" pageable"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" ï¼ˆ"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("ï¼‰\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("ul",[n("li",[s._v("ç¬¬ä¸€ä¸ªæ–¹æ³• findAll å‚æ•°æ˜¯ Sortï¼Œæ˜¯æ ¹æ®æ’åºå‚æ•°ï¼Œå®ç°ä¸åŒçš„æ’åºè§„åˆ™è·å–æ‰€æœ‰çš„å¯¹è±¡çš„é›†åˆ")]),s._v(" "),n("li",[s._v("ğŸ”¥ ç¬¬äºŒä¸ªæ–¹æ³• findAll å‚æ•°æ˜¯ Pageableï¼Œæ˜¯æ ¹æ®åˆ†é¡µå’Œæ’åºè¿›è¡ŒæŸ¥è¯¢ï¼Œå¹¶ç”¨ Page å¯¹è¿”å›ç»“æœè¿›è¡Œå°è£…ã€‚è€Œ Pageable å¯¹è±¡åŒ…å« Page å’Œ Sort å¯¹è±¡")])]),s._v(" "),n("p",[s._v("ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserRepository")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PagingAndSortingRepository")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Long")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * éªŒè¯æ’åºå’Œåˆ†é¡µæŸ¥è¯¢æ–¹æ³•ï¼ŒPageableçš„é»˜è®¤å®ç°ç±»ï¼šPageRequest\n * @return\n */")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@GetMapping")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("path "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/page"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@ResponseBody")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Page")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getAllUserByPage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" userRepository"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("findAll")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PageRequest")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("of")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Sort")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("by")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Sort"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Order")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Sort"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Direction")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ASC"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * æ’åºæŸ¥è¯¢æ–¹æ³•ï¼Œä½¿ç”¨Sortå¯¹è±¡\n * @return\n */")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@GetMapping")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("path "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/sort"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@ResponseBody")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Iterable")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getAllUsersWithSort")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" userRepository"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("findAll")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Sort")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("by")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Sort"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Order")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Sort"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Direction")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ASC"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("h3",{attrs:{id:"jparepository-æ¥å£ç¤ºä¾‹-ğŸ”¥"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#jparepository-æ¥å£ç¤ºä¾‹-ğŸ”¥"}},[s._v("#")]),s._v(" JpaRepository æ¥å£ç¤ºä¾‹ ğŸ”¥")]),s._v(" "),n("p",[s._v("åˆ°è¿™é‡Œå¯ä»¥è¿›å…¥åˆ°åˆ†æ°´å²­äº†ï¼Œ"),n("strong",[s._v("ä¸Šé¢çš„é‚£äº›éƒ½æ˜¯ Spring Data ä¸ºäº†å…¼å®¹ NoSQL è€Œè¿›è¡Œçš„ä¸€äº›æŠ½è±¡å°è£…")]),s._v("ï¼Œè€Œ"),n("strong",[s._v("ä» JpaRepository å¼€å§‹æ˜¯å¯¹å…³ç³»å‹æ•°æ®åº“è¿›è¡ŒæŠ½è±¡å°è£…")]),s._v("ã€‚ä»ç±»å›¾å¯ä»¥çœ‹å‡ºæ¥å®ƒç»§æ‰¿ PagingAndSortingRepository ç±»ï¼Œä¹Ÿå°±ç»§æ‰¿äº†å…¶æ‰€æœ‰æ–¹æ³•ï¼Œå¹¶ä¸”å…¶å®ç°ç±»ä¹Ÿæ˜¯ SimpleJpaRepositoryã€‚ä»ç±»å›¾ä¸Šè¿˜å¯ä»¥çœ‹å‡º JpaRepository ç»§æ‰¿å’Œæ‹¥æœ‰äº† QueryByExampleExecutor çš„ç›¸å…³æ–¹æ³•ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ JpaRepository æœ‰å“ªäº›æ–¹æ³•ã€‚")]),s._v(" "),n("p",[n("img",{attrs:{src:t(628),alt:"image-20201219224246112"}})]),s._v(" "),n("p",[s._v("æ¶‰åŠ QueryByExample çš„éƒ¨åˆ†æˆ‘ä»¬åœ¨ 11 è¯¾æ—¶â€œJpaRepository å¦‚ä½•è‡ªå®šä¹‰â€å†è¯¦ç»†ä»‹ç»ï¼Œ")]),s._v(" "),n("p",[s._v("JpaRepository é‡Œé¢é‡ç‚¹æ–°å¢äº†"),n("strong",[s._v("æ‰¹é‡åˆ é™¤")]),s._v("ï¼Œä¼˜åŒ–äº†æ‰¹é‡åˆ é™¤çš„æ€§èƒ½ï¼Œç±»ä¼¼äºä¹‹å‰ SQL çš„ batch æ“ä½œï¼Œå¹¶ä¸æ˜¯åƒä¸Šé¢çš„ deleteAll æ¥ for å¾ªç¯åˆ é™¤ã€‚")]),s._v(" "),n("p",[s._v("å…¶ä¸­ flush() å’Œ saveAndFlush() æä¾›äº†æ‰‹åŠ¨åˆ·æ–° sessionï¼ŒæŠŠå¯¹è±¡çš„å€¼ç«‹å³æ›´æ–°åˆ°æ•°æ®åº“é‡Œé¢çš„æœºåˆ¶ã€‚JPA æ˜¯ ç”± Hibernate å®ç°çš„ï¼Œæ‰€ä»¥æœ‰ session ä¸€çº§ç¼“å­˜çš„æœºåˆ¶ï¼Œå½“è°ƒç”¨ save() æ–¹æ³•çš„æ—¶å€™ï¼Œæ•°æ®åº“é‡Œé¢æ˜¯ä¸ä¼šç«‹å³å˜åŒ–çš„ï¼Œå…¶åŸç†æˆ‘å°†åœ¨ 21 è¯¾æ—¶â€œPersistence Context æ‰€è¡¨è¾¾çš„æ ¸å¿ƒæ¦‚å¿µæ˜¯ä»€ä¹ˆâ€å†è¯¦ç»†è®²è§£")]),s._v(" "),n("p",[s._v("ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserRepository")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JpaRepository")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Long")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"å…·ä½“å®ç°ç±»-simplejparepository-ğŸ”¥"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å…·ä½“å®ç°ç±»-simplejparepository-ğŸ”¥"}},[s._v("#")]),s._v(" å…·ä½“å®ç°ç±» SimpleJpaRepository ğŸ”¥")]),s._v(" "),n("p",[s._v("PagingAndSortingRepository å’Œ CrudRepository éƒ½æ˜¯ Spring Data Common çš„æ ‡å‡†æ¥å£ï¼Œé‚£ä¹ˆå®ç°ç±»æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå¦‚æœæˆ‘ä»¬é‡‡ç”¨ JPAï¼Œé‚£å¯¹åº”çš„å®ç°ç±»å°±æ˜¯ Spring Data JPA çš„ jar åŒ…é‡Œé¢çš„ SimpleJpaRepositoryã€‚å¦‚æœæ˜¯å…¶ä»– NoSQLçš„ å®ç°å¦‚ MongoDBï¼Œé‚£å®ç°å°±åœ¨ Spring Data MongoDB çš„ jar é‡Œé¢çš„ MongoRepositoryImplã€‚JpaRepository çš„å®ç°ç±»ä¹Ÿæ˜¯ SimpleJpaRepository")]),s._v(" "),n("p",[s._v("å…³ç³»æ•°æ®åº“çš„æ‰€æœ‰ Repository æ¥å£çš„å®ç°ç±»å°±æ˜¯ SimpleJpaRepositoryï¼Œå¦‚æœæœ‰äº›ä¸šåŠ¡åœºæ™¯éœ€è¦è¿›è¡Œæ‰©å±•äº†ï¼Œå¯ä»¥ç»§ç»­ç»§æ‰¿æ­¤ç±»ï¼Œå¦‚ QueryDsl çš„æ‰©å±•ï¼ˆè™½ç„¶ä¸æ¨èä½¿ç”¨äº†ï¼Œä½†æˆ‘ä»¬å¯ä»¥å‚è€ƒå®ƒçš„åšæ³•ï¼Œè‡ªå®šä¹‰è‡ªå·±çš„ SimpleJpaRepositoryï¼‰ï¼Œ"),n("strong",[s._v("å¦‚æœèƒ½å°†æ­¤ç±»é‡Œé¢çš„å®ç°æ–¹æ³•çœ‹é€äº†ï¼ŒåŸºæœ¬ä¸Š JPA ä¸­çš„ API å°±èƒ½æŒæ¡å¤§éƒ¨åˆ†å†…å®¹")]),s._v("ã€‚")]),s._v(" "),n("p",[s._v("UserRepository çš„å®ç°ç±»æ˜¯ Spring å¯åŠ¨çš„æ—¶å€™ï¼Œåˆ©ç”¨ Java åŠ¨æ€ä»£ç†æœºåˆ¶å¸®æˆ‘ä»¬ç”Ÿæˆçš„å®ç°ç±»ï¼Œè€ŒçœŸæ­£çš„å®ç°ç±»å°±æ˜¯ SimpleJpaRepositoryã€‚")]),s._v(" "),n("p",[n("img",{attrs:{src:t(629),alt:"image-20201219225302748"}})]),s._v(" "),n("p",[n("img",{attrs:{src:t(630),alt:"image-20201220000423131"}})]),s._v(" "),n("p",[s._v("å®ƒæ˜¯åœ¨ä»€ä¹ˆæ—¶å€™è¢«åŠ¨æ€ä»£ç†ç”Ÿæˆçš„ï¼Ÿåœ¨ RepositoryFactorySupport è®¾ç½®ä¸€ä¸ªæ–­ç‚¹ï¼Œå¯åŠ¨çš„æ—¶å€™ï¼Œåœ¨æˆ‘ä»¬çš„æ–­ç‚¹å¤„å°±ä¼šå‘ç° UserRepository çš„æ¥å£ä¼šè¢« JdkDynamicAopProxy åŠ¨æ€ä»£ç†æˆ SimpleJapRepository çš„å®ç°ç±»ï¼ˆåº•å±‚è¿˜æ˜¯ InvocationHandler çš„ invoke æ–¹æ³•ï¼›éæ¥å£çš„åŠ¨æ€ä»£ç†ä¼šä½¿ç”¨ Cglibï¼‰ã€‚æ³¨æ„æ¯ä¸€ä¸ª Repository çš„å­ç±»ï¼Œéƒ½ä¼šé€šè¿‡è¿™é‡Œçš„åŠ¨æ€ä»£ç†ç”Ÿæˆå®ç°ç±»")]),s._v(" "),n("p",[n("img",{attrs:{src:t(631),alt:"image-20201219225948290"}})]),s._v(" "),n("p",[s._v("éƒ¨åˆ†æºç å¦‚ä¸‹ï¼š")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Repository")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Transactional")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("readOnly "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SimpleJpaRepository")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ID"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JpaRepository")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ID"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JpaSpecificationExecutor")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" ID_MUST_NOT_BE_NULL "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"The given id must not be null!"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JpaEntityInformation")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" entityInformation"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("EntityManager")]),s._v(" em"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PersistenceProvider")]),s._v(" provider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Nullable")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CrudMethodMetadata")]),s._v(" metadata"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ......")]),s._v("\n  \n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Transactional")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("deleteAllInBatch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        em"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("createQuery")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getDeleteAllQueryString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("executeUpdate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//......")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br")])]),n("p",[s._v("é€šè¿‡æ­¤ç±»çš„æºç ï¼Œæˆ‘ä»¬å¯ä»¥æŒºæ¸…æ™°åœ°çœ‹å‡º SimpleJpaRepository çš„å®ç°æœºåˆ¶ï¼Œæ˜¯"),n("strong",[s._v("é€šè¿‡ EntityManger è¿›è¡Œå®ä½“çš„æ“ä½œï¼ˆå°±æ˜¯å’ŒJPAä¸€æ ·ï¼‰")]),s._v("ï¼Œè€Œ JpaEntityInforMation é‡Œé¢å­˜åœ¨å®ä½“çš„ç›¸å…³ä¿¡æ¯å’Œ Crud æ–¹æ³•çš„å…ƒæ•°æ®ç­‰ã€‚")]),s._v(" "),n("h3",{attrs:{id:"å¯å‘-ğŸ”¥"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¯å‘-ğŸ”¥"}},[s._v("#")]),s._v(" å¯å‘ ğŸ”¥")]),s._v(" "),n("ul",[n("li",[s._v("ä¸Šé¢çš„ 7 ä¸ªå¤§ Repository æ¥å£ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™å¯ä»¥æ ¹æ®å®é™…åœºæ™¯"),n("strong",[s._v("ç»§æ‰¿ä¸åŒçš„æ¥å£")]),s._v("ï¼Œä»è€Œé€‰æ‹©æš´éœ²ä¸åŒçš„ Spring Data Common ç»™æˆ‘ä»¬æä¾›çš„å·²æœ‰æ¥å£ã€‚è¿™å…¶å®åˆ©ç”¨äº† Java è¯­è¨€çš„ interface ç‰¹æ€§ã€‚")]),s._v(" "),n("li",[s._v("åˆ©ç”¨æºç ä¹Ÿå¯ä»¥å¾ˆå¥½åœ°ç†è§£ä¸€ä¸‹ Spring ä¸­"),n("strong",[s._v("åŠ¨æ€ä»£ç†")]),s._v("çš„ä½œç”¨ï¼Œå¯ä»¥åˆ©ç”¨è¿™ç§æ€æƒ³ï¼Œåœ¨æ”¹å–„ MyBatis çš„æ—¶å€™ä½¿ç”¨ã€‚")])]),s._v(" "),n("h2",{attrs:{id:"entity-ä¸­çš„-jpa-æ³¨è§£-ğŸ”¥"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#entity-ä¸­çš„-jpa-æ³¨è§£-ğŸ”¥"}},[s._v("#")]),s._v(" @Entity ä¸­çš„ JPA æ³¨è§£ ğŸ”¥")]),s._v(" "),n("h3",{attrs:{id:"entity-å®ä½“æ˜¯ä»€ä¹ˆï¼Ÿ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#entity-å®ä½“æ˜¯ä»€ä¹ˆï¼Ÿ"}},[s._v("#")]),s._v(" Entity å®ä½“æ˜¯ä»€ä¹ˆï¼Ÿ")]),s._v(" "),n("ul",[n("li",[s._v("å®ä½“æ˜¯ç›´æ¥è¿›è¡Œæ•°æ®åº“æŒä¹…åŒ–æ“ä½œçš„é¢†åŸŸå¯¹è±¡ï¼ˆå³ä¸€ä¸ªç®€å•çš„ POJOï¼Œå¯ä»¥æŒ‰ç…§ä¸šåŠ¡é¢†åŸŸåˆ’åˆ†ï¼‰ï¼Œå¿…é¡»é€šè¿‡ @Entity æ³¨è§£è¿›è¡Œæ ‡ç¤ºã€‚")]),s._v(" "),n("li",[s._v("å®ä½“å¿…é¡»æœ‰ä¸€ä¸ª public æˆ–è€… protected çš„æ— å‚æ•°æ„é€ æ–¹æ³•ã€‚")]),s._v(" "),n("li",[s._v("æŒä¹…åŒ–æ˜ å°„çš„æ³¨è§£å¯ä»¥æ ‡ç¤ºåœ¨ Entity çš„å­—æ®µ field ä¸Šï¼Œä¹Ÿå¯ä»¥å°†æŒä¹…åŒ–æ³¨è§£è¿ç”¨åœ¨ Entity é‡Œé¢çš„ get/set æ–¹æ³•ä¸Šï¼Œé€šå¸¸æˆ‘ä»¬æ˜¯æ”¾åœ¨ get æ–¹æ³•ä¸­ã€‚å³ Entity é‡Œé¢çš„æ³¨è§£ç”Ÿæ•ˆåªæœ‰ä¸¤ç§æ–¹å¼ï¼šå°†æ³¨è§£å†™åœ¨å­—æ®µä¸Šæˆ–è€…å°†æ³¨è§£å†™åœ¨æ–¹æ³•ä¸Šï¼ˆJPA é‡Œé¢ç§° Propertyï¼‰ã€‚ä½†æ˜¯"),n("strong",[s._v("éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨åŒä¸€ä¸ª Entity é‡Œé¢åªèƒ½æœ‰ä¸€ç§æ–¹å¼ç”Ÿæ•ˆ")]),s._v("ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ³¨è§£è¦ä¹ˆå…¨éƒ¨å†™åœ¨ field ä¸Šé¢ï¼Œè¦ä¹ˆå°±å…¨éƒ¨å†™åœ¨ Property ä¸Šé¢")]),s._v(" "),n("li",[s._v("åªè¦æ˜¯åœ¨ @Entity çš„å®ä½“é‡Œé¢è¢«æ³¨è§£æ ‡æ³¨çš„å­—æ®µï¼Œéƒ½ä¼šè¢«æ˜ å°„åˆ°æ•°æ®åº“ä¸­ï¼Œé™¤äº†ä½¿ç”¨ "),n("strong",[s._v("@Transient")]),s._v(" æ³¨è§£çš„å­—æ®µä¹‹å¤–ã€‚")]),s._v(" "),n("li",[s._v("å®ä½“é‡Œé¢"),n("strong",[s._v("å¿…é¡»è¦æœ‰ä¸€ä¸ªä¸»é”®")]),s._v("ï¼Œä¸»é”®æ ‡ç¤ºçš„å­—æ®µå¯ä»¥æ˜¯å•ä¸ªå­—æ®µï¼Œä¹Ÿå¯ä»¥æ˜¯å¤åˆä¸»é”®å­—æ®µã€‚")])]),s._v(" "),n("p",[s._v("JPA åè®®çš„å®˜æ–¹åœ°å€ï¼šhttps://download.oracle.com/otn-pub/jcp/persistence-2_2-mrel-spec/JavaPersistence.pdf")]),s._v(" "),n("h3",{attrs:{id:"è¯¦ç»†çš„æ³¨è§£éƒ½æœ‰å“ªäº›ï¼Ÿ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è¯¦ç»†çš„æ³¨è§£éƒ½æœ‰å“ªäº›ï¼Ÿ"}},[s._v("#")]),s._v(" è¯¦ç»†çš„æ³¨è§£éƒ½æœ‰å“ªäº›ï¼Ÿ")]),s._v(" "),n("p",[s._v("åˆ©ç”¨ IEDA å·¥å…·ï¼Œæ‰“å¼€ @Entity æ‰€åœ¨çš„åŒ…ï¼Œå°±å¯ä»¥çœ‹åˆ° JPA é‡Œé¢æ”¯æŒçš„æ³¨è§£æœ‰å“ªäº›ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼›")]),s._v(" "),n("p",[n("img",{attrs:{src:t(632),alt:"img"}})]),s._v(" "),n("p",[s._v("è¿™é‡ŒåªæåŠä¸€äº›æœ€å¸¸è§çš„ï¼ŒåŒ…æ‹¬ @Entityã€@Tableã€@Accessã€@Idã€@GeneratedValueã€@Enumeratedã€@Basicã€@Columnã€@Transientã€@Lobã€@Temporal ç­‰ã€‚")]),s._v(" "),n("h3",{attrs:{id:"entity"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#entity"}},[s._v("#")]),s._v(" @Entity")]),s._v(" "),n("p",[s._v("ç”¨äºå®šä¹‰å¯¹è±¡å°†ä¼šæˆä¸ºè¢« JPA ç®¡ç†çš„å®ä½“ï¼Œå¿…å¡«ï¼Œå°†å­—æ®µæ˜ å°„åˆ°æŒ‡å®šçš„æ•°æ®åº“è¡¨ä¸­ï¼Œä½¿ç”¨èµ·æ¥å¾ˆç®€å•ï¼Œç›´æ¥ç”¨åœ¨å®ä½“ç±»ä¸Šé¢å³å¯ï¼Œé€šè¿‡æºç è¡¨è¾¾çš„è¯­æ³•å¦‚ä¸‹ï¼š")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Target")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("TYPE"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//è¡¨ç¤ºæ­¤æ³¨è§£åªèƒ½ç”¨åœ¨classä¸Šé¢")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@interface")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Entity")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//å¯é€‰ï¼Œé»˜è®¤æ˜¯å®ä½“ç±»çš„åå­—ï¼Œæ•´ä¸ªåº”ç”¨é‡Œé¢å…¨å±€å”¯ä¸€ã€‚")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"table"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#table"}},[s._v("#")]),s._v(" @Table")]),s._v(" "),n("p",[s._v("ç”¨äºæŒ‡å®šæ•°æ®åº“çš„è¡¨åï¼Œè¡¨ç¤ºæ­¤å®ä½“å¯¹åº”çš„æ•°æ®åº“é‡Œé¢çš„è¡¨åï¼Œéå¿…å¡«ï¼Œé»˜è®¤è¡¨åå’Œ entity åå­—ä¸€æ ·ã€‚")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Target")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("TYPE"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//ä¸€æ ·åªèƒ½ç”¨åœ¨ç±»ä¸Šé¢")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@interface")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Table")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//è¡¨çš„åå­—ï¼Œå¯é€‰ã€‚å¦‚æœä¸å¡«å†™ï¼Œç³»ç»Ÿè®¤ä¸ºå¥½å®ä½“çš„åå­—ä¸€æ ·ä¸ºè¡¨åã€‚")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æ­¤è¡¨æ‰€åœ¨schemaï¼Œå¯é€‰")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("schema")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//å”¯ä¸€æ€§çº¦æŸï¼Œåœ¨åˆ›å»ºè¡¨çš„æ—¶å€™æœ‰ç”¨ï¼Œè¡¨åˆ›å»ºä¹‹ååé¢å°±ä¸éœ€è¦äº†ã€‚")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UniqueConstraint")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("uniqueConstraints")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//ç´¢å¼•ï¼Œåœ¨åˆ›å»ºè¡¨çš„æ—¶å€™ä½¿ç”¨ï¼Œè¡¨åˆ›å»ºä¹‹ååé¢å°±ä¸éœ€è¦äº†ã€‚")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Index")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("indexes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("h3",{attrs:{id:"access"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#access"}},[s._v("#")]),s._v(" @Access")]),s._v(" "),n("p",[s._v("ç”¨äºæŒ‡å®š entity é‡Œé¢çš„æ³¨è§£æ˜¯å†™åœ¨å­—æ®µä¸Šé¢ï¼Œè¿˜æ˜¯ get/set æ–¹æ³•ä¸Šé¢ç”Ÿæ•ˆï¼Œéå¿…å¡«ã€‚åœ¨é»˜è®¤ä¸å¡«å†™çš„æƒ…å†µä¸‹ï¼Œå½“å®ä½“é‡Œé¢çš„ç¬¬ä¸€ä¸ªæ³¨è§£å‡ºç°åœ¨å­—æ®µä¸Šæˆ–è€… get/set æ–¹æ³•ä¸Šé¢ï¼Œå°±ä»¥ç¬¬ä¸€æ¬¡å‡ºç°çš„æ–¹å¼ä¸ºå‡†ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªå®ä½“é‡Œé¢çš„æ³¨è§£æ—¢æœ‰ç”¨åœ¨ field ä¸Šé¢ï¼Œåˆæœ‰ç”¨åœ¨ properties ä¸Šé¢çš„æ—¶å€™ï¼Œçœ‹ä¸‹é¢çš„ä»£ç ä½ å°±ä¼šæ˜ç™½ã€‚")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Id")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Long")]),s._v(" id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Column")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("length "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" nullable "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getUserName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" userName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("é‚£ä¹ˆç”±äº @Id æ˜¯å®ä½“é‡Œé¢ç¬¬ä¸€ä¸ªå‡ºç°çš„æ³¨è§£ï¼Œå¹¶ä¸”ä½œç”¨åœ¨å­—æ®µä¸Šé¢ï¼Œæ‰€ä»¥æ‰€æœ‰å†™åœ¨ get/set æ–¹æ³•ä¸Šé¢çš„æ³¨è§£å°±ä¼šå¤±æ•ˆã€‚è€Œ @Access å¯ä»¥å¹²é¢„é»˜è®¤å€¼ï¼ŒæŒ‡å®šæ˜¯åœ¨ fileds ä¸Šé¢ç”Ÿæ•ˆè¿˜æ˜¯åœ¨ properties ä¸Šé¢ç”Ÿæ•ˆã€‚æˆ‘ä»¬é€šè¿‡æºç çœ‹ä¸‹è¯­æ³•ï¼š")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Target")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" TYPE"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" METHOD"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" FIELD "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//è¡¨ç¤ºæ­¤æ³¨è§£å¯ä»¥è¿ç”¨åœ¨classä¸Š(é‚£ä¹ˆè¿™ä¸ªæ—¶å€™å°±å¯ä»¥æŒ‡å®šæ­¤å®ä½“çš„é»˜è®¤æ³¨è§£ç”Ÿæ•ˆç­–ç•¥äº†)ï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨æ–¹æ³•ä¸Šæˆ–è€…å­—æ®µä¸Š(è¡¨ç¤ºå¯ä»¥ç‹¬ç«‹è®¾ç½®æŸä¸€ä¸ªå­—æ®µæˆ–è€…æ–¹æ³•çš„ç”Ÿæ•ˆç­–ç•¥)ï¼›")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Retention")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("RUNTIME"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@interface")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Access")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æŒ‡å®šæ˜¯å­—æ®µä¸Šé¢ç”Ÿæ•ˆè¿˜æ˜¯æ–¹æ³•ä¸Šé¢ç”Ÿæ•ˆ")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AccessType")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("enum")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AccessType")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    FIELD"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    PROPERTY\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h3",{attrs:{id:"id"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#id"}},[s._v("#")]),s._v(" @Id")]),s._v(" "),n("p",[s._v("å®šä¹‰å±æ€§ä¸ºæ•°æ®åº“çš„ä¸»é”®ï¼Œä¸€ä¸ªå®ä½“é‡Œé¢å¿…é¡»æœ‰ä¸€ä¸ªä¸»é”®ï¼Œä½†ä¸ä¸€å®šæ˜¯è¿™ä¸ªæ³¨è§£ï¼Œå¯ä»¥å’Œ @GeneratedValue é…åˆä½¿ç”¨æˆ–æˆå¯¹å‡ºç°ã€‚")]),s._v(" "),n("h3",{attrs:{id:"generatedvalue"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#generatedvalue"}},[s._v("#")]),s._v(" @GeneratedValue")]),s._v(" "),n("p",[s._v("ä¸»é”®ç”Ÿæˆç­–ç•¥ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@interface")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GeneratedValue")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//Idçš„ç”Ÿæˆç­–ç•¥")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GenerationType")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("strategy")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" AUTO"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//é€šè¿‡Sequencesç”ŸæˆId,å¸¸è§çš„æ˜¯Orcaleæ•°æ®åº“IDç”Ÿæˆè§„åˆ™ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦é…åˆ@SequenceGeneratorä½¿ç”¨")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("generator")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("å…¶ä¸­ï¼ŒGenerationType ä¸€å…±æœ‰ä»¥ä¸‹å››ä¸ªå€¼ï¼š")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("enum")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GenerationType")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//é€šè¿‡è¡¨äº§ç”Ÿä¸»é”®ï¼Œæ¡†æ¶å€Ÿç”±è¡¨æ¨¡æ‹Ÿåºåˆ—äº§ç”Ÿä¸»é”®ï¼Œä½¿ç”¨è¯¥ç­–ç•¥å¯ä»¥ä½¿åº”ç”¨æ›´æ˜“äºæ•°æ®åº“ç§»æ¤ã€‚")]),s._v("\n    TABLE"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//é€šè¿‡åºåˆ—äº§ç”Ÿä¸»é”®ï¼Œé€šè¿‡ @SequenceGenerator æ³¨è§£æŒ‡å®šåºåˆ—åï¼Œ MySql ä¸æ”¯æŒè¿™ç§æ–¹å¼ï¼›")]),s._v("\n    SEQUENCE"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//é‡‡ç”¨æ•°æ®åº“IDè‡ªå¢é•¿ï¼Œ ä¸€èˆ¬ç”¨äºmysqlæ•°æ®åº“")]),s._v("\n    IDENTITY"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//JPA è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„ç­–ç•¥ï¼Œæ˜¯é»˜è®¤é€‰é¡¹ï¼›")]),s._v("\n    AUTO\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h3",{attrs:{id:"enumeratedï¼ˆæ²¡å•¥ç”¨ï¼‰"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#enumeratedï¼ˆæ²¡å•¥ç”¨ï¼‰"}},[s._v("#")]),s._v(" @Enumeratedï¼ˆæ²¡å•¥ç”¨ï¼‰")]),s._v(" "),n("p",[s._v("è¿™ä¸ªæ³¨è§£å¾ˆä¸å¥½ç”¨ï¼Œå› ä¸ºå®ƒå¯¹ enum æä¾›äº†ä¸‹æ ‡å’Œ name ä¸¤ç§æ–¹å¼ï¼Œç”¨æ³•ç›´æ¥æ˜ å°„åœ¨ enum æšä¸¾ç±»å‹çš„å­—æ®µä¸Šã€‚è¯·çœ‹ä¸‹é¢æºç ã€‚")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Target")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("METHOD"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" FIELD"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//ä½œç”¨åœ¨æ–¹æ³•å’Œå­—æ®µä¸Š")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@interface")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Enumerated")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æšä¸¾æ˜ å°„çš„ç±»å‹ï¼Œé»˜è®¤æ˜¯ORDINALï¼ˆå³æšä¸¾å­—æ®µçš„ä¸‹æ ‡ï¼‰ã€‚")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("EnumType")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" ORDINAL"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("enum")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("EnumType")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æ˜ å°„æšä¸¾å­—æ®µçš„ä¸‹æ ‡")]),s._v("\n    ORDINAL"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æ˜ å°„æšä¸¾çš„Name")]),s._v("\n    STRING\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("å†æ¥çœ‹ä¸€ä¸ª User é‡Œé¢å…³äºæ€§åˆ«æšä¸¾çš„ä¾‹å­ï¼Œä½ å°±ä¼šçŸ¥é“ @Enumerated åœ¨è¿™é‡Œ"),n("strong",[s._v("æ²¡ä»€ä¹ˆä½œç”¨äº†")]),s._v("ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æœ‰ä¸€ä¸ªæšä¸¾ç±»ï¼Œç”¨æˆ·çš„æ€§åˆ«")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("enum")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Gender")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("MAIL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ç”·æ€§"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("FMAIL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"å¥³æ€§"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Gender")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("value "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//å®ä½“ç±»@Enumeratedçš„å†™æ³•å¦‚ä¸‹")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Entity")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Table")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"tb_user"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Enumerated")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("EnumType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("STRING"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Column")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user_gender"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Gender")]),s._v(" gender"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//.......................")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])]),n("p",[s._v("è¿™æ—¶å€™æ’å…¥ä¸¤æ¡æ•°æ®ï¼Œæ•°æ®åº“é‡Œé¢çš„å€¼ä¼šå˜æˆ MAIL/FMAILï¼Œè€Œä¸æ˜¯â€œç”·æ€§â€ / å¥³æ€§ã€‚")]),s._v(" "),n("p",[n("strong",[s._v("ç»éªŒåˆ†äº«ï¼š")]),s._v(" å¦‚æœæˆ‘ä»¬ç”¨ @Enumeratedï¼ˆEnumType.ORDINALï¼‰ï¼Œè¿™æ—¶å€™æ•°æ®åº“é‡Œé¢çš„å€¼æ˜¯ 0ã€1ã€‚ä½†æ˜¯å®é™…å·¥ä½œä¸­ï¼Œä¸å»ºè®®ç”¨æ•°å­—ä¸‹æ ‡ï¼Œå› ä¸ºæšä¸¾é‡Œé¢çš„å±æ€§å€¼æ˜¯ä¼šä¸æ–­æ–°å¢çš„ï¼Œå¦‚æœæ–°å¢ä¸€ä¸ªï¼Œä½ç½®å˜åŒ–äº†å°±æƒ¨äº†ã€‚å¹¶ä¸” 0ã€1ã€2 è¿™ç§ä¸‹æ ‡åœ¨æ•°æ®åº“é‡Œé¢çœ‹ç€éå¸¸ç—›è‹¦ï¼Œæ—¶é—´é•¿äº†å°±ä¼šä¸€ç‚¹ä¹Ÿçœ‹ä¸æ‡‚äº†ã€‚")]),s._v(" "),n("h3",{attrs:{id:"basic"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#basic"}},[s._v("#")]),s._v(" @Basic")]),s._v(" "),n("p",[s._v("è¡¨ç¤ºå±æ€§æ˜¯åˆ°æ•°æ®åº“è¡¨çš„å­—æ®µçš„æ˜ å°„ã€‚å¦‚æœå®ä½“çš„å­—æ®µä¸Šæ²¡æœ‰ä»»ä½•æ³¨è§£ï¼Œé»˜è®¤å³ä¸º @Basicã€‚ä¹Ÿå°±æ˜¯è¯´é»˜è®¤æ‰€æœ‰çš„å­—æ®µè‚¯å®šæ˜¯å’Œæ•°æ®åº“è¿›è¡Œæ˜ å°„çš„ï¼Œå¹¶ä¸”é»˜è®¤ä¸º Eager ç±»å‹ã€‚")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@interface")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Basic")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//å¯é€‰ï¼ŒEAGERï¼ˆé»˜è®¤ï¼‰ï¼šç«‹å³åŠ è½½ï¼›LAZYï¼šå»¶è¿ŸåŠ è½½ã€‚ï¼ˆLAZYä¸»è¦åº”ç”¨åœ¨å¤§å­—æ®µä¸Šé¢ï¼‰")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FetchType")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("fetch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" EAGER"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//å¯é€‰ã€‚è¿™ä¸ªå­—æ®µæ˜¯å¦å¯ä»¥ä¸ºnullï¼Œé»˜è®¤æ˜¯trueã€‚")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("optional")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h3",{attrs:{id:"transient"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#transient"}},[s._v("#")]),s._v(" @Transient")]),s._v(" "),n("p",[s._v("è¡¨ç¤ºè¯¥å±æ€§å¹¶éä¸€ä¸ªåˆ°æ•°æ®åº“è¡¨çš„å­—æ®µçš„æ˜ å°„ï¼Œè¡¨ç¤ºéæŒä¹…åŒ–å±æ€§ã€‚JPA æ˜ å°„æ•°æ®åº“çš„æ—¶å€™å¿½ç•¥å®ƒï¼Œä¸ @Basic æœ‰ç›¸åçš„ä½œç”¨ã€‚ä¹Ÿå°±æ˜¯æ¯ä¸ªå­—æ®µä¸Šé¢ @Transient å’Œ @Basic å¿…é¡»äºŒé€‰ä¸€ï¼Œè€Œä»€ä¹ˆéƒ½ä¸æŒ‡å®šçš„è¯ï¼Œé»˜è®¤æ˜¯ @Basicã€‚")]),s._v(" "),n("h3",{attrs:{id:"column"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#column"}},[s._v("#")]),s._v(" @Column")]),s._v(" "),n("p",[s._v("å®šä¹‰è¯¥å±æ€§å¯¹åº”æ•°æ®åº“ä¸­çš„åˆ—åã€‚")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@interface")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Column")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æ•°æ®åº“ä¸­çš„è¡¨çš„åˆ—åï¼›å¯é€‰ï¼Œå¦‚æœä¸å¡«å†™è®¤ä¸ºå­—æ®µåå’Œå®ä½“å±æ€§åä¸€æ ·ã€‚")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æ˜¯å¦å”¯ä¸€ã€‚é»˜è®¤flaseï¼Œå¯é€‰ã€‚")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("unique")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æ•°æ®å­—æ®µæ˜¯å¦å…è®¸ç©ºã€‚å¯é€‰ï¼Œé»˜è®¤trueã€‚")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nullable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æ‰§è¡Œinsertæ“ä½œçš„æ—¶å€™æ˜¯å¦åŒ…å«æ­¤å­—æ®µï¼Œé»˜è®¤ï¼Œtrueï¼Œå¯é€‰ã€‚")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("insertable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æ‰§è¡Œupdateçš„æ—¶å€™æ˜¯å¦åŒ…å«æ­¤å­—æ®µï¼Œé»˜è®¤ï¼Œtrueï¼Œå¯é€‰ã€‚")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("updatable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//è¡¨ç¤ºè¯¥å­—æ®µåœ¨æ•°æ®åº“ä¸­çš„å®é™…ç±»å‹ã€‚")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("columnDefinition")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æ•°æ®åº“å­—æ®µçš„é•¿åº¦ï¼Œå¯é€‰ï¼Œé»˜è®¤255")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("length")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("255")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("h3",{attrs:{id:"temporal"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#temporal"}},[s._v("#")]),s._v(" @Temporal")]),s._v(" "),n("p",[s._v("ç”¨æ¥è®¾ç½® Date ç±»å‹çš„å±æ€§æ˜ å°„åˆ°å¯¹åº”ç²¾åº¦çš„å­—æ®µï¼Œå­˜åœ¨ä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼š")]),s._v(" "),n("ul",[n("li",[s._v("@Temporal(TemporalType.DATE)æ˜ å°„ä¸ºæ—¥æœŸ // date ï¼ˆ"),n("strong",[s._v("åªæœ‰æ—¥æœŸ")]),s._v("ï¼‰")]),s._v(" "),n("li",[s._v("@Temporal(TemporalType.TIME)æ˜ å°„ä¸ºæ—¥æœŸ // time ï¼ˆ"),n("strong",[s._v("åªæœ‰æ—¶é—´")]),s._v("ï¼‰")]),s._v(" "),n("li",[s._v("@Temporal(TemporalType.TIMESTAMP)æ˜ å°„ä¸ºæ—¥æœŸ // date time ï¼ˆ"),n("strong",[s._v("æ—¥æœŸ+æ—¶é—´")]),s._v("ï¼‰")])]),s._v(" "),n("h3",{attrs:{id:"å®Œæ•´çš„ä¾‹å­"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å®Œæ•´çš„ä¾‹å­"}},[s._v("#")]),s._v(" å®Œæ•´çš„ä¾‹å­")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Entity")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Table")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user_topic"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Access")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AccessType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FIELD"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Data")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserTopic")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Id")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Column")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"id"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" nullable "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@GeneratedValue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("strategy "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GenerationType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("IDENTITY"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Integer")]),s._v(" id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Column")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"title"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" nullable "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" length "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Basic")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Column")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"create_user_id"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" nullable "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Integer")]),s._v(" createUserId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Basic")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fetch "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FetchType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LAZY"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Column")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"content"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" nullable "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" length "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Lob")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" content"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Basic")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fetch "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FetchType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LAZY"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Column")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"image"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" nullable "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Lob")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" image"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Basic")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Column")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"create_time"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" nullable "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Temporal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TemporalType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("TIMESTAMP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Date")]),s._v(" createTime"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Basic")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Column")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"create_date"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" nullable "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Temporal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TemporalType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("DATE"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Date")]),s._v(" createDate"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Enumerated")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("EnumType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("STRING"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Column")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"topic_type"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Type")]),s._v(" type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Transient")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" transientSimple"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//éæ•°æ®åº“æ˜ å°„å­—æ®µï¼Œä¸šåŠ¡ç±»å‹çš„å­—æ®µ")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getTransientSimple")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" title "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"auto:jack"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æœ‰ä¸€ä¸ªæšä¸¾ç±»ï¼Œä¸»é¢˜çš„ç±»å‹")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("enum")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Type")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("EN")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"è‹±æ–‡"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("CN")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ä¸­æ–‡"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" des"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Type")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" des"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("des "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" des"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br")])]),n("p",[s._v("å…¶å®è¿™é‡Œé¢çš„å¾ˆå¤šæ³¨è§£éƒ½å¯ä»¥çœç•¥ï¼Œç›´æ¥ä½¿ç”¨é»˜è®¤çš„å°±å¯ä»¥ã€‚å¦‚ @Basicã€@Column åå­—æœ‰ä¸€å®šçš„æ˜ å°„ç­–ç•¥ï¼ˆæˆ‘ä»¬åœ¨ç¬¬ 17 è¯¾æ—¶è®² DataSource çš„æ—¶å€™ä¼šè¯¦ç»†è®²è§£æ˜ å°„ç­–ç•¥ï¼‰ï¼Œæ‰€ä»¥å¯ä»¥çœç•¥ã€‚æ­¤å¤–ï¼Œ@Access ä¹Ÿå¯ä»¥çœç•¥ï¼Œæˆ‘ä»¬åªè¦åœ¨è¿™äº›ç±»é‡Œé¢ä¿æŒä¸€è‡´å°±å¯ä»¥äº†ã€‚å­¦ä¼š"),n("strong",[s._v("åˆ©ç”¨å·¥å…·å»ç”Ÿæˆ Entity ç±»")]),s._v("ï¼Œå°†ä¼šèŠ‚çœå¾ˆå¤šæ—¶é—´ã€‚")]),s._v(" "),n("p",[s._v("é¦–å…ˆï¼Œ"),n("strong",[s._v("æ‰“å¼€ Persistence è§†å›¾ï¼Œç‚¹å‡» Generate Persistence Mapping")]),s._v("ï¼Œæ¥ç€"),n("strong",[s._v("ç‚¹å‡»é€‰ä¸­æ•°æ®æº")]),s._v("ï¼Œç„¶åï¼Œ"),n("strong",[s._v("é€‰æ‹©è¡¨å’Œå­—æ®µï¼Œå¹¶ç‚¹å‡» OK")]),s._v("ã€‚")]),s._v(" "),n("p",[s._v("ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­æˆ‘ä»¬è¦æŠŠå¤–é”®å…³è”å…³ç³»å…³é—­ï¼Œä¸ç„¶ä¼šå‡ºç°æ„æƒ³ä¸åˆ°çš„ ERRORï¼Œæ¯•ç«Ÿç”Ÿäº§ç¯å¢ƒä¸åŒå¼€å‘ç¯å¢ƒï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨å¼€å‘ç¯å¢ƒç”Ÿæˆçš„è¡¨å¯¼å‡º DDL åˆ°ç”Ÿäº§æ‰§è¡Œã€‚æˆ‘ç»å¸¸ä¼šåˆ©ç”¨ç”Ÿæˆ DDL æ¥åšæµ‹è¯•å’Œå†™æ¡ˆä¾‹ï¼Œ è¿™æ ·çœå»äº†åˆ›å»ºè¡¨çš„æ—¶é—´ï¼Œåªéœ€è¦å…³æ³¨æˆ‘çš„ä»£ç å°±è¡Œäº†ã€‚")]),s._v(" "),n("h2",{attrs:{id:"è”åˆä¸»é”®"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è”åˆä¸»é”®"}},[s._v("#")]),s._v(" è”åˆä¸»é”®")]),s._v(" "),n("p",[s._v("å¯ä»¥é€šè¿‡ javax.persistence.EmbeddedId å’Œ javax.persistence.IdClass ä¸¤ä¸ªæ³¨è§£å®ç°è”åˆä¸»é”®çš„æ•ˆæœã€‚")]),s._v(" "),n("h3",{attrs:{id:"é€šè¿‡-id-å’Œ-idclass-åšåˆ°è”åˆä¸»é”®"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é€šè¿‡-id-å’Œ-idclass-åšåˆ°è”åˆä¸»é”®"}},[s._v("#")]),s._v(" é€šè¿‡@Id å’Œ @IdClass åšåˆ°è”åˆä¸»é”®")]),s._v(" "),n("p",[s._v("æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹æ€ä¹ˆé€šè¿‡ @IdClass åšåˆ°è”åˆä¸»é”®ã€‚")]),s._v(" "),n("p",[s._v("ç¬¬ä¸€æ­¥ï¼šæ–°å»ºä¸€ä¸ª UserInfoID ç±»é‡Œé¢æ˜¯è”åˆä¸»é”®ã€‚")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Data")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Builder")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@AllArgsConstructor")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@NoArgsConstructor")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserInfoID")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("telephone"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("ç¬¬äºŒæ­¥ï¼šå†æ–°å»ºä¸€ä¸ª UserInfo çš„å®ä½“ï¼Œé‡‡ç”¨ @IdClass å¼•ç”¨è”åˆä¸»é”®ç±»ã€‚")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Entity")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Data")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Builder")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@IdClass")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserInfoID")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@AllArgsConstructor")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@NoArgsConstructor")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserInfo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Integer")]),s._v(" ages"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Id")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Id")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" telephone"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("p",[s._v("ç¬¬ä¸‰æ­¥ï¼šæ–°å¢ä¸€ä¸ª UserInfoReposito ç±»æ¥åš CRUD æ“ä½œã€‚")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserInfoRepository")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JpaRepository")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserInfo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserInfoID")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("ç¬¬å››æ­¥ï¼šå†™ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œæµ‹è¯•ä¸€ä¸‹ã€‚")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@DataJpaTest")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserInfoRepositoryTest")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Autowired")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserInfoRepository")]),s._v(" userInfoRepository"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Test")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("testIdClass")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   userInfoRepository"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("save")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserInfo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("builder")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ages")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jack"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("telephone")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"123456789"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("build")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Optional")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserInfo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" userInfo "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" userInfoRepository"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("findById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserInfoID")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("builder")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jack"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("telephone")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"123456789"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("build")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("userInfo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("Hibernate: create table user_info (name varchar(255) not null, telephone varchar(255) not null, ages integer, primary key (name, telephone))\nHibernate: select userinfo0_.name as name1_3_0_, userinfo0_.telephone as telephon2_3_0_, userinfo0_.ages as ages3_3_0_ from user_info userinfo0_ where userinfo0_.name=? and userinfo0_.telephone=?\nUserInfo(ages=1, name=jack, telephone=123456789)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("é€šè¿‡ä¸Šé¢çš„ä¾‹å­æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬çš„è¡¨çš„ä¸»é”®æ˜¯ primary key (name, telephone)ï¼Œè€Œ Entity é‡Œé¢ä¸å†æ˜¯ä¸€ä¸ª @Id å­—æ®µäº†ã€‚é‚£ä¹ˆæˆ‘æ¥ä»‹ç»å¦å¤–ä¸€ä¸ªæ³¨è§£ @Embeddableï¼Œä¹Ÿèƒ½åšåˆ°è¿™ä¸€ç‚¹ã€‚")]),s._v(" "),n("h3",{attrs:{id:"embeddable-ä¸-embeddedid-æ³¨è§£ä½¿ç”¨"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#embeddable-ä¸-embeddedid-æ³¨è§£ä½¿ç”¨"}},[s._v("#")]),s._v(" @Embeddable ä¸ @EmbeddedId æ³¨è§£ä½¿ç”¨")]),s._v(" "),n("p",[s._v("ç¬¬ä¸€æ­¥ï¼šåœ¨æˆ‘ä»¬ä¸Šé¢ä¾‹å­ä¸­çš„ UserInfoID é‡Œé¢æ·»åŠ  @Embeddable æ³¨è§£ã€‚")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Data")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Builder")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@AllArgsConstructor")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@NoArgsConstructor")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Embeddable")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserInfoID")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("telephone"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("ç¬¬äºŒæ­¥ï¼šæ”¹ä¸€ä¸‹æˆ‘ä»¬åˆšæ‰çš„ User å¯¹è±¡ï¼Œåˆ é™¤ @IdClassï¼Œæ·»åŠ  @EmbeddedId æ³¨è§£ï¼Œå¦‚ä¸‹ï¼š")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Entity")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Data")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Builder")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@AllArgsConstructor")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@NoArgsConstructor")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserInfo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Integer")]),s._v(" ages"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@EmbeddedId")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserInfoID")]),s._v(" userInfoID"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Column")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("unique "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" uniqueNumber"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("p",[s._v("ç¬¬ä¸‰æ­¥ï¼šUserInfoRepository ä¸å˜ï¼Œæˆ‘ä»¬ç›´æ¥ä¿®æ”¹ä¸€ä¸‹æµ‹è¯•ç”¨ä¾‹ã€‚")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Test")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("testIdClass")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  userInfoRepository"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("save")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserInfo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("builder")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ages")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("userInfoID")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserInfoID")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("builder")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jack"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("telephone")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"123456789"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("build")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("build")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Optional")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserInfo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" userInfo "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" userInfoRepository"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("findById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserInfoID")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("builder")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jack"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("telephone")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"123456789"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("build")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("userInfo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("è¿è¡Œå®Œä¹‹åï¼Œä½ å¯ä»¥å¾—åˆ°ç›¸åŒçš„ç»“æœã€‚é‚£ä¹ˆ @IdClass å’Œ @EmbeddedId çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»¥ä¸‹ä¸¤ä¸ªæ–¹é¢ï¼š")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("å¦‚ä¸Šé¢æµ‹è¯•ç”¨ä¾‹ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™ï¼ŒEmbedded ç”¨çš„æ˜¯å¯¹è±¡ï¼Œè€Œ IdClass ç”¨çš„æ˜¯å…·ä½“çš„æŸä¸€ä¸ªå­—æ®µï¼›")])]),s._v(" "),n("li",[n("p",[s._v("äºŒè€…çš„JPQL ä¹Ÿä¼šä¸ä¸€æ ·ï¼š")]),s._v(" "),n("p",[s._v("ç”¨ @IdClass JPQL çš„å†™æ³•ï¼šSELECT u.name FROM UserInfo u")]),s._v(" "),n("p",[s._v("ç”¨ @EmbeddedId çš„ JPQL çš„å†™æ³•ï¼šselect u.userInfoId.name FROM UserInfo u")])])]),s._v(" "),n("p",[s._v("è”åˆä¸»é”®è¿˜æœ‰éœ€è¦æ³¨æ„çš„å°±æ˜¯ï¼Œå®ƒä¸å”¯ä¸€æ€§ç´¢å¼•çº¦æŸçš„åŒºåˆ«æ˜¯å†™æ³•ä¸åŒï¼Œå¦‚ä¸Šé¢æ‰€è®²ï¼Œå”¯ä¸€æ€§ç´¢å¼•çš„å†™æ³•å¦‚ä¸‹ï¼š")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Column")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("unique "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" uniqueNumber"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("åˆ°è¿™é‡Œï¼Œè”åˆä¸»é”®æˆ‘ä»¬è®²å®Œäº†ï¼Œé‚£ä¹ˆåœ¨é‡åˆ°è”åˆä¸»é”®çš„æ—¶å€™ï¼Œåˆ©ç”¨ @IdClassã€@EmbeddedIdï¼Œä½ å°±å¯ä»¥åº”å¯¹è”åˆä¸»é”®äº†ã€‚")]),s._v(" "),n("p",[s._v("æ­¤å¤–ï¼ŒJava æ˜¯é¢å‘å¯¹è±¡çš„ï¼Œè‚¯å®šä¼šç”¨åˆ°å¤šæ€çš„ä½¿ç”¨åœºæ™¯ï¼Œé‚£ä¹ˆåœºæ™¯éƒ½æœ‰å“ªäº›ï¼Ÿå…¬å…±çˆ¶ç±»åˆè¯¥å¦‚ä½•å†™ï¼Ÿæˆ‘ä»¬æ¥å­¦ä¹ ä¸€ä¸‹ã€‚")]),s._v(" "),n("h2",{attrs:{id:"å®ä½“ä¹‹é—´çš„ç»§æ‰¿å…³ç³»å¦‚ä½•å®ç°ï¼ŸğŸ”¥"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å®ä½“ä¹‹é—´çš„ç»§æ‰¿å…³ç³»å¦‚ä½•å®ç°ï¼ŸğŸ”¥"}},[s._v("#")]),s._v(" å®ä½“ä¹‹é—´çš„ç»§æ‰¿å…³ç³»å¦‚ä½•å®ç°ï¼ŸğŸ”¥")]),s._v(" "),n("p",[s._v("åœ¨ Java é¢å‘å¯¹è±¡çš„è¯­è¨€ç¯å¢ƒä¸­ï¼Œ@Entity ä¹‹é—´çš„å…³ç³»å¤šç§å¤šæ ·ï¼Œè€Œæ ¹æ® JPA çš„è§„èŒƒï¼Œæˆ‘ä»¬å¤§è‡´å¯ä»¥å°†å…¶åˆ†ä¸ºä»¥ä¸‹å‡ ç§ï¼š")]),s._v(" "),n("ol",[n("li",[s._v("çº¯ç²¹çš„ç»§æ‰¿ï¼Œå’Œè¡¨æ²¡å…³ç³»ï¼Œ"),n("strong",[s._v("å¯¹è±¡ä¹‹é—´çš„å­—æ®µå…±äº«")]),s._v("ã€‚åˆ©ç”¨æ³¨è§£ "),n("strong",[s._v("@MappedSuperclass")]),s._v("ï¼Œ"),n("strong",[s._v("åè®®è§„å®šçˆ¶ç±»ä¸èƒ½æ˜¯ @Entity")]),s._v("ã€‚")]),s._v(" "),n("li",[s._v("å•è¡¨å¤šæ€é—®é¢˜ï¼ŒåŒä¸€å¼  Tableï¼Œè¡¨ç¤ºäº†ä¸åŒçš„å¯¹è±¡ï¼Œé€šè¿‡ä¸€ä¸ªå­—æ®µæ¥è¿›è¡ŒåŒºåˆ†ã€‚åˆ©ç”¨"),n("code",[s._v("@Inheritance(strategy = InheritanceType.SINGLE_TABLE)")]),s._v("æ³¨è§£å®Œæˆï¼Œåªæœ‰çˆ¶ç±»æœ‰ @Tableã€‚")]),s._v(" "),n("li",[s._v("å¤šè¡¨å¤šæ€ï¼Œæ¯ä¸€ä¸ªå­ç±»ä¸€å¼ è¡¨ï¼Œçˆ¶ç±»çš„è¡¨æ‹¥æœ‰æ‰€æœ‰å…¬ç”¨å­—æ®µã€‚é€šè¿‡"),n("code",[s._v("@Inheritance(strategy = InheritanceType.JOINED)")]),s._v("æ³¨è§£å®Œæˆï¼Œçˆ¶ç±»å’Œå­ç±»éƒ½æ˜¯è¡¨ï¼Œæœ‰å…¬ç”¨çš„å­—æ®µåœ¨çˆ¶è¡¨é‡Œé¢ã€‚")]),s._v(" "),n("li",[s._v("Object çš„ç»§æ‰¿ï¼Œæ•°æ®åº“é‡Œé¢æ¯ä¸€å¼ è¡¨æ˜¯åˆ†å¼€çš„ï¼Œç›¸äº’ç‹¬ç«‹ä¸å—å½±å“ã€‚é€šè¿‡"),n("code",[s._v("@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)")]),s._v("æ³¨è§£å®Œæˆï¼Œçˆ¶ç±»ï¼ˆå¯ä»¥æ˜¯ä¸€å¼ è¡¨ï¼Œä¹Ÿå¯ä»¥ä¸æ˜¯ï¼‰å’Œå­ç±»éƒ½æ˜¯è¡¨ï¼Œç›¸äº’ä¹‹é—´æ²¡æœ‰å…³ç³»ã€‚")])]),s._v(" "),n("h4",{attrs:{id:"mappedsuperclass-ğŸ”¥"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mappedsuperclass-ğŸ”¥"}},[s._v("#")]),s._v(" @MappedSuperclass ğŸ”¥")]),s._v(" "),n("p",[s._v("å…¶ä¸­ï¼Œç¬¬ä¸€ç§ @MappedSuperclassï¼Œæˆ‘ä»¬æš‚æ—¶ä¸å¤šä»‹ç»ï¼Œåœ¨ç¬¬ 12 è¯¾æ—¶è®²è§£â€œJPA çš„å®¡è®¡åŠŸèƒ½â€æ—¶ï¼Œå†åšè¯¦ç»†ä»‹ç»ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹ç¬¬äºŒç§"),n("code",[s._v("SINGLE_TABLE")]),s._v("ã€‚")]),s._v(" "),n("h4",{attrs:{id:"inheritance-strategy-inheritancetype-single-table"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#inheritance-strategy-inheritancetype-single-table"}},[s._v("#")]),s._v(" @Inheritance(strategy = InheritanceType.SINGLE_TABLE)")]),s._v(" "),n("p",[s._v("çˆ¶ç±»å®ä½“å¯¹è±¡ä¸å„ä¸ªå­å®ä½“å¯¹è±¡å…±ç”¨ä¸€å¼ è¡¨ï¼Œé€šè¿‡ä¸€ä¸ªå­—æ®µçš„ä¸åŒå€¼ä»£è¡¨ä¸åŒçš„å¯¹è±¡ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ã€‚")]),s._v(" "),n("p",[s._v("æˆ‘ä»¬æŠ½è±¡ä¸€ä¸ª Book å¯¹è±¡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Entity")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"book"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Data")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Inheritance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("strategy "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InheritanceType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SINGLE_TABLE"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@DiscriminatorColumn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"color"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" discriminatorType "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DiscriminatorType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("STRING"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Book")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Id")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@GeneratedValue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("strategy"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GenerationType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AUTO"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Long")]),s._v(" id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("p",[s._v("å†æ–°å»ºä¸€ä¸ª BlueBook å¯¹è±¡ï¼Œä½œä¸º Book çš„å­å¯¹è±¡ã€‚")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Entity")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Data")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@EqualsAndHashCode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("callSuper"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@DiscriminatorValue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"blue"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BlueBook")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Book")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" blueMark"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("å†æ–°å»ºä¸€ä¸ª RedBook å¯¹è±¡ï¼Œä½œä¸º Book çš„å¦ä¸€å­å¯¹è±¡ã€‚")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//çº¢çš®ä¹¦")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Entity")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@DiscriminatorValue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"red"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Data")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@EqualsAndHashCode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("callSuper"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RedBook")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Book")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" redMark"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("è¿™æ—¶ï¼Œæˆ‘ä»¬ä¸€å…±æ–°å»ºäº†ä¸‰ä¸ª Entity å¯¹è±¡ï¼Œå…¶å®éƒ½æ˜¯æŒ‡ book è¿™ä¸€å¼ è¡¨ï¼Œé€šè¿‡ book è¡¨é‡Œé¢çš„ color å­—æ®µæ¥åŒºåˆ†çº¢ä¹¦è¿˜æ˜¯ç»¿ä¹¦ã€‚æˆ‘ä»¬ç»§ç»­åšä¸€ä¸‹æµ‹è¯•çœ‹çœ‹ç»“æœã€‚")]),s._v(" "),n("p",[s._v("æˆ‘ä»¬å†æ–°å»ºä¸€ä¸ª RedBookRepositor ç±»ï¼Œæ“ä½œä¸€ä¸‹ RedBook ä¼šçœ‹åˆ°å¦‚ä¸‹ç»“æœï¼š")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RedBookRepository")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JpaRepository")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RedBook")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Long")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("ç„¶åå†æ–°å»ºä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ã€‚")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@DataJpaTest")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RedBookRepositoryTest")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Autowired")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RedBookRepository")]),s._v(" redBookRepository"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Test")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("testRedBook")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RedBook")]),s._v(" redBook "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RedBook")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      redBook"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("setTitle")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"redbook"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      redBook"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("setRedMark")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"redmark"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      redBook"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("setId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1L")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      redBookRepository"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("saveAndFlush")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("redBook"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RedBook")]),s._v(" r "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" redBookRepository"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("findById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1L")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("r"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('":"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("r"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getTitle")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('":"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("r"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getRedMark")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[s._v("æœ€åçœ‹ä¸€ä¸‹æ‰§è¡Œç»“æœã€‚")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("Hibernate: create table book (color varchar(31) not null, id bigint not null, title varchar(255), blue_mark varchar(255), red_mark varchar(255), primary key (id))\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("ä½ ä¼šå‘ç°ï¼Œæˆ‘ä»¬åªåˆ›å»ºäº†ä¸€å¼ è¡¨ï¼Œinsert äº†ä¸€æ¡æ•°æ®ï¼Œä½†æ˜¯æˆ‘ä»¬å‘ç° color å­—æ®µé»˜è®¤ç»™çš„æ˜¯ redã€‚")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("Hibernate: insert into book (title, red_mark, color, id) values (?, ?, 'red', ?)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("é‚£ä¹ˆå†çœ‹ä¸€ä¸‹æ‰“å°ç»“æœã€‚")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1:redbook:redmark\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("ç»“æœå®Œå…¨å’Œé¢„æœŸçš„ä¸€æ ·ï¼Œè¿™è¯´æ˜äº† RedBookã€BlueBookã€Bookï¼Œéƒ½æ˜¯ä¸€å¼ è¡¨ï¼Œé€šè¿‡å­—æ®µ color çš„å€¼ä¸ä¸€æ ·ï¼Œæ¥åŒºåˆ†ä¸åŒçš„å®ä½“ã€‚\né‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€ä¸‹ InheritanceType.JOINEDï¼Œå®ƒçš„æ¯ä¸ªå®ä½“éƒ½æ˜¯ç‹¬ç«‹çš„è¡¨ã€‚")]),s._v(" "),n("h4",{attrs:{id:"inheritance-strategy-inheritancetype-joined"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#inheritance-strategy-inheritancetype-joined"}},[s._v("#")]),s._v(" @Inheritance(strategy = InheritanceType.JOINED)")]),s._v(" "),n("p",[s._v("åœ¨è¿™ç§æ˜ å°„ç­–ç•¥é‡Œé¢ï¼Œç»§æ‰¿ç»“æ„ä¸­çš„æ¯ä¸€ä¸ªå®ä½“ï¼ˆentityï¼‰ç±»éƒ½ä¼šæ˜ å°„åˆ°æ•°æ®åº“é‡Œä¸€ä¸ªå•ç‹¬çš„è¡¨ä¸­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ªå®ä½“ï¼ˆentityï¼‰éƒ½ä¼šè¢«æ˜ å°„åˆ°æ•°æ®åº“ä¸­ï¼Œä¸€ä¸ªå®ä½“ï¼ˆentityï¼‰ç±»å¯¹åº”æ•°æ®åº“ä¸­çš„ä¸€ä¸ªè¡¨ã€‚")]),s._v(" "),n("p",[s._v("å…¶ä¸­æ ¹å®ä½“ï¼ˆroot entityï¼‰å¯¹åº”çš„è¡¨ä¸­å®šä¹‰äº†ä¸»é”®ï¼ˆprimary keyï¼‰ï¼Œæ‰€æœ‰çš„å­ç±»å¯¹åº”çš„æ•°æ®åº“è¡¨éƒ½è¦å…±åŒä½¿ç”¨ Book é‡Œé¢çš„ @ID è¿™ä¸ªä¸»é”®ã€‚")]),s._v(" "),n("p",[s._v("é¦–å…ˆï¼Œæˆ‘ä»¬æ”¹ä¸€ä¸‹ä¸Šé¢çš„ä¸‰ä¸ªå®ä½“ï¼Œæµ‹è¯•ä¸€ä¸‹InheritanceType.JOINEDï¼Œæ”¹åŠ¨å¦‚ä¸‹ï¼š")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Entity")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"book"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Data")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Inheritance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("strategy "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InheritanceType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("JOINED"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Book")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Id")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@GeneratedValue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("strategy"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GenerationType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AUTO"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Long")]),s._v(" id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("å…¶æ¬¡ï¼Œæˆ‘ä»¬ Book çˆ¶ç±»ã€æ”¹å˜ Inheritance ç­–ç•¥ã€åˆ é™¤ DiscriminatorColumnï¼Œä½ ä¼šçœ‹åˆ°å¦‚ä¸‹ç»“æœã€‚")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Entity")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Data")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@EqualsAndHashCode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("callSuper"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@PrimaryKeyJoinColumn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"book_id"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" referencedColumnName "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"id"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BlueBook")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Book")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" blueMark"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Entity")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@PrimaryKeyJoinColumn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"book_id"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" referencedColumnName "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"id"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Data")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@EqualsAndHashCode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("callSuper"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RedBook")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Book")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" redMark"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("p",[s._v('ç„¶åï¼ŒBlueBookå’ŒRedBookä¹Ÿåˆ é™¤DiscriminatorColumnï¼Œæ–°å¢@PrimaryKeyJoinColumn(name = "book_id", referencedColumnName = "id")ï¼Œå’Œ book çˆ¶ç±»å…±ç”¨ä¸€ä¸ªä¸»é”®å€¼ï¼Œè€Œ RedBookRepository å’Œæµ‹è¯•ç”¨ä¾‹ä¸å˜ï¼Œæˆ‘ä»¬æ‰§è¡Œçœ‹ä¸€ä¸‹ç»“æœã€‚')]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("Hibernate: create table blue_book (blue_mark varchar(255), book_id bigint not null, primary key (book_id))\nHibernate: create table book (id bigint not null, title varchar(255), primary key (id))\nHibernate: create table red_book (red_mark varchar(255), book_id bigint not null, primary key (book_id))\nHibernate: alter table blue_book add constraint FK9uuwgq7a924vtnys1rgiyrlk7 foreign key (book_id) references book\nHibernate: alter table red_book add constraint FKk8rvl61bjy9lgsr9nhxn5soq5 foreign key (book_id) references book\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("ä¸Šè¿°ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ä¸€å…±åˆ›å»ºäº†ä¸‰å¼ è¡¨ï¼Œå¹¶ä¸”æ–°å¢äº†ä¸¤ä¸ªå¤–é”®çº¦æŸï¼›è€Œæˆ‘ä»¬ save çš„æ—¶å€™ä¹Ÿç”Ÿæˆäº†ä¸¤ä¸ª insert è¯­å¥ï¼Œå¦‚ä¸‹ï¼š")]),s._v(" "),n("div",{staticClass:"language-j line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-j"}},[n("code",[s._v("Hibernate"),n("span",{pre:!0,attrs:{class:"token conjunction variable"}},[s._v(":")]),s._v(" insert into book "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("title"),n("span",{pre:!0,attrs:{class:"token verb keyword"}},[s._v(",")]),s._v(" id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" values "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token verb keyword"}},[s._v("?")]),n("span",{pre:!0,attrs:{class:"token verb keyword"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token verb keyword"}},[s._v("?")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nHibernate"),n("span",{pre:!0,attrs:{class:"token conjunction variable"}},[s._v(":")]),s._v(" insert into red_book "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("red_mark"),n("span",{pre:!0,attrs:{class:"token verb keyword"}},[s._v(",")]),s._v(" book_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" values "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token verb keyword"}},[s._v("?")]),n("span",{pre:!0,attrs:{class:"token verb keyword"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token verb keyword"}},[s._v("?")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("è€Œæ‰“å°ç»“æœä¾ç„¶ä¸å˜ã€‚")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1:redbook:redmark\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("è¿™å°±æ˜¯ InheritanceType.JOINED çš„ä¾‹å­ï¼Œè¿™ä¸ªæ–¹æ³•å’Œä¸Šé¢çš„ InheritanceType.SINGLE_TABLE åŒºåˆ«åœ¨äºè¡¨çš„æ•°é‡å’Œå…³ç³»ä¸ä¸€æ ·ï¼Œè¿™æ˜¯è¡¨è®¾è®¡çš„å¦ä¸€ç§æ–¹å¼ã€‚")]),s._v(" "),n("h4",{attrs:{id:"inheritance-strategy-inheritancetype-table-per-class-ğŸ”¥"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#inheritance-strategy-inheritancetype-table-per-class-ğŸ”¥"}},[s._v("#")]),s._v(" @Inheritance(strategy = InheritanceType.TABLE_PER_CLASS) ğŸ”¥")]),s._v(" "),n("p",[s._v("æˆ‘ä»¬åœ¨ä½¿ç”¨ @MappedSuperClass ä¸»é”®çš„æ—¶å€™ï¼Œå¦‚æœä¸æŒ‡å®š @Inhertanceï¼Œé»˜è®¤å°±æ˜¯æ­¤ç§TABLE_PER_CLASSæ¨¡å¼ã€‚å½“ç„¶äº†ï¼Œæˆ‘ä»¬ä¹Ÿæ˜¾ç¤ºæŒ‡å®šï¼Œè¦æ±‚ç»§æ‰¿åŸºç±»çš„éƒ½æ˜¯ä¸€å¼ è¡¨ï¼Œè€Œçˆ¶ç±»ä¸æ˜¯è¡¨ï¼Œæ˜¯ java å¯¹è±¡çš„æŠ½è±¡ç±»ã€‚æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ã€‚")]),s._v(" "),n("p",[s._v("é¦–å…ˆï¼Œè¿˜æ˜¯æ”¹ä¸€ä¸‹ä¸Šé¢çš„ä¸‰ä¸ªå®ä½“ã€‚")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Entity")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"book"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Data")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Inheritance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("strategy "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InheritanceType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("TABLE_PER_CLASS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Book")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Id")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@GeneratedValue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("strategy"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GenerationType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AUTO"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Long")]),s._v(" id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("å…¶æ¬¡ï¼ŒBook è¡¨é‡‡ç”¨ TABLE_PER_CLASS ç­–ç•¥ï¼Œå…¶å­å®ä½“ç±»éƒ½ä»£è¡¨å„è‡ªçš„è¡¨ï¼Œå®ä½“ä»£ç å¦‚ä¸‹ï¼š")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Entity")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Data")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@EqualsAndHashCode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("callSuper"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RedBook")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Book")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" redMark"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Entity")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Data")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@EqualsAndHashCode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("callSuper"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BlueBook")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Book")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" blueMark"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[s._v("è¿™æ—¶ï¼Œä» RedBook å’Œ BlueBook é‡Œé¢å»æ‰ PrimaryKeyJoinColumnï¼Œè€Œ RedBookRepository å’Œæµ‹è¯•ç”¨ä¾‹ä¸å˜ï¼Œæˆ‘ä»¬æ‰§è¡Œçœ‹ä¸€ä¸‹ç»“æœã€‚")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("Hibernate: create table blue_book (id bigint not null, title varchar(255), blue_mark varchar(255), primary key (id))\nHibernate: create table book (id bigint not null, title varchar(255), primary key (id))\nHibernate: create table red_book (id bigint not null, title varchar(255), red_mark varchar(255), primary key (id))\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬è¿˜æ˜¯åˆ›å»ºäº†ä¸‰å¼ è¡¨ï¼Œä½†ä¸‰å¼ è¡¨ä»€ä¹ˆå…³ç³»ä¹Ÿæ²¡æœ‰ã€‚è€Œ insert è¯­å¥ä¹Ÿåªæœ‰ä¸€æ¡ï¼Œå¦‚ä¸‹ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("Hibernate: insert into red_book (title, red_mark, id) values (?, ?, ?)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("æ‰“å°ç»“æœè¿˜æ˜¯ä¸å˜ã€‚")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1:redbook:redmark\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("è¿™ä¸ªæ–¹æ³•ä¸ä¸Šé¢ä¸¤ä¸ªç›¸æ¯”è¾ƒï¼Œè¯­ä¹‰æ›´åŠ æ¸…æ™°ï¼Œæ˜¯æ¯”è¾ƒå¸¸ç”¨çš„ä¸€ç§åšæ³•ã€‚\nä»¥ä¸Šå°±æ˜¯å®ä½“ä¹‹é—´ç»§æ‰¿å…³ç³»çš„å®ç°æ–¹æ³•ï¼Œå¯ä»¥åœ¨æ¶‰åŠ java å¤šæ€çš„æ—¶å€™åŠ ä»¥åº”ç”¨ï¼Œä¸è¿‡è¦æ³¨æ„åŒºåˆ†ä¸‰ç§æ–¹å¼æ‰€è¡¨è¾¾çš„è¡¨çš„æ„æ€ï¼Œå†åŠ ä»¥è¿ç”¨ã€‚")]),s._v(" "),n("h4",{attrs:{id:"å…³äºç»§æ‰¿å…³ç³»çš„ç»éªŒä¹‹è°ˆ-inheritance-è¢«æ·˜æ±°-ğŸ”¥"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å…³äºç»§æ‰¿å…³ç³»çš„ç»éªŒä¹‹è°ˆ-inheritance-è¢«æ·˜æ±°-ğŸ”¥"}},[s._v("#")]),s._v(" å…³äºç»§æ‰¿å…³ç³»çš„ç»éªŒä¹‹è°ˆâ€”@Inheritance è¢«æ·˜æ±° ğŸ”¥")]),s._v(" "),n("p",[s._v("ä»æˆ‘çš„ä¸ªäººç»éªŒæ¥çœ‹ï¼Œ@Inheritance çš„è¿™ç§ä½¿ç”¨æ–¹å¼ä¼šé€æ¸è¢«æ·˜æ±°ï¼Œå› ä¸ºè¿™æ ·çš„è¡¨çš„è®¾è®¡å¾ˆå¤æ‚ï¼Œæœ¬åº”è¯¥åœ¨ä¸šåŠ¡å±‚é¢åšçš„äº‹æƒ…ï¼ˆå¤šæ€ï¼‰ï¼Œè€Œåœ¨ datasoure çš„è¡¨çº§åˆ«åšäº†ã€‚æ‰€ä»¥åœ¨ JPA ä¸­ä½¿ç”¨è¿™ä¸ªçš„æ—¶å€™ä½ å°±ä¼šæƒ³ï¼šâ€œè¿™ä¹ˆå¤æ‚çš„ä¸œè¥¿ï¼Œæˆ‘ç›´æ¥ç”¨ Mybatis ç®—äº†ã€‚â€æˆ‘æƒ³å‘Šè¯‰ä½ ï¼Œå…¶å®å®ƒä»¬æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯æˆ‘ä»¬ä½¿ç”¨çš„æ€è·¯ä¸å¯¹ã€‚")]),s._v(" "),n("p",[s._v("é‚£ä¹ˆä¸ºä»€ä¹ˆè¡Œä¸šå†…éƒ½ä¸å»ºè®®ä½¿ç”¨äº†ï¼Œè¿˜è¦ä»‹ç»è¿™ä¹ˆè¯¦ç»†å‘¢ï¼Ÿå› ä¸ºï¼Œå¦‚æœä½ é‡åˆ°çš„æ˜¯è€ä¸€ç‚¹çš„é¡¹ç›®ï¼Œå¦‚æœä¸æ˜¯ç”¨ Java è¯­è¨€å†™çš„ï¼Œä¸ä¸€å®šæœ‰é¢å‘å¯¹è±¡çš„æ€æƒ³ã€‚è¿™ä¸ªæ—¶å€™å¦‚æœè®©ä½ è¿ç§»æˆ Java æ€ä¹ˆåŠï¼Ÿå¦‚æœä½ å¯ä»¥æƒ³åˆ°è¿™ç§ç”¨æ³•ï¼Œå°±ä¸è‡³äºæŸæ‰‹æ— æªã€‚")]),s._v(" "),n("p",[s._v("æ­¤å¤–ï¼Œåœ¨äº’è”ç½‘é¡¹ç›®ä¸­ï¼Œä¸€æ—¦æœ‰å…³è¡¨çš„ä¸šåŠ¡å¯¹è±¡è¿‡å¤šäº†ä¹‹åï¼Œå°±å¯ä»¥æ‹†è¡¨æ‹†åº“äº†ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬è¦æƒ³åˆ°æˆ‘ä»¬çš„@Table æ³¨è§£æŒ‡å®šè¡¨åå’Œ schemaã€‚")]),s._v(" "),n("p",[s._v("å…³äºä¸Šé¢æåˆ°çš„æ–¹æ³•ä¸­ï¼Œæœ€å¸¸ç”¨çš„æ˜¯ç¬¬ä¸€ç§ @MappedSuperclassï¼Œè¿™ä¸ªæˆ‘ä»¬å°†åœ¨ç¬¬ 12 è¯¾æ—¶â€œJPA çš„å®¡è®¡åŠŸèƒ½è§£å†³äº†å“ªäº›é—®é¢˜ï¼Ÿâ€ä¸­è¯¦ç»†ä»‹ç»ï¼Œåˆ°æ—¶å€™ä½ å¯ä»¥ä½“éªŒä¸€ä¸‹å®ƒçš„ä¸åŒä¹‹å¤„ã€‚")]),s._v(" "),n("h3",{attrs:{id:"æ€»ç»“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[s._v("#")]),s._v(" æ€»ç»“")]),s._v(" "),n("p",[s._v("Entity é‡Œé¢å¸¸ç”¨çš„åŸºæœ¬æ³¨è§£æˆ‘ä»¬å°±ä»‹ç»åˆ°è¿™é‡Œï¼Œå› ä¸ºæ³¨è§£å¤ªå¤šæ²¡åŠæ³•ä¸€ä¸€ä»‹ç»ï¼Œä½ å¯ä»¥æŒæ¡ä¸€ä¸‹å­¦ä¹ æ–¹æ³•ã€‚å…ˆé€šè¿‡æºç æŠŠå¤§è‡´æ³¨è§£çœ‹ä¸€ä¸‹ï¼Œæœ‰å“ªäº›ä¸ç†Ÿæ‚‰çš„å¯ä»¥çœ‹çœ‹æºç é‡Œé¢çš„æ³¨é‡Šï¼Œå†é˜…è¯» JPA å®˜æ–¹åè®®ï¼Œè¿˜å¯ä»¥å†™ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹è¯•ï¼Œè·‘ä¸€ä¸‹çœ‹çœ‹ sql è¾“å‡ºå’Œæ—¥å¿—ï¼Œè¿™æ ·å¾ˆå¿«å°±å¯ä»¥çŸ¥é“ç»“æœäº†ã€‚")]),s._v(" "),n("h2",{attrs:{id:"é™„-spring-mvc-æµ‹è¯•"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é™„-spring-mvc-æµ‹è¯•"}},[s._v("#")]),s._v(" é™„. Spring MVC æµ‹è¯•")]),s._v(" "),n("p",[s._v("åœ¨ /src/test/resources ä¸­åˆ›å»º JpaApplication.http æ–‡ä»¶")]),s._v(" "),n("div",{staticClass:"language-h line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('### æ–°å¢ï¼ˆæ³¨æ„è¯·æ±‚ç©ºè¡Œï¼ï¼‰\nPOST /api/v1/user HTTP/1.1\nHost: 127.0.0.1:10000\nContent-Type: application/json\nCache-Control: no-cache\n\n{"name":"jack","email":"123@126.com"}\n\n\n### æŸ¥è¯¢ï¼ˆæˆ‘ä¹Ÿä¸ç›´åˆ°ä¸ºå•¥è¿™ä¸ªå¿…é¡»åŠ  ip + port\nGET http://127.0.0.1:10000/api/v1/users?size=3&page=0\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("h2",{attrs:{id:"æœªæ•´ç†-ğŸ”¥"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æœªæ•´ç†-ğŸ”¥"}},[s._v("#")]),s._v(" æœªæ•´ç† ğŸ”¥")]),s._v(" "),n("ul",[n("li",[s._v("saveå¯¹nullï¼ŒDynamicUpdate")]),s._v(" "),n("li",[s._v("æ§åˆ¶å°æ€ä¹ˆæ‰“å°å‡ºçš„binding parameterï¼šlogging.level.org.hibernate.type.descriptor.sql=TRACE")])])])}),[],!1,null,null,null);a.default=e.exports}}]);